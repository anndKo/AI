var Tk=Object.defineProperty;var Cm=t=>{throw TypeError(t)};var Rk=(t,e,r)=>e in t?Tk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var wi=(t,e,r)=>Rk(t,typeof e!="symbol"?e+"":e,r),Iu=(t,e,r)=>e.has(t)||Cm("Cannot "+r);var O=(t,e,r)=>(Iu(t,e,"read from private field"),r?r.call(t):e.get(t)),ke=(t,e,r)=>e.has(t)?Cm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),de=(t,e,r,n)=>(Iu(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ct=(t,e,r)=>(Iu(t,e,"access private method"),r);var Qa=(t,e,r,n)=>({set _(s){de(t,e,s,r)},get _(){return O(t,e,n)}});function Nk(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function jy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Py={exports:{}},$c={},Ay={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Da=Symbol.for("react.element"),jk=Symbol.for("react.portal"),Pk=Symbol.for("react.fragment"),Ak=Symbol.for("react.strict_mode"),Ok=Symbol.for("react.profiler"),Ik=Symbol.for("react.provider"),Dk=Symbol.for("react.context"),Mk=Symbol.for("react.forward_ref"),Lk=Symbol.for("react.suspense"),$k=Symbol.for("react.memo"),Uk=Symbol.for("react.lazy"),Tm=Symbol.iterator;function Fk(t){return t===null||typeof t!="object"?null:(t=Tm&&t[Tm]||t["@@iterator"],typeof t=="function"?t:null)}var Oy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iy=Object.assign,Dy={};function ii(t,e,r){this.props=t,this.context=e,this.refs=Dy,this.updater=r||Oy}ii.prototype.isReactComponent={};ii.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ii.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function My(){}My.prototype=ii.prototype;function ff(t,e,r){this.props=t,this.context=e,this.refs=Dy,this.updater=r||Oy}var pf=ff.prototype=new My;pf.constructor=ff;Iy(pf,ii.prototype);pf.isPureReactComponent=!0;var Rm=Array.isArray,Ly=Object.prototype.hasOwnProperty,mf={current:null},$y={key:!0,ref:!0,__self:!0,__source:!0};function Uy(t,e,r){var n,s={},o=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)Ly.call(e,n)&&!$y.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Da,type:t,key:o,ref:i,props:s,_owner:mf.current}}function zk(t,e){return{$$typeof:Da,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Da}function Bk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Nm=/\/+/g;function Du(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bk(""+t.key):e.toString(36)}function Cl(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Da:case jk:i=!0}}if(i)return i=t,s=s(i),t=n===""?"."+Du(i,0):n,Rm(s)?(r="",t!=null&&(r=t.replace(Nm,"$&/")+"/"),Cl(s,e,r,"",function(c){return c})):s!=null&&(gf(s)&&(s=zk(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Nm,"$&/")+"/")+t)),e.push(s)),1;if(i=0,n=n===""?".":n+":",Rm(t))for(var a=0;a<t.length;a++){o=t[a];var l=n+Du(o,a);i+=Cl(o,e,r,l,s)}else if(l=Fk(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=n+Du(o,a++),i+=Cl(o,e,r,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Ya(t,e,r){if(t==null)return t;var n=[],s=0;return Cl(t,n,"","",function(o){return e.call(r,o,s++)}),n}function Vk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},Tl={transition:null},Wk={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:Tl,ReactCurrentOwner:mf};function Fy(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Ya,forEach:function(t,e,r){Ya(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ya(t,function(){e++}),e},toArray:function(t){return Ya(t,function(e){return e})||[]},only:function(t){if(!gf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=ii;ge.Fragment=Pk;ge.Profiler=Ok;ge.PureComponent=ff;ge.StrictMode=Ak;ge.Suspense=Lk;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wk;ge.act=Fy;ge.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Iy({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=mf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ly.call(e,l)&&!$y.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Da,type:t.type,key:s,ref:o,props:n,_owner:i}};ge.createContext=function(t){return t={$$typeof:Dk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ik,_context:t},t.Consumer=t};ge.createElement=Uy;ge.createFactory=function(t){var e=Uy.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:Mk,render:t}};ge.isValidElement=gf;ge.lazy=function(t){return{$$typeof:Uk,_payload:{_status:-1,_result:t},_init:Vk}};ge.memo=function(t,e){return{$$typeof:$k,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Tl.transition;Tl.transition={};try{t()}finally{Tl.transition=e}};ge.unstable_act=Fy;ge.useCallback=function(t,e){return xt.current.useCallback(t,e)};ge.useContext=function(t){return xt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return xt.current.useEffect(t,e)};ge.useId=function(){return xt.current.useId()};ge.useImperativeHandle=function(t,e,r){return xt.current.useImperativeHandle(t,e,r)};ge.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return xt.current.useMemo(t,e)};ge.useReducer=function(t,e,r){return xt.current.useReducer(t,e,r)};ge.useRef=function(t){return xt.current.useRef(t)};ge.useState=function(t){return xt.current.useState(t)};ge.useSyncExternalStore=function(t,e,r){return xt.current.useSyncExternalStore(t,e,r)};ge.useTransition=function(){return xt.current.useTransition()};ge.version="18.3.1";Ay.exports=ge;var h=Ay.exports;const B=jy(h),vf=Nk({__proto__:null,default:B},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk=h,qk=Symbol.for("react.element"),Kk=Symbol.for("react.fragment"),Gk=Object.prototype.hasOwnProperty,Qk=Hk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yk={key:!0,ref:!0,__self:!0,__source:!0};function zy(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)Gk.call(e,n)&&!Yk.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:qk,type:t,key:o,ref:i,props:s,_owner:Qk.current}}$c.Fragment=Kk;$c.jsx=zy;$c.jsxs=zy;Py.exports=$c;var u=Py.exports,By={exports:{}},zt={},Vy={exports:{}},Wy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,T){var A=k.length;k.push(T);e:for(;0<A;){var z=A-1>>>1,M=k[z];if(0<s(M,T))k[z]=T,k[A]=M,A=z;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var T=k[0],A=k.pop();if(A!==T){k[0]=A;e:for(var z=0,M=k.length,J=M>>>1;z<J;){var ee=2*(z+1)-1,se=k[ee],Te=ee+1,H=k[Te];if(0>s(se,A))Te<M&&0>s(H,se)?(k[z]=H,k[Te]=A,z=Te):(k[z]=se,k[ee]=A,z=ee);else if(Te<M&&0>s(H,A))k[z]=H,k[Te]=A,z=Te;else break e}}return T}function s(k,T){var A=k.sortIndex-T.sortIndex;return A!==0?A:k.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,b=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(k){for(var T=r(c);T!==null;){if(T.callback===null)n(c);else if(T.startTime<=k)n(c),T.sortIndex=T.expirationTime,e(l,T);else break;T=r(c)}}function _(k){if(g=!1,w(k),!b)if(r(l)!==null)b=!0,L(S);else{var T=r(c);T!==null&&W(_,T.startTime-k)}}function S(k,T){b=!1,g&&(g=!1,y(R),R=-1),m=!0;var A=p;try{for(w(T),f=r(l);f!==null&&(!(f.expirationTime>T)||k&&!U());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var M=z(f.expirationTime<=T);T=t.unstable_now(),typeof M=="function"?f.callback=M:f===r(l)&&n(l),w(T)}else n(l);f=r(l)}if(f!==null)var J=!0;else{var ee=r(c);ee!==null&&W(_,ee.startTime-T),J=!1}return J}finally{f=null,p=A,m=!1}}var E=!1,C=null,R=-1,N=5,P=-1;function U(){return!(t.unstable_now()-P<N)}function I(){if(C!==null){var k=t.unstable_now();P=k;var T=!0;try{T=C(!0,k)}finally{T?q():(E=!1,C=null)}}else E=!1}var q;if(typeof v=="function")q=function(){v(I)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,D=j.port2;j.port1.onmessage=I,q=function(){D.postMessage(null)}}else q=function(){x(I,0)};function L(k){C=k,E||(E=!0,q())}function W(k,T){R=x(function(){k(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){b||m||(b=!0,L(S))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var T=3;break;default:T=p}var A=p;p=T;try{return k()}finally{p=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,T){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var A=p;p=k;try{return T()}finally{p=A}},t.unstable_scheduleCallback=function(k,T,A){var z=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?z+A:z):A=z,k){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=A+M,k={id:d++,callback:T,priorityLevel:k,startTime:A,expirationTime:M,sortIndex:-1},A>z?(k.sortIndex=A,e(c,k),r(l)===null&&k===r(c)&&(g?(y(R),R=-1):g=!0,W(_,A-z))):(k.sortIndex=M,e(l,k),b||m||(b=!0,L(S))),k},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(k){var T=p;return function(){var A=p;p=T;try{return k.apply(this,arguments)}finally{p=A}}}})(Wy);Vy.exports=Wy;var Zk=Vy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jk=h,Ut=Zk;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hy=new Set,Xi={};function Bs(t,e){qo(t,e),qo(t+"Capture",e)}function qo(t,e){for(Xi[t]=e,t=0;t<e.length;t++)Hy.add(e[t])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Od=Object.prototype.hasOwnProperty,Xk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jm={},Pm={};function eE(t){return Od.call(Pm,t)?!0:Od.call(jm,t)?!1:Xk.test(t)?Pm[t]=!0:(jm[t]=!0,!1)}function tE(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rE(t,e,r,n){if(e===null||typeof e>"u"||tE(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,r,n,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var yf=/[\-:]([a-z])/g;function wf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yf,wf);at[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yf,wf);at[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yf,wf);at[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function xf(t,e,r,n){var s=at.hasOwnProperty(e)?at[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rE(e,r,s,n)&&(r=null),n||s===null?eE(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ln=Jk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Za=Symbol.for("react.element"),po=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),Id=Symbol.for("react.profiler"),qy=Symbol.for("react.provider"),Ky=Symbol.for("react.context"),_f=Symbol.for("react.forward_ref"),Dd=Symbol.for("react.suspense"),Md=Symbol.for("react.suspense_list"),Sf=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),Gy=Symbol.for("react.offscreen"),Am=Symbol.iterator;function xi(t){return t===null||typeof t!="object"?null:(t=Am&&t[Am]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,Mu;function ji(t){if(Mu===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Mu=e&&e[1]||""}return`
`+Mu+t}var Lu=!1;function $u(t,e){if(!t||Lu)return"";Lu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{Lu=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ji(t):""}function nE(t){switch(t.tag){case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 2:case 15:return t=$u(t.type,!1),t;case 11:return t=$u(t.type.render,!1),t;case 1:return t=$u(t.type,!0),t;default:return""}}function Ld(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mo:return"Fragment";case po:return"Portal";case Id:return"Profiler";case bf:return"StrictMode";case Dd:return"Suspense";case Md:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ky:return(t.displayName||"Context")+".Consumer";case qy:return(t._context.displayName||"Context")+".Provider";case _f:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sf:return e=t.displayName||null,e!==null?e:Ld(t.type)||"Memo";case xn:e=t._payload,t=t._init;try{return Ld(t(e))}catch{}}return null}function sE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ld(e);case 8:return e===bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oE(t){var e=Qy(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ja(t){t._valueTracker||(t._valueTracker=oE(t))}function Yy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Qy(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Kl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $d(t,e){var r=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Om(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Hn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zy(t,e){e=e.checked,e!=null&&xf(t,"checked",e,!1)}function Ud(t,e){Zy(t,e);var r=Hn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fd(t,e.type,r):e.hasOwnProperty("defaultValue")&&Fd(t,e.type,Hn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Im(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Fd(t,e,r){(e!=="number"||Kl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Pi=Array.isArray;function To(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Hn(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dm(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error($(92));if(Pi(r)){if(1<r.length)throw Error($(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Hn(r)}}function Jy(t,e){var r=Hn(e.value),n=Hn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Mm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xa,ew=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xa=Xa||document.createElement("div"),Xa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ea(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iE=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(t){iE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zi[e]=zi[t]})});function tw(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||zi.hasOwnProperty(t)&&zi[t]?(""+e).trim():e+"px"}function rw(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=tw(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var aE=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vd(t,e){if(e){if(aE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Wd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=null;function kf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qd=null,Ro=null,No=null;function Lm(t){if(t=$a(t)){if(typeof qd!="function")throw Error($(280));var e=t.stateNode;e&&(e=Vc(e),qd(t.stateNode,t.type,e))}}function nw(t){Ro?No?No.push(t):No=[t]:Ro=t}function sw(){if(Ro){var t=Ro,e=No;if(No=Ro=null,Lm(t),e)for(t=0;t<e.length;t++)Lm(e[t])}}function ow(t,e){return t(e)}function iw(){}var Uu=!1;function aw(t,e,r){if(Uu)return t(e,r);Uu=!0;try{return ow(t,e,r)}finally{Uu=!1,(Ro!==null||No!==null)&&(iw(),sw())}}function ta(t,e){var r=t.stateNode;if(r===null)return null;var n=Vc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error($(231,e,typeof r));return r}var Kd=!1;if(en)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){Kd=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{Kd=!1}function lE(t,e,r,n,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Bi=!1,Gl=null,Ql=!1,Gd=null,cE={onError:function(t){Bi=!0,Gl=t}};function uE(t,e,r,n,s,o,i,a,l){Bi=!1,Gl=null,lE.apply(cE,arguments)}function dE(t,e,r,n,s,o,i,a,l){if(uE.apply(this,arguments),Bi){if(Bi){var c=Gl;Bi=!1,Gl=null}else throw Error($(198));Ql||(Ql=!0,Gd=c)}}function Vs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function lw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $m(t){if(Vs(t)!==t)throw Error($(188))}function hE(t){var e=t.alternate;if(!e){if(e=Vs(t),e===null)throw Error($(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return $m(s),t;if(o===n)return $m(s),e;o=o.sibling}throw Error($(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?t:e}function cw(t){return t=hE(t),t!==null?uw(t):null}function uw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uw(t);if(e!==null)return e;t=t.sibling}return null}var dw=Ut.unstable_scheduleCallback,Um=Ut.unstable_cancelCallback,fE=Ut.unstable_shouldYield,pE=Ut.unstable_requestPaint,We=Ut.unstable_now,mE=Ut.unstable_getCurrentPriorityLevel,Ef=Ut.unstable_ImmediatePriority,hw=Ut.unstable_UserBlockingPriority,Yl=Ut.unstable_NormalPriority,gE=Ut.unstable_LowPriority,fw=Ut.unstable_IdlePriority,Uc=null,Pr=null;function vE(t){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Uc,t,void 0,(t.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:xE,yE=Math.log,wE=Math.LN2;function xE(t){return t>>>=0,t===0?32:31-(yE(t)/wE|0)|0}var el=64,tl=4194304;function Ai(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zl(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=Ai(a):(o&=i,o!==0&&(n=Ai(o)))}else i=r&~s,i!==0?n=Ai(i):o!==0&&(n=Ai(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-vr(e),s=1<<r,n|=t[r],e&=~s;return n}function bE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _E(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-vr(o),a=1<<i,l=s[i];l===-1?(!(a&r)||a&n)&&(s[i]=bE(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Qd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pw(){var t=el;return el<<=1,!(el&4194240)&&(el=64),t}function Fu(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ma(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vr(e),t[e]=r}function SE(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-vr(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function Cf(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-vr(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Ce=0;function mw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gw,Tf,vw,yw,ww,Yd=!1,rl=[],Mn=null,Ln=null,$n=null,ra=new Map,na=new Map,kn=[],kE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fm(t,e){switch(t){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(e.pointerId)}}function _i(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=$a(e),e!==null&&Tf(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function EE(t,e,r,n,s){switch(e){case"focusin":return Mn=_i(Mn,t,e,r,n,s),!0;case"dragenter":return Ln=_i(Ln,t,e,r,n,s),!0;case"mouseover":return $n=_i($n,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return ra.set(o,_i(ra.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,na.set(o,_i(na.get(o)||null,t,e,r,n,s)),!0}return!1}function xw(t){var e=ms(t.target);if(e!==null){var r=Vs(e);if(r!==null){if(e=r.tag,e===13){if(e=lw(r),e!==null){t.blockedOn=e,ww(t.priority,function(){vw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Zd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Hd=n,r.target.dispatchEvent(n),Hd=null}else return e=$a(r),e!==null&&Tf(e),t.blockedOn=r,!1;e.shift()}return!0}function zm(t,e,r){Rl(t)&&r.delete(e)}function CE(){Yd=!1,Mn!==null&&Rl(Mn)&&(Mn=null),Ln!==null&&Rl(Ln)&&(Ln=null),$n!==null&&Rl($n)&&($n=null),ra.forEach(zm),na.forEach(zm)}function Si(t,e){t.blockedOn===e&&(t.blockedOn=null,Yd||(Yd=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,CE)))}function sa(t){function e(s){return Si(s,t)}if(0<rl.length){Si(rl[0],t);for(var r=1;r<rl.length;r++){var n=rl[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Mn!==null&&Si(Mn,t),Ln!==null&&Si(Ln,t),$n!==null&&Si($n,t),ra.forEach(e),na.forEach(e),r=0;r<kn.length;r++)n=kn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<kn.length&&(r=kn[0],r.blockedOn===null);)xw(r),r.blockedOn===null&&kn.shift()}var jo=ln.ReactCurrentBatchConfig,Jl=!0;function TE(t,e,r,n){var s=Ce,o=jo.transition;jo.transition=null;try{Ce=1,Rf(t,e,r,n)}finally{Ce=s,jo.transition=o}}function RE(t,e,r,n){var s=Ce,o=jo.transition;jo.transition=null;try{Ce=4,Rf(t,e,r,n)}finally{Ce=s,jo.transition=o}}function Rf(t,e,r,n){if(Jl){var s=Zd(t,e,r,n);if(s===null)Yu(t,e,n,Xl,r),Fm(t,n);else if(EE(s,t,e,r,n))n.stopPropagation();else if(Fm(t,n),e&4&&-1<kE.indexOf(t)){for(;s!==null;){var o=$a(s);if(o!==null&&gw(o),o=Zd(t,e,r,n),o===null&&Yu(t,e,n,Xl,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Yu(t,e,n,null,r)}}var Xl=null;function Zd(t,e,r,n){if(Xl=null,t=kf(n),t=ms(t),t!==null)if(e=Vs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=lw(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xl=t,null}function bw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mE()){case Ef:return 1;case hw:return 4;case Yl:case gE:return 16;case fw:return 536870912;default:return 16}default:return 16}}var An=null,Nf=null,Nl=null;function _w(){if(Nl)return Nl;var t,e=Nf,r=e.length,n,s="value"in An?An.value:An.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===s[o-n];n++);return Nl=s.slice(t,1<n?1-n:void 0)}function jl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nl(){return!0}function Bm(){return!1}function Bt(t){function e(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nl:Bm,this.isPropagationStopped=Bm,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),e}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jf=Bt(ai),La=Ue({},ai,{view:0,detail:0}),NE=Bt(La),zu,Bu,ki,Fc=Ue({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(zu=t.screenX-ki.screenX,Bu=t.screenY-ki.screenY):Bu=zu=0,ki=t),zu)},movementY:function(t){return"movementY"in t?t.movementY:Bu}}),Vm=Bt(Fc),jE=Ue({},Fc,{dataTransfer:0}),PE=Bt(jE),AE=Ue({},La,{relatedTarget:0}),Vu=Bt(AE),OE=Ue({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),IE=Bt(OE),DE=Ue({},ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ME=Bt(DE),LE=Ue({},ai,{data:0}),Wm=Bt(LE),$E={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FE[t])?!!e[t]:!1}function Pf(){return zE}var BE=Ue({},La,{key:function(t){if(t.key){var e=$E[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pf,charCode:function(t){return t.type==="keypress"?jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VE=Bt(BE),WE=Ue({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hm=Bt(WE),HE=Ue({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pf}),qE=Bt(HE),KE=Ue({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),GE=Bt(KE),QE=Ue({},Fc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YE=Bt(QE),ZE=[9,13,27,32],Af=en&&"CompositionEvent"in window,Vi=null;en&&"documentMode"in document&&(Vi=document.documentMode);var JE=en&&"TextEvent"in window&&!Vi,Sw=en&&(!Af||Vi&&8<Vi&&11>=Vi),qm=" ",Km=!1;function kw(t,e){switch(t){case"keyup":return ZE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ew(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var go=!1;function XE(t,e){switch(t){case"compositionend":return Ew(e);case"keypress":return e.which!==32?null:(Km=!0,qm);case"textInput":return t=e.data,t===qm&&Km?null:t;default:return null}}function eC(t,e){if(go)return t==="compositionend"||!Af&&kw(t,e)?(t=_w(),Nl=Nf=An=null,go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sw&&e.locale!=="ko"?null:e.data;default:return null}}var tC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tC[t.type]:e==="textarea"}function Cw(t,e,r,n){nw(n),e=ec(e,"onChange"),0<e.length&&(r=new jf("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Wi=null,oa=null;function rC(t){Lw(t,0)}function zc(t){var e=wo(t);if(Yy(e))return t}function nC(t,e){if(t==="change")return e}var Tw=!1;if(en){var Wu;if(en){var Hu="oninput"in document;if(!Hu){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),Hu=typeof Qm.oninput=="function"}Wu=Hu}else Wu=!1;Tw=Wu&&(!document.documentMode||9<document.documentMode)}function Ym(){Wi&&(Wi.detachEvent("onpropertychange",Rw),oa=Wi=null)}function Rw(t){if(t.propertyName==="value"&&zc(oa)){var e=[];Cw(e,oa,t,kf(t)),aw(rC,e)}}function sC(t,e,r){t==="focusin"?(Ym(),Wi=e,oa=r,Wi.attachEvent("onpropertychange",Rw)):t==="focusout"&&Ym()}function oC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zc(oa)}function iC(t,e){if(t==="click")return zc(e)}function aC(t,e){if(t==="input"||t==="change")return zc(e)}function lC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wr=typeof Object.is=="function"?Object.is:lC;function ia(t,e){if(wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Od.call(e,s)||!wr(t[s],e[s]))return!1}return!0}function Zm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jm(t,e){var r=Zm(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zm(r)}}function Nw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jw(){for(var t=window,e=Kl();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Kl(t.document)}return e}function Of(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cC(t){var e=jw(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Nw(r.ownerDocument.documentElement,r)){if(n!==null&&Of(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=Jm(r,o);var i=Jm(r,n);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uC=en&&"documentMode"in document&&11>=document.documentMode,vo=null,Jd=null,Hi=null,Xd=!1;function Xm(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xd||vo==null||vo!==Kl(n)||(n=vo,"selectionStart"in n&&Of(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hi&&ia(Hi,n)||(Hi=n,n=ec(Jd,"onSelect"),0<n.length&&(e=new jf("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=vo)))}function sl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var yo={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},qu={},Pw={};en&&(Pw=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function Bc(t){if(qu[t])return qu[t];if(!yo[t])return t;var e=yo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Pw)return qu[t]=e[r];return t}var Aw=Bc("animationend"),Ow=Bc("animationiteration"),Iw=Bc("animationstart"),Dw=Bc("transitionend"),Mw=new Map,eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(t,e){Mw.set(t,e),Bs(e,[t])}for(var Ku=0;Ku<eg.length;Ku++){var Gu=eg[Ku],dC=Gu.toLowerCase(),hC=Gu[0].toUpperCase()+Gu.slice(1);Zn(dC,"on"+hC)}Zn(Aw,"onAnimationEnd");Zn(Ow,"onAnimationIteration");Zn(Iw,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn(Dw,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function tg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,dE(n,e,void 0,t),t.currentTarget=null}function Lw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var i=n.length-1;0<=i;i--){var a=n[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;tg(s,a,c),o=l}else for(i=0;i<n.length;i++){if(a=n[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;tg(s,a,c),o=l}}}if(Ql)throw t=Gd,Ql=!1,Gd=null,t}function Ae(t,e){var r=e[sh];r===void 0&&(r=e[sh]=new Set);var n=t+"__bubble";r.has(n)||($w(e,t,2,!1),r.add(n))}function Qu(t,e,r){var n=0;e&&(n|=4),$w(r,t,n,e)}var ol="_reactListening"+Math.random().toString(36).slice(2);function aa(t){if(!t[ol]){t[ol]=!0,Hy.forEach(function(r){r!=="selectionchange"&&(fC.has(r)||Qu(r,!1,t),Qu(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ol]||(e[ol]=!0,Qu("selectionchange",!1,e))}}function $w(t,e,r,n){switch(bw(e)){case 1:var s=TE;break;case 4:s=RE;break;default:s=Rf}r=s.bind(null,e,r,t),s=void 0,!Kd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Yu(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=ms(a),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}a=a.parentNode}}n=n.return}aw(function(){var c=o,d=kf(r),f=[];e:{var p=Mw.get(t);if(p!==void 0){var m=jf,b=t;switch(t){case"keypress":if(jl(r)===0)break e;case"keydown":case"keyup":m=VE;break;case"focusin":b="focus",m=Vu;break;case"focusout":b="blur",m=Vu;break;case"beforeblur":case"afterblur":m=Vu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qE;break;case Aw:case Ow:case Iw:m=IE;break;case Dw:m=GE;break;case"scroll":m=NE;break;case"wheel":m=YE;break;case"copy":case"cut":case"paste":m=ME;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hm}var g=(e&4)!==0,x=!g&&t==="scroll",y=g?p!==null?p+"Capture":null:p;g=[];for(var v=c,w;v!==null;){w=v;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=ta(v,y),_!=null&&g.push(la(v,_,w)))),x)break;v=v.return}0<g.length&&(p=new m(p,b,null,r,d),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&r!==Hd&&(b=r.relatedTarget||r.fromElement)&&(ms(b)||b[tn]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(b=r.relatedTarget||r.toElement,m=c,b=b?ms(b):null,b!==null&&(x=Vs(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=c),m!==b)){if(g=Vm,_="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=Hm,_="onPointerLeave",y="onPointerEnter",v="pointer"),x=m==null?p:wo(m),w=b==null?p:wo(b),p=new g(_,v+"leave",m,r,d),p.target=x,p.relatedTarget=w,_=null,ms(d)===c&&(g=new g(y,v+"enter",b,r,d),g.target=w,g.relatedTarget=x,_=g),x=_,m&&b)t:{for(g=m,y=b,v=0,w=g;w;w=Xs(w))v++;for(w=0,_=y;_;_=Xs(_))w++;for(;0<v-w;)g=Xs(g),v--;for(;0<w-v;)y=Xs(y),w--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Xs(g),y=Xs(y)}g=null}else g=null;m!==null&&rg(f,p,m,g,!1),b!==null&&x!==null&&rg(f,x,b,g,!0)}}e:{if(p=c?wo(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var S=nC;else if(Gm(p))if(Tw)S=aC;else{S=oC;var E=sC}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=iC);if(S&&(S=S(t,c))){Cw(f,S,r,d);break e}E&&E(t,p,c),t==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&Fd(p,"number",p.value)}switch(E=c?wo(c):window,t){case"focusin":(Gm(E)||E.contentEditable==="true")&&(vo=E,Jd=c,Hi=null);break;case"focusout":Hi=Jd=vo=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,Xm(f,r,d);break;case"selectionchange":if(uC)break;case"keydown":case"keyup":Xm(f,r,d)}var C;if(Af)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else go?kw(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Sw&&r.locale!=="ko"&&(go||R!=="onCompositionStart"?R==="onCompositionEnd"&&go&&(C=_w()):(An=d,Nf="value"in An?An.value:An.textContent,go=!0)),E=ec(c,R),0<E.length&&(R=new Wm(R,t,null,r,d),f.push({event:R,listeners:E}),C?R.data=C:(C=Ew(r),C!==null&&(R.data=C)))),(C=JE?XE(t,r):eC(t,r))&&(c=ec(c,"onBeforeInput"),0<c.length&&(d=new Wm("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=C))}Lw(f,e)})}function la(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ec(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ta(t,r),o!=null&&n.unshift(la(t,o,s)),o=ta(t,e),o!=null&&n.push(la(t,o,s))),t=t.return}return n}function Xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rg(t,e,r,n,s){for(var o=e._reactName,i=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=ta(r,o),l!=null&&i.unshift(la(r,l,a))):s||(l=ta(r,o),l!=null&&i.push(la(r,l,a)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var pC=/\r\n?/g,mC=/\u0000|\uFFFD/g;function ng(t){return(typeof t=="string"?t:""+t).replace(pC,`
`).replace(mC,"")}function il(t,e,r){if(e=ng(e),ng(t)!==e&&r)throw Error($(425))}function tc(){}var eh=null,th=null;function rh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nh=typeof setTimeout=="function"?setTimeout:void 0,gC=typeof clearTimeout=="function"?clearTimeout:void 0,sg=typeof Promise=="function"?Promise:void 0,vC=typeof queueMicrotask=="function"?queueMicrotask:typeof sg<"u"?function(t){return sg.resolve(null).then(t).catch(yC)}:nh;function yC(t){setTimeout(function(){throw t})}function Zu(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),sa(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);sa(e)}function Un(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function og(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var li=Math.random().toString(36).slice(2),Rr="__reactFiber$"+li,ca="__reactProps$"+li,tn="__reactContainer$"+li,sh="__reactEvents$"+li,wC="__reactListeners$"+li,xC="__reactHandles$"+li;function ms(t){var e=t[Rr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[tn]||r[Rr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=og(t);t!==null;){if(r=t[Rr])return r;t=og(t)}return e}t=r,r=t.parentNode}return null}function $a(t){return t=t[Rr]||t[tn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Vc(t){return t[ca]||null}var oh=[],xo=-1;function Jn(t){return{current:t}}function Oe(t){0>xo||(t.current=oh[xo],oh[xo]=null,xo--)}function je(t,e){xo++,oh[xo]=t.current,t.current=e}var qn={},mt=Jn(qn),Rt=Jn(!1),Ns=qn;function Ko(t,e){var r=t.type.contextTypes;if(!r)return qn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Nt(t){return t=t.childContextTypes,t!=null}function rc(){Oe(Rt),Oe(mt)}function ig(t,e,r){if(mt.current!==qn)throw Error($(168));je(mt,e),je(Rt,r)}function Uw(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error($(108,sE(t)||"Unknown",s));return Ue({},r,n)}function nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qn,Ns=mt.current,je(mt,t),je(Rt,Rt.current),!0}function ag(t,e,r){var n=t.stateNode;if(!n)throw Error($(169));r?(t=Uw(t,e,Ns),n.__reactInternalMemoizedMergedChildContext=t,Oe(Rt),Oe(mt),je(mt,t)):Oe(Rt),je(Rt,r)}var Qr=null,Wc=!1,Ju=!1;function Fw(t){Qr===null?Qr=[t]:Qr.push(t)}function bC(t){Wc=!0,Fw(t)}function Xn(){if(!Ju&&Qr!==null){Ju=!0;var t=0,e=Ce;try{var r=Qr;for(Ce=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Qr=null,Wc=!1}catch(s){throw Qr!==null&&(Qr=Qr.slice(t+1)),dw(Ef,Xn),s}finally{Ce=e,Ju=!1}}return null}var bo=[],_o=0,sc=null,oc=0,qt=[],Kt=0,js=null,Zr=1,Jr="";function cs(t,e){bo[_o++]=oc,bo[_o++]=sc,sc=t,oc=e}function zw(t,e,r){qt[Kt++]=Zr,qt[Kt++]=Jr,qt[Kt++]=js,js=t;var n=Zr;t=Jr;var s=32-vr(n)-1;n&=~(1<<s),r+=1;var o=32-vr(e)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Zr=1<<32-vr(e)+s|r<<s|n,Jr=o+t}else Zr=1<<o|r<<s|n,Jr=t}function If(t){t.return!==null&&(cs(t,1),zw(t,1,0))}function Df(t){for(;t===sc;)sc=bo[--_o],bo[_o]=null,oc=bo[--_o],bo[_o]=null;for(;t===js;)js=qt[--Kt],qt[Kt]=null,Jr=qt[--Kt],qt[Kt]=null,Zr=qt[--Kt],qt[Kt]=null}var Lt=null,Mt=null,De=!1,gr=null;function Bw(t,e){var r=Gt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function lg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lt=t,Mt=Un(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lt=t,Mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=js!==null?{id:Zr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Gt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Lt=t,Mt=null,!0):!1;default:return!1}}function ih(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ah(t){if(De){var e=Mt;if(e){var r=e;if(!lg(t,e)){if(ih(t))throw Error($(418));e=Un(r.nextSibling);var n=Lt;e&&lg(t,e)?Bw(n,r):(t.flags=t.flags&-4097|2,De=!1,Lt=t)}}else{if(ih(t))throw Error($(418));t.flags=t.flags&-4097|2,De=!1,Lt=t}}}function cg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lt=t}function al(t){if(t!==Lt)return!1;if(!De)return cg(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rh(t.type,t.memoizedProps)),e&&(e=Mt)){if(ih(t))throw Vw(),Error($(418));for(;e;)Bw(t,e),e=Un(e.nextSibling)}if(cg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Mt=Un(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Mt=null}}else Mt=Lt?Un(t.stateNode.nextSibling):null;return!0}function Vw(){for(var t=Mt;t;)t=Un(t.nextSibling)}function Go(){Mt=Lt=null,De=!1}function Mf(t){gr===null?gr=[t]:gr.push(t)}var _C=ln.ReactCurrentBatchConfig;function Ei(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error($(284));if(!r._owner)throw Error($(290,t))}return t}function ll(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ug(t){var e=t._init;return e(t._payload)}function Ww(t){function e(y,v){if(t){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function r(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=Vn(y,v),y.index=0,y.sibling=null,y}function o(y,v,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function i(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,w,_){return v===null||v.tag!==6?(v=od(w,y.mode,_),v.return=y,v):(v=s(v,w),v.return=y,v)}function l(y,v,w,_){var S=w.type;return S===mo?d(y,v,w.props.children,_,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xn&&ug(S)===v.type)?(_=s(v,w.props),_.ref=Ei(y,v,w),_.return=y,_):(_=Ll(w.type,w.key,w.props,null,y.mode,_),_.ref=Ei(y,v,w),_.return=y,_)}function c(y,v,w,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=id(w,y.mode,_),v.return=y,v):(v=s(v,w.children||[]),v.return=y,v)}function d(y,v,w,_,S){return v===null||v.tag!==7?(v=Cs(w,y.mode,_,S),v.return=y,v):(v=s(v,w),v.return=y,v)}function f(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=od(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Za:return w=Ll(v.type,v.key,v.props,null,y.mode,w),w.ref=Ei(y,null,v),w.return=y,w;case po:return v=id(v,y.mode,w),v.return=y,v;case xn:var _=v._init;return f(y,_(v._payload),w)}if(Pi(v)||xi(v))return v=Cs(v,y.mode,w,null),v.return=y,v;ll(y,v)}return null}function p(y,v,w,_){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(y,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Za:return w.key===S?l(y,v,w,_):null;case po:return w.key===S?c(y,v,w,_):null;case xn:return S=w._init,p(y,v,S(w._payload),_)}if(Pi(w)||xi(w))return S!==null?null:d(y,v,w,_,null);ll(y,w)}return null}function m(y,v,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,a(v,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Za:return y=y.get(_.key===null?w:_.key)||null,l(v,y,_,S);case po:return y=y.get(_.key===null?w:_.key)||null,c(v,y,_,S);case xn:var E=_._init;return m(y,v,w,E(_._payload),S)}if(Pi(_)||xi(_))return y=y.get(w)||null,d(v,y,_,S,null);ll(v,_)}return null}function b(y,v,w,_){for(var S=null,E=null,C=v,R=v=0,N=null;C!==null&&R<w.length;R++){C.index>R?(N=C,C=null):N=C.sibling;var P=p(y,C,w[R],_);if(P===null){C===null&&(C=N);break}t&&C&&P.alternate===null&&e(y,C),v=o(P,v,R),E===null?S=P:E.sibling=P,E=P,C=N}if(R===w.length)return r(y,C),De&&cs(y,R),S;if(C===null){for(;R<w.length;R++)C=f(y,w[R],_),C!==null&&(v=o(C,v,R),E===null?S=C:E.sibling=C,E=C);return De&&cs(y,R),S}for(C=n(y,C);R<w.length;R++)N=m(C,y,R,w[R],_),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?R:N.key),v=o(N,v,R),E===null?S=N:E.sibling=N,E=N);return t&&C.forEach(function(U){return e(y,U)}),De&&cs(y,R),S}function g(y,v,w,_){var S=xi(w);if(typeof S!="function")throw Error($(150));if(w=S.call(w),w==null)throw Error($(151));for(var E=S=null,C=v,R=v=0,N=null,P=w.next();C!==null&&!P.done;R++,P=w.next()){C.index>R?(N=C,C=null):N=C.sibling;var U=p(y,C,P.value,_);if(U===null){C===null&&(C=N);break}t&&C&&U.alternate===null&&e(y,C),v=o(U,v,R),E===null?S=U:E.sibling=U,E=U,C=N}if(P.done)return r(y,C),De&&cs(y,R),S;if(C===null){for(;!P.done;R++,P=w.next())P=f(y,P.value,_),P!==null&&(v=o(P,v,R),E===null?S=P:E.sibling=P,E=P);return De&&cs(y,R),S}for(C=n(y,C);!P.done;R++,P=w.next())P=m(C,y,R,P.value,_),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?R:P.key),v=o(P,v,R),E===null?S=P:E.sibling=P,E=P);return t&&C.forEach(function(I){return e(y,I)}),De&&cs(y,R),S}function x(y,v,w,_){if(typeof w=="object"&&w!==null&&w.type===mo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Za:e:{for(var S=w.key,E=v;E!==null;){if(E.key===S){if(S=w.type,S===mo){if(E.tag===7){r(y,E.sibling),v=s(E,w.props.children),v.return=y,y=v;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xn&&ug(S)===E.type){r(y,E.sibling),v=s(E,w.props),v.ref=Ei(y,E,w),v.return=y,y=v;break e}r(y,E);break}else e(y,E);E=E.sibling}w.type===mo?(v=Cs(w.props.children,y.mode,_,w.key),v.return=y,y=v):(_=Ll(w.type,w.key,w.props,null,y.mode,_),_.ref=Ei(y,v,w),_.return=y,y=_)}return i(y);case po:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(y,v.sibling),v=s(v,w.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else e(y,v);v=v.sibling}v=id(w,y.mode,_),v.return=y,y=v}return i(y);case xn:return E=w._init,x(y,v,E(w._payload),_)}if(Pi(w))return b(y,v,w,_);if(xi(w))return g(y,v,w,_);ll(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,w),v.return=y,y=v):(r(y,v),v=od(w,y.mode,_),v.return=y,y=v),i(y)):r(y,v)}return x}var Qo=Ww(!0),Hw=Ww(!1),ic=Jn(null),ac=null,So=null,Lf=null;function $f(){Lf=So=ac=null}function Uf(t){var e=ic.current;Oe(ic),t._currentValue=e}function lh(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Po(t,e){ac=t,Lf=So=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function Zt(t){var e=t._currentValue;if(Lf!==t)if(t={context:t,memoizedValue:e,next:null},So===null){if(ac===null)throw Error($(308));So=t,ac.dependencies={lanes:0,firstContext:t}}else So=So.next=t;return e}var gs=null;function Ff(t){gs===null?gs=[t]:gs.push(t)}function qw(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ff(e)):(r.next=s.next,s.next=r),e.interleaved=r,rn(t,n)}function rn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var bn=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,rn(t,r)}return s=n.interleaved,s===null?(e.next=e,Ff(n)):(e.next=s.next,s.next=e),n.interleaved=e,rn(t,r)}function Pl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Cf(t,r)}}function dg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function lc(t,e,r,n){var s=t.updateQueue;bn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,d=c=l=null,a=o;do{var p=a.lane,m=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,g=a;switch(p=e,m=r,g.tag){case 1:if(b=g.payload,typeof b=="function"){f=b.call(m,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,p=typeof b=="function"?b.call(m,f,p):b,p==null)break e;f=Ue({},f,p);break e;case 2:bn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);As|=i,t.lanes=i,t.memoizedState=f}}function hg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error($(191,s));s.call(n)}}}var Ua={},Ar=Jn(Ua),ua=Jn(Ua),da=Jn(Ua);function vs(t){if(t===Ua)throw Error($(174));return t}function Bf(t,e){switch(je(da,e),je(ua,t),je(Ar,Ua),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bd(e,t)}Oe(Ar),je(Ar,e)}function Yo(){Oe(Ar),Oe(ua),Oe(da)}function Gw(t){vs(da.current);var e=vs(Ar.current),r=Bd(e,t.type);e!==r&&(je(ua,t),je(Ar,r))}function Vf(t){ua.current===t&&(Oe(Ar),Oe(ua))}var Le=Jn(0);function cc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xu=[];function Wf(){for(var t=0;t<Xu.length;t++)Xu[t]._workInProgressVersionPrimary=null;Xu.length=0}var Al=ln.ReactCurrentDispatcher,ed=ln.ReactCurrentBatchConfig,Ps=0,$e=null,Ye=null,et=null,uc=!1,qi=!1,ha=0,SC=0;function ut(){throw Error($(321))}function Hf(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!wr(t[r],e[r]))return!1;return!0}function qf(t,e,r,n,s,o){if(Ps=o,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Al.current=t===null||t.memoizedState===null?TC:RC,t=r(n,s),qi){o=0;do{if(qi=!1,ha=0,25<=o)throw Error($(301));o+=1,et=Ye=null,e.updateQueue=null,Al.current=NC,t=r(n,s)}while(qi)}if(Al.current=dc,e=Ye!==null&&Ye.next!==null,Ps=0,et=Ye=$e=null,uc=!1,e)throw Error($(300));return t}function Kf(){var t=ha!==0;return ha=0,t}function kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?$e.memoizedState=et=t:et=et.next=t,et}function Jt(){if(Ye===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=et===null?$e.memoizedState:et.next;if(e!==null)et=e,Ye=t;else{if(t===null)throw Error($(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},et===null?$e.memoizedState=et=t:et=et.next=t}return et}function fa(t,e){return typeof e=="function"?e(t):e}function td(t){var e=Jt(),r=e.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=t;var n=Ye,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,l=null,c=o;do{var d=c.lane;if((Ps&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=n):l=l.next=f,$e.lanes|=d,As|=d}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=a,wr(n,e.memoizedState)||(Tt=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,$e.lanes|=o,As|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function rd(t){var e=Jt(),r=e.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);wr(o,e.memoizedState)||(Tt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Qw(){}function Yw(t,e){var r=$e,n=Jt(),s=e(),o=!wr(n.memoizedState,s);if(o&&(n.memoizedState=s,Tt=!0),n=n.queue,Gf(Xw.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||et!==null&&et.memoizedState.tag&1){if(r.flags|=2048,pa(9,Jw.bind(null,r,n,s,e),void 0,null),tt===null)throw Error($(349));Ps&30||Zw(r,e,s)}return s}function Zw(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Jw(t,e,r,n){e.value=r,e.getSnapshot=n,e0(e)&&t0(t)}function Xw(t,e,r){return r(function(){e0(e)&&t0(t)})}function e0(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!wr(t,r)}catch{return!0}}function t0(t){var e=rn(t,1);e!==null&&yr(e,t,1,-1)}function fg(t){var e=kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},e.queue=t,t=t.dispatch=CC.bind(null,$e,t),[e.memoizedState,t]}function pa(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function r0(){return Jt().memoizedState}function Ol(t,e,r,n){var s=kr();$e.flags|=t,s.memoizedState=pa(1|e,r,void 0,n===void 0?null:n)}function Hc(t,e,r,n){var s=Jt();n=n===void 0?null:n;var o=void 0;if(Ye!==null){var i=Ye.memoizedState;if(o=i.destroy,n!==null&&Hf(n,i.deps)){s.memoizedState=pa(e,r,o,n);return}}$e.flags|=t,s.memoizedState=pa(1|e,r,o,n)}function pg(t,e){return Ol(8390656,8,t,e)}function Gf(t,e){return Hc(2048,8,t,e)}function n0(t,e){return Hc(4,2,t,e)}function s0(t,e){return Hc(4,4,t,e)}function o0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function i0(t,e,r){return r=r!=null?r.concat([t]):null,Hc(4,4,o0.bind(null,e,t),r)}function Qf(){}function a0(t,e){var r=Jt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Hf(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function l0(t,e){var r=Jt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Hf(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function c0(t,e,r){return Ps&21?(wr(r,e)||(r=pw(),$e.lanes|=r,As|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=r)}function kC(t,e){var r=Ce;Ce=r!==0&&4>r?r:4,t(!0);var n=ed.transition;ed.transition={};try{t(!1),e()}finally{Ce=r,ed.transition=n}}function u0(){return Jt().memoizedState}function EC(t,e,r){var n=Bn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},d0(t))h0(e,r);else if(r=qw(t,e,r,n),r!==null){var s=wt();yr(r,t,n,s),f0(r,e,n)}}function CC(t,e,r){var n=Bn(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(d0(t))h0(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,wr(a,i)){var l=e.interleaved;l===null?(s.next=s,Ff(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=qw(t,e,s,n),r!==null&&(s=wt(),yr(r,t,n,s),f0(r,e,n))}}function d0(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function h0(t,e){qi=uc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function f0(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Cf(t,r)}}var dc={readContext:Zt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},TC={readContext:Zt,useCallback:function(t,e){return kr().memoizedState=[t,e===void 0?null:e],t},useContext:Zt,useEffect:pg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ol(4194308,4,o0.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ol(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ol(4,2,t,e)},useMemo:function(t,e){var r=kr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=kr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=EC.bind(null,$e,t),[n.memoizedState,t]},useRef:function(t){var e=kr();return t={current:t},e.memoizedState=t},useState:fg,useDebugValue:Qf,useDeferredValue:function(t){return kr().memoizedState=t},useTransition:function(){var t=fg(!1),e=t[0];return t=kC.bind(null,t[1]),kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=$e,s=kr();if(De){if(r===void 0)throw Error($(407));r=r()}else{if(r=e(),tt===null)throw Error($(349));Ps&30||Zw(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,pg(Xw.bind(null,n,o,t),[t]),n.flags|=2048,pa(9,Jw.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=kr(),e=tt.identifierPrefix;if(De){var r=Jr,n=Zr;r=(n&~(1<<32-vr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ha++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=SC++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RC={readContext:Zt,useCallback:a0,useContext:Zt,useEffect:Gf,useImperativeHandle:i0,useInsertionEffect:n0,useLayoutEffect:s0,useMemo:l0,useReducer:td,useRef:r0,useState:function(){return td(fa)},useDebugValue:Qf,useDeferredValue:function(t){var e=Jt();return c0(e,Ye.memoizedState,t)},useTransition:function(){var t=td(fa)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:Qw,useSyncExternalStore:Yw,useId:u0,unstable_isNewReconciler:!1},NC={readContext:Zt,useCallback:a0,useContext:Zt,useEffect:Gf,useImperativeHandle:i0,useInsertionEffect:n0,useLayoutEffect:s0,useMemo:l0,useReducer:rd,useRef:r0,useState:function(){return rd(fa)},useDebugValue:Qf,useDeferredValue:function(t){var e=Jt();return Ye===null?e.memoizedState=t:c0(e,Ye.memoizedState,t)},useTransition:function(){var t=rd(fa)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:Qw,useSyncExternalStore:Yw,useId:u0,unstable_isNewReconciler:!1};function cr(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ch(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ue({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var qc={isMounted:function(t){return(t=t._reactInternals)?Vs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=wt(),s=Bn(t),o=Xr(n,s);o.payload=e,r!=null&&(o.callback=r),e=Fn(t,o,s),e!==null&&(yr(e,t,s,n),Pl(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=wt(),s=Bn(t),o=Xr(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Fn(t,o,s),e!==null&&(yr(e,t,s,n),Pl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=wt(),n=Bn(t),s=Xr(r,n);s.tag=2,e!=null&&(s.callback=e),e=Fn(t,s,n),e!==null&&(yr(e,t,n,r),Pl(e,t,n))}};function mg(t,e,r,n,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,i):e.prototype&&e.prototype.isPureReactComponent?!ia(r,n)||!ia(s,o):!0}function p0(t,e,r){var n=!1,s=qn,o=e.contextType;return typeof o=="object"&&o!==null?o=Zt(o):(s=Nt(e)?Ns:mt.current,n=e.contextTypes,o=(n=n!=null)?Ko(t,s):qn),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function gg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&qc.enqueueReplaceState(e,e.state,null)}function uh(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},zf(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Zt(o):(o=Nt(e)?Ns:mt.current,s.context=Ko(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ch(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&qc.enqueueReplaceState(s,s.state,null),lc(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zo(t,e){try{var r="",n=e;do r+=nE(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function nd(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function dh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var jC=typeof WeakMap=="function"?WeakMap:Map;function m0(t,e,r){r=Xr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){fc||(fc=!0,bh=n),dh(t,e)},r}function g0(t,e,r){r=Xr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){dh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){dh(t,e),typeof n!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function vg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new jC;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=WC.bind(null,t,e,r),e.then(t,t))}function yg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wg(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Xr(-1,1),e.tag=2,Fn(r,e,1))),r.lanes|=1),t)}var PC=ln.ReactCurrentOwner,Tt=!1;function vt(t,e,r,n){e.child=t===null?Hw(e,null,r,n):Qo(e,t.child,r,n)}function xg(t,e,r,n,s){r=r.render;var o=e.ref;return Po(e,s),n=qf(t,e,r,n,o,s),r=Kf(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,nn(t,e,s)):(De&&r&&If(e),e.flags|=1,vt(t,e,n,s),e.child)}function bg(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!np(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,v0(t,e,o,n,s)):(t=Ll(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:ia,r(i,n)&&t.ref===e.ref)return nn(t,e,s)}return e.flags|=1,t=Vn(o,n),t.ref=e.ref,t.return=e,e.child=t}function v0(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(ia(o,n)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,nn(t,e,s)}return hh(t,e,r,n,s)}function y0(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Eo,At),At|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Eo,At),At|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,je(Eo,At),At|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,je(Eo,At),At|=n;return vt(t,e,s,r),e.child}function w0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function hh(t,e,r,n,s){var o=Nt(r)?Ns:mt.current;return o=Ko(e,o),Po(e,s),r=qf(t,e,r,n,o,s),n=Kf(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,nn(t,e,s)):(De&&n&&If(e),e.flags|=1,vt(t,e,r,s),e.child)}function _g(t,e,r,n,s){if(Nt(r)){var o=!0;nc(e)}else o=!1;if(Po(e,s),e.stateNode===null)Il(t,e),p0(e,r,n),uh(e,r,n,s),n=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Zt(c):(c=Nt(r)?Ns:mt.current,c=Ko(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||l!==c)&&gg(e,i,n,c),bn=!1;var p=e.memoizedState;i.state=p,lc(e,n,i,s),l=e.memoizedState,a!==n||p!==l||Rt.current||bn?(typeof d=="function"&&(ch(e,r,d,n),l=e.memoizedState),(a=bn||mg(e,r,a,n,p,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),i.props=n,i.state=l,i.context=c,n=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,Kw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:cr(e.type,a),i.props=c,f=e.pendingProps,p=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Zt(l):(l=Nt(r)?Ns:mt.current,l=Ko(e,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||p!==l)&&gg(e,i,n,l),bn=!1,p=e.memoizedState,i.state=p,lc(e,n,i,s);var b=e.memoizedState;a!==f||p!==b||Rt.current||bn?(typeof m=="function"&&(ch(e,r,m,n),b=e.memoizedState),(c=bn||mg(e,r,c,n,p,b,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),i.props=n,i.state=b,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return fh(t,e,r,n,o,s)}function fh(t,e,r,n,s,o){w0(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return s&&ag(e,r,!1),nn(t,e,o);n=e.stateNode,PC.current=e;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=Qo(e,t.child,null,o),e.child=Qo(e,null,a,o)):vt(t,e,a,o),e.memoizedState=n.state,s&&ag(e,r,!0),e.child}function x0(t){var e=t.stateNode;e.pendingContext?ig(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ig(t,e.context,!1),Bf(t,e.containerInfo)}function Sg(t,e,r,n,s){return Go(),Mf(s),e.flags|=256,vt(t,e,r,n),e.child}var ph={dehydrated:null,treeContext:null,retryLane:0};function mh(t){return{baseLanes:t,cachePool:null,transitions:null}}function b0(t,e,r){var n=e.pendingProps,s=Le.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),je(Le,s&1),t===null)return ah(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Qc(i,n,0,null),t=Cs(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=mh(r),e.memoizedState=ph,t):Yf(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return AC(t,e,i,n,a,s,r);if(o){o=n.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Vn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Vn(a,o):(o=Cs(o,i,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,i=t.child.memoizedState,i=i===null?mh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~r,e.memoizedState=ph,n}return o=t.child,t=o.sibling,n=Vn(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Yf(t,e){return e=Qc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cl(t,e,r,n){return n!==null&&Mf(n),Qo(e,t.child,null,r),t=Yf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AC(t,e,r,n,s,o,i){if(r)return e.flags&256?(e.flags&=-257,n=nd(Error($(422))),cl(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=Qc({mode:"visible",children:n.children},s,0,null),o=Cs(o,s,i,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Qo(e,t.child,null,i),e.child.memoizedState=mh(i),e.memoizedState=ph,o);if(!(e.mode&1))return cl(t,e,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error($(419)),n=nd(o,n,void 0),cl(t,e,i,n)}if(a=(i&t.childLanes)!==0,Tt||a){if(n=tt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,rn(t,s),yr(n,t,s,-1))}return rp(),n=nd(Error($(421))),cl(t,e,i,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=HC.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Mt=Un(s.nextSibling),Lt=e,De=!0,gr=null,t!==null&&(qt[Kt++]=Zr,qt[Kt++]=Jr,qt[Kt++]=js,Zr=t.id,Jr=t.overflow,js=e),e=Yf(e,n.children),e.flags|=4096,e)}function kg(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),lh(t.return,e,r)}function sd(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function _0(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(vt(t,e,n.children,r),n=Le.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kg(t,r,e);else if(t.tag===19)kg(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(je(Le,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&cc(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),sd(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&cc(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}sd(e,!0,r,null,o);break;case"together":sd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Il(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),As|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,r=Vn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Vn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function OC(t,e,r){switch(e.tag){case 3:x0(e),Go();break;case 5:Gw(e);break;case 1:Nt(e.type)&&nc(e);break;case 4:Bf(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;je(ic,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(je(Le,Le.current&1),e.flags|=128,null):r&e.child.childLanes?b0(t,e,r):(je(Le,Le.current&1),t=nn(t,e,r),t!==null?t.sibling:null);je(Le,Le.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return _0(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Le,Le.current),n)break;return null;case 22:case 23:return e.lanes=0,y0(t,e,r)}return nn(t,e,r)}var S0,gh,k0,E0;S0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gh=function(){};k0=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,vs(Ar.current);var o=null;switch(r){case"input":s=$d(t,s),n=$d(t,n),o=[];break;case"select":s=Ue({},s,{value:void 0}),n=Ue({},n,{value:void 0}),o=[];break;case"textarea":s=zd(t,s),n=zd(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=tc)}Vd(r,n);var i;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xi.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ae("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};E0=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ci(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function IC(t,e,r){var n=e.pendingProps;switch(Df(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(e),null;case 1:return Nt(e.type)&&rc(),dt(e),null;case 3:return n=e.stateNode,Yo(),Oe(Rt),Oe(mt),Wf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(al(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gr!==null&&(kh(gr),gr=null))),gh(t,e),dt(e),null;case 5:Vf(e);var s=vs(da.current);if(r=e.type,t!==null&&e.stateNode!=null)k0(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error($(166));return dt(e),null}if(t=vs(Ar.current),al(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Rr]=e,n[ca]=o,t=(e.mode&1)!==0,r){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(s=0;s<Oi.length;s++)Ae(Oi[s],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":Om(n,o),Ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ae("invalid",n);break;case"textarea":Dm(n,o),Ae("invalid",n)}Vd(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&il(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&il(n.textContent,a,t),s=["children",""+a]):Xi.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ae("scroll",n)}switch(r){case"input":Ja(n),Im(n,o,!0);break;case"textarea":Ja(n),Mm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=tc)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xy(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Rr]=e,t[ca]=n,S0(t,e,!1,!1),e.stateNode=t;e:{switch(i=Wd(r,n),r){case"dialog":Ae("cancel",t),Ae("close",t),s=n;break;case"iframe":case"object":case"embed":Ae("load",t),s=n;break;case"video":case"audio":for(s=0;s<Oi.length;s++)Ae(Oi[s],t);s=n;break;case"source":Ae("error",t),s=n;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),s=n;break;case"details":Ae("toggle",t),s=n;break;case"input":Om(t,n),s=$d(t,n),Ae("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Ue({},n,{value:void 0}),Ae("invalid",t);break;case"textarea":Dm(t,n),s=zd(t,n),Ae("invalid",t);break;default:s=n}Vd(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?rw(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ew(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ea(t,l):typeof l=="number"&&ea(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xi.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ae("scroll",t):l!=null&&xf(t,o,l,i))}switch(r){case"input":Ja(t),Im(t,n,!1);break;case"textarea":Ja(t),Mm(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Hn(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?To(t,!!n.multiple,o,!1):n.defaultValue!=null&&To(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=tc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dt(e),null;case 6:if(t&&e.stateNode!=null)E0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error($(166));if(r=vs(da.current),vs(Ar.current),al(e)){if(n=e.stateNode,r=e.memoizedProps,n[Rr]=e,(o=n.nodeValue!==r)&&(t=Lt,t!==null))switch(t.tag){case 3:il(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&il(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rr]=e,e.stateNode=n}return dt(e),null;case 13:if(Oe(Le),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Mt!==null&&e.mode&1&&!(e.flags&128))Vw(),Go(),e.flags|=98560,o=!1;else if(o=al(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error($(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($(317));o[Rr]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),o=!1}else gr!==null&&(kh(gr),gr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?Ze===0&&(Ze=3):rp())),e.updateQueue!==null&&(e.flags|=4),dt(e),null);case 4:return Yo(),gh(t,e),t===null&&aa(e.stateNode.containerInfo),dt(e),null;case 10:return Uf(e.type._context),dt(e),null;case 17:return Nt(e.type)&&rc(),dt(e),null;case 19:if(Oe(Le),o=e.memoizedState,o===null)return dt(e),null;if(n=(e.flags&128)!==0,i=o.rendering,i===null)if(n)Ci(o,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=cc(t),i!==null){for(e.flags|=128,Ci(o,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return je(Le,Le.current&1|2),e.child}t=t.sibling}o.tail!==null&&We()>Jo&&(e.flags|=128,n=!0,Ci(o,!1),e.lanes=4194304)}else{if(!n)if(t=cc(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ci(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!De)return dt(e),null}else 2*We()-o.renderingStartTime>Jo&&r!==1073741824&&(e.flags|=128,n=!0,Ci(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(r=o.last,r!==null?r.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,r=Le.current,je(Le,n?r&1|2:r&1),e):(dt(e),null);case 22:case 23:return tp(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?At&1073741824&&(dt(e),e.subtreeFlags&6&&(e.flags|=8192)):dt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function DC(t,e){switch(Df(e),e.tag){case 1:return Nt(e.type)&&rc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yo(),Oe(Rt),Oe(mt),Wf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vf(e),null;case 13:if(Oe(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Le),null;case 4:return Yo(),null;case 10:return Uf(e.type._context),null;case 22:case 23:return tp(),null;case 24:return null;default:return null}}var ul=!1,pt=!1,MC=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ko(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(t,e,n)}else r.current=null}function vh(t,e,r){try{r()}catch(n){Ve(t,e,n)}}var Eg=!1;function LC(t,e){if(eh=Jl,t=jw(),Of(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(a=i+s),f!==o||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===r&&++c===s&&(a=i),p===o&&++d===n&&(l=i),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(th={focusedElem:t,selectionRange:r},Jl=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,x=b.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:cr(e.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(_){Ve(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return b=Eg,Eg=!1,b}function Ki(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&vh(e,r,o)}s=s.next}while(s!==n)}}function Kc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function yh(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function C0(t){var e=t.alternate;e!==null&&(t.alternate=null,C0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rr],delete e[ca],delete e[sh],delete e[wC],delete e[xC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function T0(t){return t.tag===5||t.tag===3||t.tag===4}function Cg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=tc));else if(n!==4&&(t=t.child,t!==null))for(wh(t,e,r),t=t.sibling;t!==null;)wh(t,e,r),t=t.sibling}function xh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(xh(t,e,r),t=t.sibling;t!==null;)xh(t,e,r),t=t.sibling}var ot=null,pr=!1;function mn(t,e,r){for(r=r.child;r!==null;)R0(t,e,r),r=r.sibling}function R0(t,e,r){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Uc,r)}catch{}switch(r.tag){case 5:pt||ko(r,e);case 6:var n=ot,s=pr;ot=null,mn(t,e,r),ot=n,pr=s,ot!==null&&(pr?(t=ot,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ot.removeChild(r.stateNode));break;case 18:ot!==null&&(pr?(t=ot,r=r.stateNode,t.nodeType===8?Zu(t.parentNode,r):t.nodeType===1&&Zu(t,r),sa(t)):Zu(ot,r.stateNode));break;case 4:n=ot,s=pr,ot=r.stateNode.containerInfo,pr=!0,mn(t,e,r),ot=n,pr=s;break;case 0:case 11:case 14:case 15:if(!pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&vh(r,e,i),s=s.next}while(s!==n)}mn(t,e,r);break;case 1:if(!pt&&(ko(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ve(r,e,a)}mn(t,e,r);break;case 21:mn(t,e,r);break;case 22:r.mode&1?(pt=(n=pt)||r.memoizedState!==null,mn(t,e,r),pt=n):mn(t,e,r);break;default:mn(t,e,r)}}function Tg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new MC),e.forEach(function(n){var s=qC.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function or(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,pr=!1;break e;case 3:ot=a.stateNode.containerInfo,pr=!0;break e;case 4:ot=a.stateNode.containerInfo,pr=!0;break e}a=a.return}if(ot===null)throw Error($(160));R0(o,i,s),ot=null,pr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ve(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)N0(e,t),e=e.sibling}function N0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Sr(t),n&4){try{Ki(3,t,t.return),Kc(3,t)}catch(g){Ve(t,t.return,g)}try{Ki(5,t,t.return)}catch(g){Ve(t,t.return,g)}}break;case 1:or(e,t),Sr(t),n&512&&r!==null&&ko(r,r.return);break;case 5:if(or(e,t),Sr(t),n&512&&r!==null&&ko(r,r.return),t.flags&32){var s=t.stateNode;try{ea(s,"")}catch(g){Ve(t,t.return,g)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=r!==null?r.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Zy(s,o),Wd(a,i);var c=Wd(a,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?rw(s,f):d==="dangerouslySetInnerHTML"?ew(s,f):d==="children"?ea(s,f):xf(s,d,f,c)}switch(a){case"input":Ud(s,o);break;case"textarea":Jy(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?To(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?To(s,!!o.multiple,o.defaultValue,!0):To(s,!!o.multiple,o.multiple?[]:"",!1))}s[ca]=o}catch(g){Ve(t,t.return,g)}}break;case 6:if(or(e,t),Sr(t),n&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(g){Ve(t,t.return,g)}}break;case 3:if(or(e,t),Sr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sa(e.containerInfo)}catch(g){Ve(t,t.return,g)}break;case 4:or(e,t),Sr(t);break;case 13:or(e,t),Sr(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Xf=We())),n&4&&Tg(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(pt=(c=pt)||d,or(e,t),pt=c):or(e,t),Sr(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(f=Q=d;Q!==null;){switch(p=Q,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ki(4,p,p.return);break;case 1:ko(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(g){Ve(n,r,g)}}break;case 5:ko(p,p.return);break;case 22:if(p.memoizedState!==null){Ng(f);continue}}m!==null?(m.return=p,Q=m):Ng(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tw("display",i))}catch(g){Ve(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Ve(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:or(e,t),Sr(t),n&4&&Tg(t);break;case 21:break;default:or(e,t),Sr(t)}}function Sr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(T0(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ea(s,""),n.flags&=-33);var o=Cg(t);xh(t,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=Cg(t);wh(t,a,i);break;default:throw Error($(161))}}catch(l){Ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $C(t,e,r){Q=t,j0(t)}function j0(t,e,r){for(var n=(t.mode&1)!==0;Q!==null;){var s=Q,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||ul;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||pt;a=ul;var c=pt;if(ul=i,(pt=l)&&!c)for(Q=s;Q!==null;)i=Q,l=i.child,i.tag===22&&i.memoizedState!==null?jg(s):l!==null?(l.return=i,Q=l):jg(s);for(;o!==null;)Q=o,j0(o),o=o.sibling;Q=s,ul=a,pt=c}Rg(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Q=o):Rg(t)}}function Rg(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pt||Kc(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!pt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:cr(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&hg(e,o,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}hg(e,i,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&sa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}pt||e.flags&512&&yh(e)}catch(p){Ve(e,e.return,p)}}if(e===t){Q=null;break}if(r=e.sibling,r!==null){r.return=e.return,Q=r;break}Q=e.return}}function Ng(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Q=r;break}Q=e.return}}function jg(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Kc(4,e)}catch(l){Ve(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Ve(e,s,l)}}var o=e.return;try{yh(e)}catch(l){Ve(e,o,l)}break;case 5:var i=e.return;try{yh(e)}catch(l){Ve(e,i,l)}}}catch(l){Ve(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var UC=Math.ceil,hc=ln.ReactCurrentDispatcher,Zf=ln.ReactCurrentOwner,Qt=ln.ReactCurrentBatchConfig,we=0,tt=null,Ge=null,it=0,At=0,Eo=Jn(0),Ze=0,ma=null,As=0,Gc=0,Jf=0,Gi=null,Ct=null,Xf=0,Jo=1/0,Kr=null,fc=!1,bh=null,zn=null,dl=!1,On=null,pc=0,Qi=0,_h=null,Dl=-1,Ml=0;function wt(){return we&6?We():Dl!==-1?Dl:Dl=We()}function Bn(t){return t.mode&1?we&2&&it!==0?it&-it:_C.transition!==null?(Ml===0&&(Ml=pw()),Ml):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:bw(t.type)),t):1}function yr(t,e,r,n){if(50<Qi)throw Qi=0,_h=null,Error($(185));Ma(t,r,n),(!(we&2)||t!==tt)&&(t===tt&&(!(we&2)&&(Gc|=r),Ze===4&&En(t,it)),jt(t,n),r===1&&we===0&&!(e.mode&1)&&(Jo=We()+500,Wc&&Xn()))}function jt(t,e){var r=t.callbackNode;_E(t,e);var n=Zl(t,t===tt?it:0);if(n===0)r!==null&&Um(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Um(r),e===1)t.tag===0?bC(Pg.bind(null,t)):Fw(Pg.bind(null,t)),vC(function(){!(we&6)&&Xn()}),r=null;else{switch(mw(n)){case 1:r=Ef;break;case 4:r=hw;break;case 16:r=Yl;break;case 536870912:r=fw;break;default:r=Yl}r=$0(r,P0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function P0(t,e){if(Dl=-1,Ml=0,we&6)throw Error($(327));var r=t.callbackNode;if(Ao()&&t.callbackNode!==r)return null;var n=Zl(t,t===tt?it:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=mc(t,n);else{e=n;var s=we;we|=2;var o=O0();(tt!==t||it!==e)&&(Kr=null,Jo=We()+500,Es(t,e));do try{BC();break}catch(a){A0(t,a)}while(!0);$f(),hc.current=o,we=s,Ge!==null?e=0:(tt=null,it=0,e=Ze)}if(e!==0){if(e===2&&(s=Qd(t),s!==0&&(n=s,e=Sh(t,s))),e===1)throw r=ma,Es(t,0),En(t,n),jt(t,We()),r;if(e===6)En(t,n);else{if(s=t.current.alternate,!(n&30)&&!FC(s)&&(e=mc(t,n),e===2&&(o=Qd(t),o!==0&&(n=o,e=Sh(t,o))),e===1))throw r=ma,Es(t,0),En(t,n),jt(t,We()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error($(345));case 2:us(t,Ct,Kr);break;case 3:if(En(t,n),(n&130023424)===n&&(e=Xf+500-We(),10<e)){if(Zl(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){wt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=nh(us.bind(null,t,Ct,Kr),e);break}us(t,Ct,Kr);break;case 4:if(En(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var i=31-vr(n);o=1<<i,i=e[i],i>s&&(s=i),n&=~o}if(n=s,n=We()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*UC(n/1960))-n,10<n){t.timeoutHandle=nh(us.bind(null,t,Ct,Kr),n);break}us(t,Ct,Kr);break;case 5:us(t,Ct,Kr);break;default:throw Error($(329))}}}return jt(t,We()),t.callbackNode===r?P0.bind(null,t):null}function Sh(t,e){var r=Gi;return t.current.memoizedState.isDehydrated&&(Es(t,e).flags|=256),t=mc(t,e),t!==2&&(e=Ct,Ct=r,e!==null&&kh(e)),t}function kh(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function FC(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!wr(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function En(t,e){for(e&=~Jf,e&=~Gc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-vr(e),n=1<<r;t[r]=-1,e&=~n}}function Pg(t){if(we&6)throw Error($(327));Ao();var e=Zl(t,0);if(!(e&1))return jt(t,We()),null;var r=mc(t,e);if(t.tag!==0&&r===2){var n=Qd(t);n!==0&&(e=n,r=Sh(t,n))}if(r===1)throw r=ma,Es(t,0),En(t,e),jt(t,We()),r;if(r===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,us(t,Ct,Kr),jt(t,We()),null}function ep(t,e){var r=we;we|=1;try{return t(e)}finally{we=r,we===0&&(Jo=We()+500,Wc&&Xn())}}function Os(t){On!==null&&On.tag===0&&!(we&6)&&Ao();var e=we;we|=1;var r=Qt.transition,n=Ce;try{if(Qt.transition=null,Ce=1,t)return t()}finally{Ce=n,Qt.transition=r,we=e,!(we&6)&&Xn()}}function tp(){At=Eo.current,Oe(Eo)}function Es(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,gC(r)),Ge!==null)for(r=Ge.return;r!==null;){var n=r;switch(Df(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rc();break;case 3:Yo(),Oe(Rt),Oe(mt),Wf();break;case 5:Vf(n);break;case 4:Yo();break;case 13:Oe(Le);break;case 19:Oe(Le);break;case 10:Uf(n.type._context);break;case 22:case 23:tp()}r=r.return}if(tt=t,Ge=t=Vn(t.current,null),it=At=e,Ze=0,ma=null,Jf=Gc=As=0,Ct=Gi=null,gs!==null){for(e=0;e<gs.length;e++)if(r=gs[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}gs=null}return t}function A0(t,e){do{var r=Ge;try{if($f(),Al.current=dc,uc){for(var n=$e.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}uc=!1}if(Ps=0,et=Ye=$e=null,qi=!1,ha=0,Zf.current=null,r===null||r.return===null){Ze=1,ma=e,Ge=null;break}e:{var o=t,i=r.return,a=r,l=e;if(e=it,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=yg(i);if(m!==null){m.flags&=-257,wg(m,i,a,o,e),m.mode&1&&vg(o,c,e),e=m,l=c;var b=e.updateQueue;if(b===null){var g=new Set;g.add(l),e.updateQueue=g}else b.add(l);break e}else{if(!(e&1)){vg(o,c,e),rp();break e}l=Error($(426))}}else if(De&&a.mode&1){var x=yg(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),wg(x,i,a,o,e),Mf(Zo(l,a));break e}}o=l=Zo(l,a),Ze!==4&&(Ze=2),Gi===null?Gi=[o]:Gi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=m0(o,l,e);dg(o,y);break e;case 1:a=l;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zn===null||!zn.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var _=g0(o,a,e);dg(o,_);break e}}o=o.return}while(o!==null)}D0(r)}catch(S){e=S,Ge===r&&r!==null&&(Ge=r=r.return);continue}break}while(!0)}function O0(){var t=hc.current;return hc.current=dc,t===null?dc:t}function rp(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),tt===null||!(As&268435455)&&!(Gc&268435455)||En(tt,it)}function mc(t,e){var r=we;we|=2;var n=O0();(tt!==t||it!==e)&&(Kr=null,Es(t,e));do try{zC();break}catch(s){A0(t,s)}while(!0);if($f(),we=r,hc.current=n,Ge!==null)throw Error($(261));return tt=null,it=0,Ze}function zC(){for(;Ge!==null;)I0(Ge)}function BC(){for(;Ge!==null&&!fE();)I0(Ge)}function I0(t){var e=L0(t.alternate,t,At);t.memoizedProps=t.pendingProps,e===null?D0(t):Ge=e,Zf.current=null}function D0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=DC(r,e),r!==null){r.flags&=32767,Ge=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Ge=null;return}}else if(r=IC(r,e,At),r!==null){Ge=r;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Ze===0&&(Ze=5)}function us(t,e,r){var n=Ce,s=Qt.transition;try{Qt.transition=null,Ce=1,VC(t,e,r,n)}finally{Qt.transition=s,Ce=n}return null}function VC(t,e,r,n){do Ao();while(On!==null);if(we&6)throw Error($(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(SE(t,o),t===tt&&(Ge=tt=null,it=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||dl||(dl=!0,$0(Yl,function(){return Ao(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Qt.transition,Qt.transition=null;var i=Ce;Ce=1;var a=we;we|=4,Zf.current=null,LC(t,r),N0(r,t),cC(th),Jl=!!eh,th=eh=null,t.current=r,$C(r),pE(),we=a,Ce=i,Qt.transition=o}else t.current=r;if(dl&&(dl=!1,On=t,pc=s),o=t.pendingLanes,o===0&&(zn=null),vE(r.stateNode),jt(t,We()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(fc)throw fc=!1,t=bh,bh=null,t;return pc&1&&t.tag!==0&&Ao(),o=t.pendingLanes,o&1?t===_h?Qi++:(Qi=0,_h=t):Qi=0,Xn(),null}function Ao(){if(On!==null){var t=mw(pc),e=Qt.transition,r=Ce;try{if(Qt.transition=null,Ce=16>t?16:t,On===null)var n=!1;else{if(t=On,On=null,pc=0,we&6)throw Error($(331));var s=we;for(we|=4,Q=t.current;Q!==null;){var o=Q,i=o.child;if(Q.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Ki(8,d,o)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var p=d.sibling,m=d.return;if(C0(d),d===c){Q=null;break}if(p!==null){p.return=m,Q=p;break}Q=m}}}var b=o.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Q=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Q=i;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ki(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Q=y;break e}Q=o.return}}var v=t.current;for(Q=v;Q!==null;){i=Q;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,Q=w;else e:for(i=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kc(9,a)}}catch(S){Ve(a,a.return,S)}if(a===i){Q=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Q=_;break e}Q=a.return}}if(we=s,Xn(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Uc,t)}catch{}n=!0}return n}finally{Ce=r,Qt.transition=e}}return!1}function Ag(t,e,r){e=Zo(r,e),e=m0(t,e,1),t=Fn(t,e,1),e=wt(),t!==null&&(Ma(t,1,e),jt(t,e))}function Ve(t,e,r){if(t.tag===3)Ag(t,t,r);else for(;e!==null;){if(e.tag===3){Ag(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zn===null||!zn.has(n))){t=Zo(r,t),t=g0(e,t,1),e=Fn(e,t,1),t=wt(),e!==null&&(Ma(e,1,t),jt(e,t));break}}e=e.return}}function WC(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=wt(),t.pingedLanes|=t.suspendedLanes&r,tt===t&&(it&r)===r&&(Ze===4||Ze===3&&(it&130023424)===it&&500>We()-Xf?Es(t,0):Jf|=r),jt(t,e)}function M0(t,e){e===0&&(t.mode&1?(e=tl,tl<<=1,!(tl&130023424)&&(tl=4194304)):e=1);var r=wt();t=rn(t,e),t!==null&&(Ma(t,e,r),jt(t,r))}function HC(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),M0(t,r)}function qC(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(e),M0(t,r)}var L0;L0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rt.current)Tt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Tt=!1,OC(t,e,r);Tt=!!(t.flags&131072)}else Tt=!1,De&&e.flags&1048576&&zw(e,oc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Il(t,e),t=e.pendingProps;var s=Ko(e,mt.current);Po(e,r),s=qf(null,e,n,t,s,r);var o=Kf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nt(n)?(o=!0,nc(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zf(e),s.updater=qc,e.stateNode=s,s._reactInternals=e,uh(e,n,t,r),e=fh(null,e,n,!0,o,r)):(e.tag=0,De&&o&&If(e),vt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Il(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=GC(n),t=cr(n,t),s){case 0:e=hh(null,e,n,t,r);break e;case 1:e=_g(null,e,n,t,r);break e;case 11:e=xg(null,e,n,t,r);break e;case 14:e=bg(null,e,n,cr(n.type,t),r);break e}throw Error($(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:cr(n,s),hh(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:cr(n,s),_g(t,e,n,s,r);case 3:e:{if(x0(e),t===null)throw Error($(387));n=e.pendingProps,o=e.memoizedState,s=o.element,Kw(t,e),lc(e,n,null,r);var i=e.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Zo(Error($(423)),e),e=Sg(t,e,n,r,s);break e}else if(n!==s){s=Zo(Error($(424)),e),e=Sg(t,e,n,r,s);break e}else for(Mt=Un(e.stateNode.containerInfo.firstChild),Lt=e,De=!0,gr=null,r=Hw(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Go(),n===s){e=nn(t,e,r);break e}vt(t,e,n,r)}e=e.child}return e;case 5:return Gw(e),t===null&&ah(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,rh(n,s)?i=null:o!==null&&rh(n,o)&&(e.flags|=32),w0(t,e),vt(t,e,i,r),e.child;case 6:return t===null&&ah(e),null;case 13:return b0(t,e,r);case 4:return Bf(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Qo(e,null,n,r):vt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:cr(n,s),xg(t,e,n,s,r);case 7:return vt(t,e,e.pendingProps,r),e.child;case 8:return vt(t,e,e.pendingProps.children,r),e.child;case 12:return vt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,je(ic,n._currentValue),n._currentValue=i,o!==null)if(wr(o.value,i)){if(o.children===s.children&&!Rt.current){e=nn(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Xr(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),lh(o.return,r,e),a.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error($(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),lh(i,r,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}vt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Po(e,r),s=Zt(s),n=n(s),e.flags|=1,vt(t,e,n,r),e.child;case 14:return n=e.type,s=cr(n,e.pendingProps),s=cr(n.type,s),bg(t,e,n,s,r);case 15:return v0(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:cr(n,s),Il(t,e),e.tag=1,Nt(n)?(t=!0,nc(e)):t=!1,Po(e,r),p0(e,n,s),uh(e,n,s,r),fh(null,e,n,!0,t,r);case 19:return _0(t,e,r);case 22:return y0(t,e,r)}throw Error($(156,e.tag))};function $0(t,e){return dw(t,e)}function KC(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,e,r,n){return new KC(t,e,r,n)}function np(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GC(t){if(typeof t=="function")return np(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_f)return 11;if(t===Sf)return 14}return 2}function Vn(t,e){var r=t.alternate;return r===null?(r=Gt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ll(t,e,r,n,s,o){var i=2;if(n=t,typeof t=="function")np(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case mo:return Cs(r.children,s,o,e);case bf:i=8,s|=8;break;case Id:return t=Gt(12,r,e,s|2),t.elementType=Id,t.lanes=o,t;case Dd:return t=Gt(13,r,e,s),t.elementType=Dd,t.lanes=o,t;case Md:return t=Gt(19,r,e,s),t.elementType=Md,t.lanes=o,t;case Gy:return Qc(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qy:i=10;break e;case Ky:i=9;break e;case _f:i=11;break e;case Sf:i=14;break e;case xn:i=16,n=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Gt(i,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function Cs(t,e,r,n){return t=Gt(7,t,n,e),t.lanes=r,t}function Qc(t,e,r,n){return t=Gt(22,t,n,e),t.elementType=Gy,t.lanes=r,t.stateNode={isHidden:!1},t}function od(t,e,r){return t=Gt(6,t,null,e),t.lanes=r,t}function id(t,e,r){return e=Gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QC(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fu(0),this.expirationTimes=Fu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sp(t,e,r,n,s,o,i,a,l){return t=new QC(t,e,r,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zf(o),t}function YC(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:po,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function U0(t){if(!t)return qn;t=t._reactInternals;e:{if(Vs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var r=t.type;if(Nt(r))return Uw(t,r,e)}return e}function F0(t,e,r,n,s,o,i,a,l){return t=sp(r,n,!0,t,s,o,i,a,l),t.context=U0(null),r=t.current,n=wt(),s=Bn(r),o=Xr(n,s),o.callback=e??null,Fn(r,o,s),t.current.lanes=s,Ma(t,s,n),jt(t,n),t}function Yc(t,e,r,n){var s=e.current,o=wt(),i=Bn(s);return r=U0(r),e.context===null?e.context=r:e.pendingContext=r,e=Xr(o,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Fn(s,e,i),t!==null&&(yr(t,s,i,o),Pl(t,s,i)),i}function gc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Og(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function op(t,e){Og(t,e),(t=t.alternate)&&Og(t,e)}function ZC(){return null}var z0=typeof reportError=="function"?reportError:function(t){console.error(t)};function ip(t){this._internalRoot=t}Zc.prototype.render=ip.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Yc(t,e,null,null)};Zc.prototype.unmount=ip.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Os(function(){Yc(null,t,null,null)}),e[tn]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=yw();t={blockedOn:null,target:t,priority:e};for(var r=0;r<kn.length&&e!==0&&e<kn[r].priority;r++);kn.splice(r,0,t),r===0&&xw(t)}};function ap(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ig(){}function JC(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var c=gc(i);o.call(c)}}var i=F0(e,n,t,0,null,!1,!1,"",Ig);return t._reactRootContainer=i,t[tn]=i.current,aa(t.nodeType===8?t.parentNode:t),Os(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=gc(l);a.call(c)}}var l=sp(t,0,!1,null,null,!1,!1,"",Ig);return t._reactRootContainer=l,t[tn]=l.current,aa(t.nodeType===8?t.parentNode:t),Os(function(){Yc(e,l,r,n)}),l}function Xc(t,e,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=gc(i);a.call(l)}}Yc(e,i,t,s)}else i=JC(r,e,t,s,n);return gc(i)}gw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ai(e.pendingLanes);r!==0&&(Cf(e,r|1),jt(e,We()),!(we&6)&&(Jo=We()+500,Xn()))}break;case 13:Os(function(){var n=rn(t,1);if(n!==null){var s=wt();yr(n,t,1,s)}}),op(t,1)}};Tf=function(t){if(t.tag===13){var e=rn(t,134217728);if(e!==null){var r=wt();yr(e,t,134217728,r)}op(t,134217728)}};vw=function(t){if(t.tag===13){var e=Bn(t),r=rn(t,e);if(r!==null){var n=wt();yr(r,t,e,n)}op(t,e)}};yw=function(){return Ce};ww=function(t,e){var r=Ce;try{return Ce=t,e()}finally{Ce=r}};qd=function(t,e,r){switch(e){case"input":if(Ud(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Vc(n);if(!s)throw Error($(90));Yy(n),Ud(n,s)}}}break;case"textarea":Jy(t,r);break;case"select":e=r.value,e!=null&&To(t,!!r.multiple,e,!1)}};ow=ep;iw=Os;var XC={usingClientEntryPoint:!1,Events:[$a,wo,Vc,nw,sw,ep]},Ti={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eT={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||ZC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{Uc=hl.inject(eT),Pr=hl}catch{}}zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XC;zt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ap(e))throw Error($(200));return YC(t,e,null,r)};zt.createRoot=function(t,e){if(!ap(t))throw Error($(299));var r=!1,n="",s=z0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sp(t,1,!1,null,null,r,!1,n,s),t[tn]=e.current,aa(t.nodeType===8?t.parentNode:t),new ip(e)};zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=cw(e),t=t===null?null:t.stateNode,t};zt.flushSync=function(t){return Os(t)};zt.hydrate=function(t,e,r){if(!Jc(e))throw Error($(200));return Xc(null,t,e,!0,r)};zt.hydrateRoot=function(t,e,r){if(!ap(t))throw Error($(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=z0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=F0(e,null,t,1,r??null,s,!1,o,i),t[tn]=e.current,aa(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Zc(e)};zt.render=function(t,e,r){if(!Jc(e))throw Error($(200));return Xc(null,t,e,!1,r)};zt.unmountComponentAtNode=function(t){if(!Jc(t))throw Error($(40));return t._reactRootContainer?(Os(function(){Xc(null,null,t,!1,function(){t._reactRootContainer=null,t[tn]=null})}),!0):!1};zt.unstable_batchedUpdates=ep;zt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Jc(r))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Xc(t,e,r,!1,n)};zt.version="18.3.1-next-f1338f8080-20240426";function B0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B0)}catch(t){console.error(t)}}B0(),By.exports=zt;var Ws=By.exports;const V0=jy(Ws);var W0,Dg=Ws;W0=Dg.createRoot,Dg.hydrateRoot;const tT=1,rT=1e6;let ad=0;function nT(){return ad=(ad+1)%Number.MAX_SAFE_INTEGER,ad.toString()}const ld=new Map,Mg=t=>{if(ld.has(t))return;const e=setTimeout(()=>{ld.delete(t),Yi({type:"REMOVE_TOAST",toastId:t})},rT);ld.set(t,e)},sT=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,tT)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Mg(r):t.toasts.forEach(n=>{Mg(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},$l=[];let Ul={toasts:[]};function Yi(t){Ul=sT(Ul,t),$l.forEach(e=>{e(Ul)})}function oT({...t}){const e=nT(),r=s=>Yi({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>Yi({type:"DISMISS_TOAST",toastId:e});return Yi({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function iT(){const[t,e]=h.useState(Ul);return h.useEffect(()=>($l.push(e),()=>{const r=$l.indexOf(e);r>-1&&$l.splice(r,1)}),[t]),{...t,toast:oT,dismiss:r=>Yi({type:"DISMISS_TOAST",toastId:r})}}function V(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Lg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function eu(...t){return e=>{let r=!1;const n=t.map(s=>{const o=Lg(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Lg(t[s],null)}}}}function pe(...t){return h.useCallback(eu(...t),t)}function aT(t,e){const r=h.createContext(e),n=o=>{const{children:i,...a}=o,l=h.useMemo(()=>a,Object.values(a));return u.jsx(r.Provider,{value:l,children:i})};n.displayName=t+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,s]}function Xt(t,e=[]){let r=[];function n(o,i){const a=h.createContext(i),l=r.length;r=[...r,i];const c=f=>{var y;const{scope:p,children:m,...b}=f,g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,x=h.useMemo(()=>b,Object.values(b));return u.jsx(g.Provider,{value:x,children:m})};c.displayName=o+"Provider";function d(f,p){var g;const m=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,b=h.useContext(m);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return h.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,lT(s,...e)]}function lT(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function Is(t){const e=uT(t),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,a=h.Children.toArray(o),l=a.find(dT);if(l){const c=l.props.children,d=a.map(f=>f===l?h.Children.count(c)>1?h.Children.only(null):h.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...i,ref:s,children:h.isValidElement(c)?h.cloneElement(c,void 0,d):null})}return u.jsx(e,{...i,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var cT=Is("Slot");function uT(t){const e=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=fT(s),a=hT(o,s.props);return s.type!==h.Fragment&&(a.ref=n?eu(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var H0=Symbol("radix.slottable");function q0(t){const e=({children:r})=>u.jsx(u.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=H0,e}function dT(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===H0}function hT(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function fT(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function tu(t){const e=t+"CollectionProvider",[r,n]=Xt(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:x,children:y}=g,v=B.useRef(null),w=B.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:w,collectionRef:v,children:y})};i.displayName=e;const a=t+"CollectionSlot",l=Is(a),c=B.forwardRef((g,x)=>{const{scope:y,children:v}=g,w=o(a,y),_=pe(x,w.collectionRef);return u.jsx(l,{ref:_,children:v})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Is(d),m=B.forwardRef((g,x)=>{const{scope:y,children:v,...w}=g,_=B.useRef(null),S=pe(x,_),E=o(d,y);return B.useEffect(()=>(E.itemMap.set(_,{ref:_,...w}),()=>void E.itemMap.delete(_))),u.jsx(p,{[f]:"",ref:S,children:v})});m.displayName=d;function b(g){const x=o(t+"CollectionConsumer",g);return B.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((E,C)=>w.indexOf(E.ref.current)-w.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:c,ItemSlot:m},b,n]}var pT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],te=pT.reduce((t,e)=>{const r=Is(`Primitive.${e}`),n=h.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function lp(t,e){t&&Ws.flushSync(()=>t.dispatchEvent(e))}function He(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function mT(t,e=globalThis==null?void 0:globalThis.document){const r=He(t);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var gT="DismissableLayer",Eh="dismissableLayer.update",vT="dismissableLayer.pointerDownOutside",yT="dismissableLayer.focusOutside",$g,K0=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ci=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=t,c=h.useContext(K0),[d,f]=h.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=h.useState({}),b=pe(e,C=>f(C)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(x),v=d?g.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,_=v>=y,S=xT(C=>{const R=C.target,N=[...c.branches].some(P=>P.contains(R));!_||N||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},p),E=bT(C=>{const R=C.target;[...c.branches].some(P=>P.contains(R))||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},p);return mT(C=>{v===c.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),h.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&($g=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Ug(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=$g)}},[d,p,r,c]),h.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Ug())},[d,c]),h.useEffect(()=>{const C=()=>m({});return document.addEventListener(Eh,C),()=>document.removeEventListener(Eh,C)},[]),u.jsx(te.div,{...l,ref:b,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:V(t.onFocusCapture,E.onFocusCapture),onBlurCapture:V(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:V(t.onPointerDownCapture,S.onPointerDownCapture)})});ci.displayName=gT;var wT="DismissableLayerBranch",G0=h.forwardRef((t,e)=>{const r=h.useContext(K0),n=h.useRef(null),s=pe(e,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),u.jsx(te.div,{...t,ref:s})});G0.displayName=wT;function xT(t,e=globalThis==null?void 0:globalThis.document){const r=He(t),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let l=function(){Q0(vT,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function bT(t,e=globalThis==null?void 0:globalThis.document){const r=He(t),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&Q0(yT,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ug(){const t=new CustomEvent(Eh);document.dispatchEvent(t)}function Q0(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?lp(s,o):s.dispatchEvent(o)}var _T=ci,ST=G0,rt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},kT="Portal",Fa=h.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,o]=h.useState(!1);rt(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?V0.createPortal(u.jsx(te.div,{...n,ref:e}),i):null});Fa.displayName=kT;function ET(t,e){return h.useReducer((r,n)=>e[r][n]??r,t)}var _t=t=>{const{present:e,children:r}=t,n=CT(e),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=pe(n.ref,TT(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};_t.displayName="Presence";function CT(t){const[e,r]=h.useState(),n=h.useRef(null),s=h.useRef(t),o=h.useRef("none"),i=t?"mounted":"unmounted",[a,l]=ET(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=fl(n.current);o.current=a==="mounted"?c:"none"},[a]),rt(()=>{const c=n.current,d=s.current;if(d!==t){const p=o.current,m=fl(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),rt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=m=>{const g=fl(n.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=m=>{m.target===e&&(o.current=fl(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function fl(t){return(t==null?void 0:t.animationName)||"none"}function TT(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var RT=vf[" useInsertionEffect ".trim().toString()]||rt;function Ds({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,i]=NT({defaultProp:e,onChange:r}),a=t!==void 0,l=a?t:s;{const d=h.useRef(t!==void 0);h.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const c=h.useCallback(d=>{var f;if(a){const p=jT(d)?d(t):d;p!==t&&((f=i.current)==null||f.call(i,p))}else o(d)},[a,t,o,i]);return[l,c]}function NT({defaultProp:t,onChange:e}){const[r,n]=h.useState(t),s=h.useRef(r),o=h.useRef(e);return RT(()=>{o.current=e},[e]),h.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function jT(t){return typeof t=="function"}var Y0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PT="VisuallyHidden",ru=h.forwardRef((t,e)=>u.jsx(te.span,{...t,ref:e,style:{...Y0,...t.style}}));ru.displayName=PT;var AT=ru,cp="ToastProvider",[up,OT,IT]=tu("Toast"),[Z0,b4]=Xt("Toast",[IT]),[DT,nu]=Z0(cp),J0=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,l]=h.useState(null),[c,d]=h.useState(0),f=h.useRef(!1),p=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${cp}\`. Expected non-empty \`string\`.`),u.jsx(up.Provider,{scope:e,children:u.jsx(DT,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:h.useCallback(()=>d(m=>m+1),[]),onToastRemove:h.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};J0.displayName=cp;var X0="ToastViewport",MT=["F8"],Ch="toast.viewportPause",Th="toast.viewportResume",ex=h.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=MT,label:s="Notifications ({hotkey})",...o}=t,i=nu(X0,r),a=OT(r),l=h.useRef(null),c=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=pe(e,f,i.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;h.useEffect(()=>{const x=y=>{var w;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),h.useEffect(()=>{const x=l.current,y=f.current;if(b&&x&&y){const v=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(Ch);y.dispatchEvent(E),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Th);y.dispatchEvent(E),i.isClosePausedRef.current=!1}},_=E=>{!x.contains(E.relatedTarget)&&w()},S=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",v),x.addEventListener("focusout",_),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[b,i.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:x})=>{const v=a().map(w=>{const _=w.ref.current,S=[_,...QT(_)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?v.reverse():v).flat()},[a]);return h.useEffect(()=>{const x=f.current;if(x){const y=v=>{var S,E,C;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const R=document.activeElement,N=v.shiftKey;if(v.target===x&&N){(S=c.current)==null||S.focus();return}const I=g({tabbingDirection:N?"backwards":"forwards"}),q=I.findIndex(j=>j===R);cd(I.slice(q+1))?v.preventDefault():N?(E=c.current)==null||E.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[a,g]),u.jsxs(ST,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&u.jsx(Rh,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});cd(x)}}),u.jsx(up.Slot,{scope:r,children:u.jsx(te.ol,{tabIndex:-1,...o,ref:p})}),b&&u.jsx(Rh,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});cd(x)}})]})});ex.displayName=X0;var tx="ToastFocusProxy",Rh=h.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=nu(tx,r);return u.jsx(ru,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&n()}})});Rh.displayName=tx;var za="Toast",LT="toast.swipeStart",$T="toast.swipeMove",UT="toast.swipeCancel",FT="toast.swipeEnd",rx=h.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=t,[a,l]=Ds({prop:n,defaultProp:s??!0,onChange:o,caller:za});return u.jsx(_t,{present:r||a,children:u.jsx(VT,{open:a,...i,ref:e,onClose:()=>l(!1),onPause:He(t.onPause),onResume:He(t.onResume),onSwipeStart:V(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:V(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:V(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:V(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});rx.displayName=za;var[zT,BT]=Z0(za,{onClose(){}}),VT=h.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...b}=t,g=nu(za,r),[x,y]=h.useState(null),v=pe(e,j=>y(j)),w=h.useRef(null),_=h.useRef(null),S=s||g.duration,E=h.useRef(0),C=h.useRef(S),R=h.useRef(0),{onToastAdd:N,onToastRemove:P}=g,U=He(()=>{var D;(x==null?void 0:x.contains(document.activeElement))&&((D=g.viewport)==null||D.focus()),i()}),I=h.useCallback(j=>{!j||j===1/0||(window.clearTimeout(R.current),E.current=new Date().getTime(),R.current=window.setTimeout(U,j))},[U]);h.useEffect(()=>{const j=g.viewport;if(j){const D=()=>{I(C.current),c==null||c()},L=()=>{const W=new Date().getTime()-E.current;C.current=C.current-W,window.clearTimeout(R.current),l==null||l()};return j.addEventListener(Ch,L),j.addEventListener(Th,D),()=>{j.removeEventListener(Ch,L),j.removeEventListener(Th,D)}}},[g.viewport,S,l,c,I]),h.useEffect(()=>{o&&!g.isClosePausedRef.current&&I(S)},[o,S,g.isClosePausedRef,I]),h.useEffect(()=>(N(),()=>P()),[N,P]);const q=h.useMemo(()=>x?cx(x):null,[x]);return g.viewport?u.jsxs(u.Fragment,{children:[q&&u.jsx(WT,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),u.jsx(zT,{scope:r,onClose:U,children:Ws.createPortal(u.jsx(up.ItemSlot,{scope:r,children:u.jsx(_T,{asChild:!0,onEscapeKeyDown:V(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||U(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:V(t.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:V(t.onPointerDown,j=>{j.button===0&&(w.current={x:j.clientX,y:j.clientY})}),onPointerMove:V(t.onPointerMove,j=>{if(!w.current)return;const D=j.clientX-w.current.x,L=j.clientY-w.current.y,W=!!_.current,k=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,A=k?T(0,D):0,z=k?0:T(0,L),M=j.pointerType==="touch"?10:2,J={x:A,y:z},ee={originalEvent:j,delta:J};W?(_.current=J,pl($T,f,ee,{discrete:!1})):Fg(J,g.swipeDirection,M)?(_.current=J,pl(LT,d,ee,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(D)>M||Math.abs(L)>M)&&(w.current=null)}),onPointerUp:V(t.onPointerUp,j=>{const D=_.current,L=j.target;if(L.hasPointerCapture(j.pointerId)&&L.releasePointerCapture(j.pointerId),_.current=null,w.current=null,D){const W=j.currentTarget,k={originalEvent:j,delta:D};Fg(D,g.swipeDirection,g.swipeThreshold)?pl(FT,m,k,{discrete:!0}):pl(UT,p,k,{discrete:!0}),W.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),WT=t=>{const{__scopeToast:e,children:r,...n}=t,s=nu(za,e),[o,i]=h.useState(!1),[a,l]=h.useState(!1);return KT(()=>i(!0)),h.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Fa,{asChild:!0,children:u.jsx(ru,{...n,children:o&&u.jsxs(u.Fragment,{children:[s.label," ",r]})})})},HT="ToastTitle",nx=h.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(te.div,{...n,ref:e})});nx.displayName=HT;var qT="ToastDescription",sx=h.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(te.div,{...n,ref:e})});sx.displayName=qT;var ox="ToastAction",ix=h.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?u.jsx(lx,{altText:r,asChild:!0,children:u.jsx(dp,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ox}\`. Expected non-empty \`string\`.`),null)});ix.displayName=ox;var ax="ToastClose",dp=h.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=BT(ax,r);return u.jsx(lx,{asChild:!0,children:u.jsx(te.button,{type:"button",...n,ref:e,onClick:V(t.onClick,s.onClose)})})});dp.displayName=ax;var lx=h.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return u.jsx(te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function cx(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),GT(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...cx(n))}}),e}function pl(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?lp(s,o):s.dispatchEvent(o)}var Fg=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function KT(t=()=>{}){const e=He(t);rt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function GT(t){return t.nodeType===t.ELEMENT_NODE}function QT(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function cd(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var YT=J0,ux=ex,dx=rx,hx=nx,fx=sx,px=ix,mx=dp;function gx(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=gx(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function vx(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=gx(t))&&(n&&(n+=" "),n+=e);return n}const zg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Bg=vx,su=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Bg(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(c=>{const d=r==null?void 0:r[c],f=o==null?void 0:o[c];if(d===null)return null;const p=zg(d)||zg(f);return s[c][p]}),a=r&&Object.entries(r).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(b=>{let[g,x]=b;return Array.isArray(x)?x.includes({...o,...a}[g]):{...o,...a}[g]===x})?[...c,f,p]:c},[]);return Bg(t,i,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yx=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=h.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},l)=>h.createElement("svg",{ref:l,...JT,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:yx("lucide",s),...a},[...i.map(([c,d])=>h.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(t,e)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(XT,{ref:o,iconNode:e,className:yx(`lucide-${ZT(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=fe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=fe("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=fe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=fe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=fe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=fe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=fe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=fe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=fe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=fe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),gp="-",xR=t=>{const e=_R(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const a=i.split(gp);return a[0]===""&&a.length!==1&&a.shift(),Cx(a,e)||bR(i)},getConflictingClassGroupIds:(i,a)=>{const l=r[i]||[];return a&&n[i]?[...l,...n[i]]:l}}},Cx=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Cx(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(gp);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Gg=/^\[(.+)\]$/,bR=t=>{if(Gg.test(t)){const e=Gg.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},_R=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return kR(Object.entries(t.classGroups),r).forEach(([o,i])=>{Ph(i,n,o,e)}),n},Ph=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Qg(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(SR(s)){Ph(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Ph(i,Qg(e,o),r,n)})})},Qg=(t,e)=>{let r=t;return e.split(gp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},SR=t=>t.isThemeGetter,kR=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[r,s]}):t,ER=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},Tx="!",CR=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,i=a=>{const l=[];let c=0,d=0,f;for(let x=0;x<a.length;x++){let y=a[x];if(c===0){if(y===s&&(n||a.slice(x,x+o)===e)){l.push(a.slice(d,x)),d=x+o;continue}if(y==="/"){f=x;continue}}y==="["?c++:y==="]"&&c--}const p=l.length===0?a:a.substring(d),m=p.startsWith(Tx),b=m?p.substring(1):p,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:i}):i},TR=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},RR=t=>({cache:ER(t.cacheSize),parseClassName:CR(t),...xR(t)}),NR=/\s+/,jR=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(NR);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=r(c);let b=!!m,g=n(b?p.substring(0,m):p);if(!g){if(!b){a=c+(a.length>0?" "+a:a);continue}if(g=n(p),!g){a=c+(a.length>0?" "+a:a);continue}b=!1}const x=TR(d).join(":"),y=f?x+Tx:x,v=y+g;if(o.includes(v))continue;o.push(v);const w=s(g,b);for(let _=0;_<w.length;++_){const S=w[_];o.push(y+S)}a=c+(a.length>0?" "+a:a)}return a};function PR(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Rx(e))&&(n&&(n+=" "),n+=r);return n}const Rx=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Rx(t[n]))&&(r&&(r+=" "),r+=e);return r};function AR(t,...e){let r,n,s,o=i;function i(l){const c=e.reduce((d,f)=>f(d),t());return r=RR(c),n=r.cache.get,s=r.cache.set,o=a,a(l)}function a(l){const c=n(l);if(c)return c;const d=jR(l,r);return s(l,d),d}return function(){return o(PR.apply(null,arguments))}}const Pe=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Nx=/^\[(?:([a-z-]+):)?(.+)\]$/i,OR=/^\d+\/\d+$/,IR=new Set(["px","full","screen"]),DR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$R=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fr=t=>Oo(t)||IR.has(t)||OR.test(t),gn=t=>ui(t,"length",KR),Oo=t=>!!t&&!Number.isNaN(Number(t)),ud=t=>ui(t,"number",Oo),Ri=t=>!!t&&Number.isInteger(Number(t)),FR=t=>t.endsWith("%")&&Oo(t.slice(0,-1)),he=t=>Nx.test(t),vn=t=>DR.test(t),zR=new Set(["length","size","percentage"]),BR=t=>ui(t,zR,jx),VR=t=>ui(t,"position",jx),WR=new Set(["image","url"]),HR=t=>ui(t,WR,QR),qR=t=>ui(t,"",GR),Ni=()=>!0,ui=(t,e,r)=>{const n=Nx.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},KR=t=>MR.test(t)&&!LR.test(t),jx=()=>!1,GR=t=>$R.test(t),QR=t=>UR.test(t),YR=()=>{const t=Pe("colors"),e=Pe("spacing"),r=Pe("blur"),n=Pe("brightness"),s=Pe("borderColor"),o=Pe("borderRadius"),i=Pe("borderSpacing"),a=Pe("borderWidth"),l=Pe("contrast"),c=Pe("grayscale"),d=Pe("hueRotate"),f=Pe("invert"),p=Pe("gap"),m=Pe("gradientColorStops"),b=Pe("gradientColorStopPositions"),g=Pe("inset"),x=Pe("margin"),y=Pe("opacity"),v=Pe("padding"),w=Pe("saturate"),_=Pe("scale"),S=Pe("sepia"),E=Pe("skew"),C=Pe("space"),R=Pe("translate"),N=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",he,e],I=()=>[he,e],q=()=>["",Fr,gn],j=()=>["auto",Oo,he],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",he],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Oo,he];return{cacheSize:500,separator:":",theme:{colors:[Ni],spacing:[Fr,gn],blur:["none","",vn,he],brightness:z(),borderColor:[t],borderRadius:["none","","full",vn,he],borderSpacing:I(),borderWidth:q(),contrast:z(),grayscale:T(),hueRotate:z(),invert:T(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[FR,gn],inset:U(),margin:U(),opacity:z(),padding:I(),saturate:z(),scale:z(),sepia:T(),skew:z(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[vn]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),he]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ri,he]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Ri,he]}],"grid-cols":[{"grid-cols":[Ni]}],"col-start-end":[{col:["auto",{span:["full",Ri,he]},he]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Ni]}],"row-start-end":[{row:["auto",{span:[Ri,he]},he]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[vn]},vn]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vn,gn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ud]}],"font-family":[{font:[Ni]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Oo,ud]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fr,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fr,gn]}],"underline-offset":[{"underline-offset":["auto",Fr,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),VR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",BR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HR]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Fr,he]}],"outline-w":[{outline:[Fr,gn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Fr,gn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vn,qR]}],"shadow-color":[{shadow:[Ni]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",vn,he]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ri,he]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Fr,gn,ud]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZR=AR(YR);function K(...t){return ZR(vx(t))}const JR=YT,Px=h.forwardRef(({className:t,...e},r)=>u.jsx(ux,{ref:r,className:K("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Px.displayName=ux.displayName;const XR=su("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ax=h.forwardRef(({className:t,variant:e,...r},n)=>u.jsx(dx,{ref:n,className:K(XR({variant:e}),t),...r}));Ax.displayName=dx.displayName;const eN=h.forwardRef(({className:t,...e},r)=>u.jsx(px,{ref:r,className:K("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));eN.displayName=px.displayName;const Ox=h.forwardRef(({className:t,...e},r)=>u.jsx(mx,{ref:r,className:K("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Mr,{className:"h-4 w-4"})}));Ox.displayName=mx.displayName;const Ix=h.forwardRef(({className:t,...e},r)=>u.jsx(hx,{ref:r,className:K("text-sm font-semibold",t),...e}));Ix.displayName=hx.displayName;const Dx=h.forwardRef(({className:t,...e},r)=>u.jsx(fx,{ref:r,className:K("text-sm opacity-90",t),...e}));Dx.displayName=fx.displayName;function tN(){const{toasts:t}=iT();return u.jsxs(JR,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return u.jsxs(Ax,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(Ix,{children:r}),n&&u.jsx(Dx,{children:n})]}),s,u.jsx(Ox,{})]},e)}),u.jsx(Px,{})]})}var Yg=["light","dark"],rN="(prefers-color-scheme: dark)",nN=h.createContext(void 0),sN={setTheme:t=>{},themes:[]},oN=()=>{var t;return(t=h.useContext(nN))!=null?t:sN};h.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let c=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Yg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,g=!1,x=!0)=>{let y=i?i[b]:b,v=g?b+"|| ''":`'${y}'`,w="";return s&&x&&!g&&Yg.includes(b)&&(w+=`d.style.colorScheme = '${b}';`),r==="class"?g||y?w+=`c.add(${v})`:w+="null":y&&(w+=`d[s](n,${v})`),w},m=t?`!function(){${d}${p(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${rN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${c?"":"else{"+p(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var iN=t=>{switch(t){case"success":return cN;case"info":return dN;case"warning":return uN;case"error":return hN;default:return null}},aN=Array(12).fill(0),lN=({visible:t,className:e})=>B.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},B.createElement("div",{className:"sonner-spinner"},aN.map((r,n)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),cN=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uN=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dN=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hN=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fN=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pN=()=>{let[t,e]=B.useState(document.hidden);return B.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Ah=1,mN=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ah++,o=this.toasts.find(a=>a.id===s),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:r}),{...a,...t,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,o,i=n.then(async l=>{if(o=["resolve",l],B.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(vN(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:c,description:d})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:c,description:d})}}).catch(async l=>{if(o=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:c,description:d})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>i.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Ah++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Et=new mN,gN=(t,e)=>{let r=(e==null?void 0:e.id)||Ah++;return Et.addToast({title:t,...e,id:r}),r},vN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",yN=gN,wN=()=>Et.toasts,xN=()=>Et.getActiveToasts(),oe=Object.assign(yN,{success:Et.success,info:Et.info,warning:Et.warning,error:Et.error,custom:Et.custom,message:Et.message,promise:Et.promise,dismiss:Et.dismiss,loading:Et.loading},{getHistory:wN,getToasts:xN});function bN(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}bN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ml(t){return t.label!==void 0}var _N=3,SN="32px",kN="16px",Zg=4e3,EN=356,CN=14,TN=20,RN=200;function ir(...t){return t.filter(Boolean).join(" ")}function NN(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var jN=t=>{var e,r,n,s,o,i,a,l,c,d,f;let{invert:p,toast:m,unstyled:b,interacting:g,setHeights:x,visibleToasts:y,heights:v,index:w,toasts:_,expanded:S,removeToast:E,defaultRichColors:C,closeButton:R,style:N,cancelButtonStyle:P,actionButtonStyle:U,className:I="",descriptionClassName:q="",duration:j,position:D,gap:L,loadingIcon:W,expandByDefault:k,classNames:T,icons:A,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:M}=t,[J,ee]=B.useState(null),[se,Te]=B.useState(null),[H,be]=B.useState(!1),[_e,ve]=B.useState(!1),[ye,Se]=B.useState(!1),[lt,Vt]=B.useState(!1),[rs,dn]=B.useState(!1),[ns,vi]=B.useState(0),[Qs,xm]=B.useState(0),yi=B.useRef(m.duration||j||Zg),bm=B.useRef(null),ss=B.useRef(null),yk=w===0,wk=w+1<=y,Wt=m.type,Ys=m.dismissible!==!1,xk=m.className||"",bk=m.descriptionClassName||"",Ga=B.useMemo(()=>v.findIndex(ue=>ue.toastId===m.id)||0,[v,m.id]),_k=B.useMemo(()=>{var ue;return(ue=m.closeButton)!=null?ue:R},[m.closeButton,R]),_m=B.useMemo(()=>m.duration||j||Zg,[m.duration,j]),Au=B.useRef(0),Zs=B.useRef(0),Sm=B.useRef(0),Js=B.useRef(null),[Sk,kk]=D.split("-"),km=B.useMemo(()=>v.reduce((ue,Re,Ie)=>Ie>=Ga?ue:ue+Re.height,0),[v,Ga]),Em=pN(),Ek=m.invert||p,Ou=Wt==="loading";Zs.current=B.useMemo(()=>Ga*L+km,[Ga,km]),B.useEffect(()=>{yi.current=_m},[_m]),B.useEffect(()=>{be(!0)},[]),B.useEffect(()=>{let ue=ss.current;if(ue){let Re=ue.getBoundingClientRect().height;return xm(Re),x(Ie=>[{toastId:m.id,height:Re,position:m.position},...Ie]),()=>x(Ie=>Ie.filter(rr=>rr.toastId!==m.id))}},[x,m.id]),B.useLayoutEffect(()=>{if(!H)return;let ue=ss.current,Re=ue.style.height;ue.style.height="auto";let Ie=ue.getBoundingClientRect().height;ue.style.height=Re,xm(Ie),x(rr=>rr.find(nr=>nr.toastId===m.id)?rr.map(nr=>nr.toastId===m.id?{...nr,height:Ie}:nr):[{toastId:m.id,height:Ie,position:m.position},...rr])},[H,m.title,m.description,x,m.id]);let hn=B.useCallback(()=>{ve(!0),vi(Zs.current),x(ue=>ue.filter(Re=>Re.toastId!==m.id)),setTimeout(()=>{E(m)},RN)},[m,E,x,Zs]);B.useEffect(()=>{if(m.promise&&Wt==="loading"||m.duration===1/0||m.type==="loading")return;let ue;return S||g||M&&Em?(()=>{if(Sm.current<Au.current){let Re=new Date().getTime()-Au.current;yi.current=yi.current-Re}Sm.current=new Date().getTime()})():yi.current!==1/0&&(Au.current=new Date().getTime(),ue=setTimeout(()=>{var Re;(Re=m.onAutoClose)==null||Re.call(m,m),hn()},yi.current)),()=>clearTimeout(ue)},[S,g,m,Wt,M,Em,hn]),B.useEffect(()=>{m.delete&&hn()},[hn,m.delete]);function Ck(){var ue,Re,Ie;return A!=null&&A.loading?B.createElement("div",{className:ir(T==null?void 0:T.loader,(ue=m==null?void 0:m.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":Wt==="loading"},A.loading):W?B.createElement("div",{className:ir(T==null?void 0:T.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":Wt==="loading"},W):B.createElement(lN,{className:ir(T==null?void 0:T.loader,(Ie=m==null?void 0:m.classNames)==null?void 0:Ie.loader),visible:Wt==="loading"})}return B.createElement("li",{tabIndex:0,ref:ss,className:ir(I,xk,T==null?void 0:T.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,T==null?void 0:T.default,T==null?void 0:T[Wt],(r=m==null?void 0:m.classNames)==null?void 0:r[Wt]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:C,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":H,"data-promise":!!m.promise,"data-swiped":rs,"data-removed":_e,"data-visible":wk,"data-y-position":Sk,"data-x-position":kk,"data-index":w,"data-front":yk,"data-swiping":ye,"data-dismissible":Ys,"data-type":Wt,"data-invert":Ek,"data-swipe-out":lt,"data-swipe-direction":se,"data-expanded":!!(S||k&&H),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${_e?ns:Zs.current}px`,"--initial-height":k?"auto":`${Qs}px`,...N,...m.style},onDragEnd:()=>{Se(!1),ee(null),Js.current=null},onPointerDown:ue=>{Ou||!Ys||(bm.current=new Date,vi(Zs.current),ue.target.setPointerCapture(ue.pointerId),ue.target.tagName!=="BUTTON"&&(Se(!0),Js.current={x:ue.clientX,y:ue.clientY}))},onPointerUp:()=>{var ue,Re,Ie,rr;if(lt||!Ys)return;Js.current=null;let nr=Number(((ue=ss.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fn=Number(((Re=ss.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),os=new Date().getTime()-((Ie=bm.current)==null?void 0:Ie.getTime()),sr=J==="x"?nr:fn,pn=Math.abs(sr)/os;if(Math.abs(sr)>=TN||pn>.11){vi(Zs.current),(rr=m.onDismiss)==null||rr.call(m,m),Te(J==="x"?nr>0?"right":"left":fn>0?"down":"up"),hn(),Vt(!0),dn(!1);return}Se(!1),ee(null)},onPointerMove:ue=>{var Re,Ie,rr,nr;if(!Js.current||!Ys||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let fn=ue.clientY-Js.current.y,os=ue.clientX-Js.current.x,sr=(Ie=t.swipeDirections)!=null?Ie:NN(D);!J&&(Math.abs(os)>1||Math.abs(fn)>1)&&ee(Math.abs(os)>Math.abs(fn)?"x":"y");let pn={x:0,y:0};J==="y"?(sr.includes("top")||sr.includes("bottom"))&&(sr.includes("top")&&fn<0||sr.includes("bottom")&&fn>0)&&(pn.y=fn):J==="x"&&(sr.includes("left")||sr.includes("right"))&&(sr.includes("left")&&os<0||sr.includes("right")&&os>0)&&(pn.x=os),(Math.abs(pn.x)>0||Math.abs(pn.y)>0)&&dn(!0),(rr=ss.current)==null||rr.style.setProperty("--swipe-amount-x",`${pn.x}px`),(nr=ss.current)==null||nr.style.setProperty("--swipe-amount-y",`${pn.y}px`)}},_k&&!m.jsx?B.createElement("button",{"aria-label":z,"data-disabled":Ou,"data-close-button":!0,onClick:Ou||!Ys?()=>{}:()=>{var ue;hn(),(ue=m.onDismiss)==null||ue.call(m,m)},className:ir(T==null?void 0:T.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(o=A==null?void 0:A.close)!=null?o:fN):null,m.jsx||h.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:B.createElement(B.Fragment,null,Wt||m.icon||m.promise?B.createElement("div",{"data-icon":"",className:ir(T==null?void 0:T.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ck():null,m.type!=="loading"?m.icon||(A==null?void 0:A[Wt])||iN(Wt):null):null,B.createElement("div",{"data-content":"",className:ir(T==null?void 0:T.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},B.createElement("div",{"data-title":"",className:ir(T==null?void 0:T.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?B.createElement("div",{"data-description":"",className:ir(q,bk,T==null?void 0:T.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),h.isValidElement(m.cancel)?m.cancel:m.cancel&&ml(m.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:ue=>{var Re,Ie;ml(m.cancel)&&Ys&&((Ie=(Re=m.cancel).onClick)==null||Ie.call(Re,ue),hn())},className:ir(T==null?void 0:T.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,h.isValidElement(m.action)?m.action:m.action&&ml(m.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||U,onClick:ue=>{var Re,Ie;ml(m.action)&&((Ie=(Re=m.action).onClick)==null||Ie.call(Re,ue),!ue.defaultPrevented&&hn())},className:ir(T==null?void 0:T.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function Jg(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function PN(t,e){let r={};return[t,e].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?kN:SN;function l(c){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${i}-${c}`]=a:r[`${i}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(a)}),r}var AN=h.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:p,style:m,visibleToasts:b=_N,toastOptions:g,dir:x=Jg(),gap:y=CN,loadingIcon:v,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=t,[E,C]=B.useState([]),R=B.useMemo(()=>Array.from(new Set([n].concat(E.filter(M=>M.position).map(M=>M.position)))),[E,n]),[N,P]=B.useState([]),[U,I]=B.useState(!1),[q,j]=B.useState(!1),[D,L]=B.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=B.useRef(null),k=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=B.useRef(null),A=B.useRef(!1),z=B.useCallback(M=>{C(J=>{var ee;return(ee=J.find(se=>se.id===M.id))!=null&&ee.delete||Et.dismiss(M.id),J.filter(({id:se})=>se!==M.id)})},[]);return B.useEffect(()=>Et.subscribe(M=>{if(M.dismiss){C(J=>J.map(ee=>ee.id===M.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{V0.flushSync(()=>{C(J=>{let ee=J.findIndex(se=>se.id===M.id);return ee!==-1?[...J.slice(0,ee),{...J[ee],...M},...J.slice(ee+1)]:[M,...J]})})})}),[]),B.useEffect(()=>{if(d!=="system"){L(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:J})=>{L(J?"dark":"light")})}catch{M.addListener(({matches:ee})=>{try{L(ee?"dark":"light")}catch(se){console.error(se)}})}},[d]),B.useEffect(()=>{E.length<=1&&I(!1)},[E]),B.useEffect(()=>{let M=J=>{var ee,se;s.every(Te=>J[Te]||J.code===Te)&&(I(!0),(ee=W.current)==null||ee.focus()),J.code==="Escape"&&(document.activeElement===W.current||(se=W.current)!=null&&se.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s]),B.useEffect(()=>{if(W.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,A.current=!1)}},[W.current]),B.createElement("section",{ref:e,"aria-label":`${_} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((M,J)=>{var ee;let[se,Te]=M.split("-");return E.length?B.createElement("ol",{key:M,dir:x==="auto"?Jg():x,tabIndex:-1,ref:W,className:a,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":se,"data-lifted":U&&E.length>1&&!o,"data-x-position":Te,style:{"--front-toast-height":`${((ee=N[0])==null?void 0:ee.height)||0}px`,"--width":`${EN}px`,"--gap":`${y}px`,...m,...PN(l,c)},onBlur:H=>{A.current&&!H.currentTarget.contains(H.relatedTarget)&&(A.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||A.current||(A.current=!0,T.current=H.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{q||I(!1)},onDragEnd:()=>I(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},E.filter(H=>!H.position&&J===0||H.position===M).map((H,be)=>{var _e,ve;return B.createElement(jN,{key:H.id,icons:w,index:be,toast:H,defaultRichColors:f,duration:(_e=g==null?void 0:g.duration)!=null?_e:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:b,closeButton:(ve=g==null?void 0:g.closeButton)!=null?ve:i,interacting:q,position:M,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:z,toasts:E.filter(ye=>ye.position==H.position),heights:N.filter(ye=>ye.position==H.position),setHeights:P,expandByDefault:o,gap:y,loadingIcon:v,expanded:U,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const ON=({...t})=>{const{theme:e="system"}=oN();return u.jsx(AN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var IN=vf[" useId ".trim().toString()]||(()=>{}),DN=0;function Or(t){const[e,r]=h.useState(IN());return rt(()=>{r(n=>n??String(DN++))},[t]),e?`radix-${e}`:""}const MN=["top","right","bottom","left"],Kn=Math.min,Ot=Math.max,yc=Math.round,gl=Math.floor,Ir=t=>({x:t,y:t}),LN={left:"right",right:"left",bottom:"top",top:"bottom"},$N={start:"end",end:"start"};function Oh(t,e,r){return Ot(t,Kn(e,r))}function sn(t,e){return typeof t=="function"?t(e):t}function on(t){return t.split("-")[0]}function di(t){return t.split("-")[1]}function vp(t){return t==="x"?"y":"x"}function yp(t){return t==="y"?"height":"width"}const UN=new Set(["top","bottom"]);function jr(t){return UN.has(on(t))?"y":"x"}function wp(t){return vp(jr(t))}function FN(t,e,r){r===void 0&&(r=!1);const n=di(t),s=wp(t),o=yp(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=wc(i)),[i,wc(i)]}function zN(t){const e=wc(t);return[Ih(t),e,Ih(e)]}function Ih(t){return t.replace(/start|end/g,e=>$N[e])}const Xg=["left","right"],ev=["right","left"],BN=["top","bottom"],VN=["bottom","top"];function WN(t,e,r){switch(t){case"top":case"bottom":return r?e?ev:Xg:e?Xg:ev;case"left":case"right":return e?BN:VN;default:return[]}}function HN(t,e,r,n){const s=di(t);let o=WN(on(t),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Ih)))),o}function wc(t){return t.replace(/left|right|bottom|top/g,e=>LN[e])}function qN(t){return{top:0,right:0,bottom:0,left:0,...t}}function Mx(t){return typeof t!="number"?qN(t):{top:t,right:t,bottom:t,left:t}}function xc(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function tv(t,e,r){let{reference:n,floating:s}=t;const o=jr(e),i=wp(e),a=yp(i),l=on(e),c=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(di(e)){case"start":m[i]-=p*(r&&c?-1:1);break;case"end":m[i]+=p*(r&&c?-1:1);break}return m}const KN=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=tv(c,n,l),p=n,m={},b=0;for(let g=0;g<a.length;g++){const{name:x,fn:y}=a[g],{x:v,y:w,data:_,reset:S}=await y({x:d,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:m,rects:c,platform:i,elements:{reference:t,floating:e}});d=v??d,f=w??f,m={...m,[x]:{...m[x],..._}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:d,y:f}=tv(c,p,l)),g=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:m}};async function ga(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=sn(e,t),b=Mx(m),x=a[p?f==="floating"?"reference":"floating":f],y=xc(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(x)))==null||r?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=xc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:w,strategy:l}):v);return{top:(y.top-S.top+b.top)/_.y,bottom:(S.bottom-y.bottom+b.bottom)/_.y,left:(y.left-S.left+b.left)/_.x,right:(S.right-y.right+b.right)/_.x}}const GN=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=sn(t,e)||{};if(c==null)return{};const f=Mx(d),p={x:r,y:n},m=wp(s),b=yp(m),g=await i.getDimensions(c),x=m==="y",y=x?"top":"left",v=x?"bottom":"right",w=x?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[m]-p[m]-o.floating[b],S=p[m]-o.reference[m],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=E?E[w]:0;(!C||!await(i.isElement==null?void 0:i.isElement(E)))&&(C=a.floating[w]||o.floating[b]);const R=_/2-S/2,N=C/2-g[b]/2-1,P=Kn(f[y],N),U=Kn(f[v],N),I=P,q=C-g[b]-U,j=C/2-g[b]/2+R,D=Oh(I,j,q),L=!l.arrow&&di(s)!=null&&j!==D&&o.reference[b]/2-(j<I?P:U)-g[b]/2<0,W=L?j<I?j-I:j-q:0;return{[m]:p[m]+W,data:{[m]:D,centerOffset:j-D-W,...L&&{alignmentOffset:W}},reset:L}}}),QN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...x}=sn(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=on(s),v=jr(a),w=on(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=p||(w||!g?[wc(a)]:zN(a)),E=b!=="none";!p&&E&&S.push(...HN(a,g,b,_));const C=[a,...S],R=await ga(e,x),N=[];let P=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&N.push(R[y]),f){const j=FN(s,i,_);N.push(R[j[0]],R[j[1]])}if(P=[...P,{placement:s,overflows:N}],!N.every(j=>j<=0)){var U,I;const j=(((U=o.flip)==null?void 0:U.index)||0)+1,D=C[j];if(D&&(!(f==="alignment"?v!==jr(D):!1)||P.every(k=>k.overflows[0]>0&&jr(k.placement)===v)))return{data:{index:j,overflows:P},reset:{placement:D}};let L=(I=P.filter(W=>W.overflows[0]<=0).sort((W,k)=>W.overflows[1]-k.overflows[1])[0])==null?void 0:I.placement;if(!L)switch(m){case"bestFit":{var q;const W=(q=P.filter(k=>{if(E){const T=jr(k.placement);return T===v||T==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(T=>T>0).reduce((T,A)=>T+A,0)]).sort((k,T)=>k[1]-T[1])[0])==null?void 0:q[0];W&&(L=W);break}case"initialPlacement":L=a;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function rv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function nv(t){return MN.some(e=>t[e]>=0)}const YN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=sn(t,e);switch(n){case"referenceHidden":{const o=await ga(e,{...s,elementContext:"reference"}),i=rv(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:nv(i)}}}case"escaped":{const o=await ga(e,{...s,altBoundary:!0}),i=rv(o,r.floating);return{data:{escapedOffsets:i,escaped:nv(i)}}}default:return{}}}}},Lx=new Set(["left","top"]);async function ZN(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=on(r),a=di(r),l=jr(r)==="y",c=Lx.has(i)?-1:1,d=o&&l?-1:1,f=sn(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const JN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=e,l=await ZN(e,t);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},XN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...l}=sn(t,e),c={x:r,y:n},d=await ga(e,l),f=jr(on(s)),p=vp(f);let m=c[p],b=c[f];if(o){const x=p==="y"?"top":"left",y=p==="y"?"bottom":"right",v=m+d[x],w=m-d[y];m=Oh(v,m,w)}if(i){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=b+d[x],w=b-d[y];b=Oh(v,b,w)}const g=a.fn({...e,[p]:m,[f]:b});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[p]:o,[f]:i}}}}}},ej=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=sn(t,e),d={x:r,y:n},f=jr(s),p=vp(f);let m=d[p],b=d[f];const g=sn(a,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=p==="y"?"height":"width",_=o.reference[p]-o.floating[w]+x.mainAxis,S=o.reference[p]+o.reference[w]-x.mainAxis;m<_?m=_:m>S&&(m=S)}if(c){var y,v;const w=p==="y"?"width":"height",_=Lx.has(on(s)),S=o.reference[f]-o.floating[w]+(_&&((y=i.offset)==null?void 0:y[f])||0)+(_?0:x.crossAxis),E=o.reference[f]+o.reference[w]+(_?0:((v=i.offset)==null?void 0:v[f])||0)-(_?x.crossAxis:0);b<S?b=S:b>E&&(b=E)}return{[p]:m,[f]:b}}}},tj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:l=()=>{},...c}=sn(t,e),d=await ga(e,c),f=on(s),p=di(s),m=jr(s)==="y",{width:b,height:g}=o.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,x=p==="end"?"top":"bottom");const v=g-d.top-d.bottom,w=b-d.left-d.right,_=Kn(g-d[x],v),S=Kn(b-d[y],w),E=!e.middlewareData.shift;let C=_,R=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(R=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=v),E&&!p){const P=Ot(d.left,0),U=Ot(d.right,0),I=Ot(d.top,0),q=Ot(d.bottom,0);m?R=b-2*(P!==0||U!==0?P+U:Ot(d.left,d.right)):C=g-2*(I!==0||q!==0?I+q:Ot(d.top,d.bottom))}await l({...e,availableWidth:R,availableHeight:C});const N=await i.getDimensions(a.floating);return b!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function ou(){return typeof window<"u"}function hi(t){return $x(t)?(t.nodeName||"").toLowerCase():"#document"}function $t(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $r(t){var e;return(e=($x(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $x(t){return ou()?t instanceof Node||t instanceof $t(t).Node:!1}function xr(t){return ou()?t instanceof Element||t instanceof $t(t).Element:!1}function Lr(t){return ou()?t instanceof HTMLElement||t instanceof $t(t).HTMLElement:!1}function sv(t){return!ou()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $t(t).ShadowRoot}const rj=new Set(["inline","contents"]);function Ba(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=br(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!rj.has(s)}const nj=new Set(["table","td","th"]);function sj(t){return nj.has(hi(t))}const oj=[":popover-open",":modal"];function iu(t){return oj.some(e=>{try{return t.matches(e)}catch{return!1}})}const ij=["transform","translate","scale","rotate","perspective"],aj=["transform","translate","scale","rotate","perspective","filter"],lj=["paint","layout","strict","content"];function xp(t){const e=bp(),r=xr(t)?br(t):t;return ij.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||aj.some(n=>(r.willChange||"").includes(n))||lj.some(n=>(r.contain||"").includes(n))}function cj(t){let e=Gn(t);for(;Lr(e)&&!Xo(e);){if(xp(e))return e;if(iu(e))return null;e=Gn(e)}return null}function bp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uj=new Set(["html","body","#document"]);function Xo(t){return uj.has(hi(t))}function br(t){return $t(t).getComputedStyle(t)}function au(t){return xr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gn(t){if(hi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sv(t)&&t.host||$r(t);return sv(e)?e.host:e}function Ux(t){const e=Gn(t);return Xo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lr(e)&&Ba(e)?e:Ux(e)}function va(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=Ux(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),i=$t(s);if(o){const a=Dh(i);return e.concat(i,i.visualViewport||[],Ba(s)?s:[],a&&r?va(a):[])}return e.concat(s,va(s,[],r))}function Dh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Fx(t){const e=br(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Lr(t),o=s?t.offsetWidth:r,i=s?t.offsetHeight:n,a=yc(r)!==o||yc(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function _p(t){return xr(t)?t:t.contextElement}function Io(t){const e=_p(t);if(!Lr(e))return Ir(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=Fx(e);let i=(o?yc(r.width):r.width)/n,a=(o?yc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const dj=Ir(0);function zx(t){const e=$t(t);return!bp()||!e.visualViewport?dj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function hj(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==$t(t)?!1:e}function Ls(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=_p(t);let i=Ir(1);e&&(n?xr(n)&&(i=Io(n)):i=Io(t));const a=hj(o,r,n)?zx(o):Ir(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=$t(o),m=n&&xr(n)?$t(n):n;let b=p,g=Dh(b);for(;g&&n&&m!==b;){const x=Io(g),y=g.getBoundingClientRect(),v=br(g),w=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*x.x,_=y.top+(g.clientTop+parseFloat(v.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=w,c+=_,b=$t(g),g=Dh(b)}}return xc({width:d,height:f,x:l,y:c})}function Sp(t,e){const r=au(t).scrollLeft;return e?e.left+r:Ls($r(t)).left+r}function Bx(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:Sp(t,n)),o=n.top+e.scrollTop;return{x:s,y:o}}function fj(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",i=$r(n),a=e?iu(e.floating):!1;if(n===i||a&&o)return r;let l={scrollLeft:0,scrollTop:0},c=Ir(1);const d=Ir(0),f=Lr(n);if((f||!f&&!o)&&((hi(n)!=="body"||Ba(i))&&(l=au(n)),Lr(n))){const m=Ls(n);c=Io(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const p=i&&!f&&!o?Bx(i,l,!0):Ir(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:r.y*c.y-l.scrollTop*c.y+d.y+p.y}}function pj(t){return Array.from(t.getClientRects())}function mj(t){const e=$r(t),r=au(t),n=t.ownerDocument.body,s=Ot(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Ot(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Sp(t);const a=-r.scrollTop;return br(n).direction==="rtl"&&(i+=Ot(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function gj(t,e){const r=$t(t),n=$r(t),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=bp();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}const vj=new Set(["absolute","fixed"]);function yj(t,e){const r=Ls(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=Lr(t)?Io(t):Ir(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,l=s*o.x,c=n*o.y;return{width:i,height:a,x:l,y:c}}function ov(t,e,r){let n;if(e==="viewport")n=gj(t,r);else if(e==="document")n=mj($r(t));else if(xr(e))n=yj(e,r);else{const s=zx(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return xc(n)}function Vx(t,e){const r=Gn(t);return r===e||!xr(r)||Xo(r)?!1:br(r).position==="fixed"||Vx(r,e)}function wj(t,e){const r=e.get(t);if(r)return r;let n=va(t,[],!1).filter(a=>xr(a)&&hi(a)!=="body"),s=null;const o=br(t).position==="fixed";let i=o?Gn(t):t;for(;xr(i)&&!Xo(i);){const a=br(i),l=xp(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&vj.has(s.position)||Ba(i)&&!l&&Vx(t,i))?n=n.filter(d=>d!==i):s=a,i=Gn(i)}return e.set(t,n),n}function xj(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const i=[...r==="clippingAncestors"?iu(e)?[]:wj(e,this._c):[].concat(r),n],a=i[0],l=i.reduce((c,d)=>{const f=ov(e,d,s);return c.top=Ot(f.top,c.top),c.right=Kn(f.right,c.right),c.bottom=Kn(f.bottom,c.bottom),c.left=Ot(f.left,c.left),c},ov(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bj(t){const{width:e,height:r}=Fx(t);return{width:e,height:r}}function _j(t,e,r){const n=Lr(e),s=$r(e),o=r==="fixed",i=Ls(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Ir(0);function c(){l.x=Sp(s)}if(n||!n&&!o)if((hi(e)!=="body"||Ba(s))&&(a=au(e)),n){const m=Ls(e,!0,o,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&c();o&&!n&&s&&c();const d=s&&!n&&!o?Bx(s,a):Ir(0),f=i.left+a.scrollLeft-l.x-d.x,p=i.top+a.scrollTop-l.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function dd(t){return br(t).position==="static"}function iv(t,e){if(!Lr(t)||br(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return $r(t)===r&&(r=r.ownerDocument.body),r}function Wx(t,e){const r=$t(t);if(iu(t))return r;if(!Lr(t)){let s=Gn(t);for(;s&&!Xo(s);){if(xr(s)&&!dd(s))return s;s=Gn(s)}return r}let n=iv(t,e);for(;n&&sj(n)&&dd(n);)n=iv(n,e);return n&&Xo(n)&&dd(n)&&!xp(n)?r:n||cj(t)||r}const Sj=async function(t){const e=this.getOffsetParent||Wx,r=this.getDimensions,n=await r(t.floating);return{reference:_j(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function kj(t){return br(t).direction==="rtl"}const Ej={convertOffsetParentRelativeRectToViewportRelativeRect:fj,getDocumentElement:$r,getClippingRect:xj,getOffsetParent:Wx,getElementRects:Sj,getClientRects:pj,getDimensions:bj,getScale:Io,isElement:xr,isRTL:kj};function Hx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Cj(t,e){let r=null,n;const s=$r(t);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=c;if(a||e(),!p||!m)return;const b=gl(f),g=gl(s.clientWidth-(d+p)),x=gl(s.clientHeight-(f+m)),y=gl(d),w={rootMargin:-b+"px "+-g+"px "+-x+"px "+-y+"px",threshold:Ot(0,Kn(1,l))||1};let _=!0;function S(E){const C=E[0].intersectionRatio;if(C!==l){if(!_)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!Hx(c,t.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(t)}return i(!0),o}function Tj(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=_p(t),d=s||o?[...c?va(c):[],...va(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const f=c&&a?Cj(c,r):null;let p=-1,m=null;i&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),r()}),c&&!l&&m.observe(c),m.observe(e));let b,g=l?Ls(t):null;l&&x();function x(){const y=Ls(t);g&&!Hx(g,y)&&r(),g=y,b=requestAnimationFrame(x)}return r(),()=>{var y;d.forEach(v=>{s&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const Rj=JN,Nj=XN,jj=QN,Pj=tj,Aj=YN,av=GN,Oj=ej,Ij=(t,e,r)=>{const n=new Map,s={platform:Ej,...r},o={...s.platform,_c:n};return KN(t,e,{...s,platform:o})};var Dj=typeof document<"u",Mj=function(){},Fl=Dj?h.useLayoutEffect:Mj;function bc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!bc(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!bc(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function qx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lv(t,e){const r=qx(t);return Math.round(e*r)/r}function hd(t){const e=h.useRef(t);return Fl(()=>{e.current=t}),e}function Lj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=h.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(n);bc(p,n)||m(n);const[b,g]=h.useState(null),[x,y]=h.useState(null),v=h.useCallback(k=>{k!==E.current&&(E.current=k,g(k))},[]),w=h.useCallback(k=>{k!==C.current&&(C.current=k,y(k))},[]),_=o||b,S=i||x,E=h.useRef(null),C=h.useRef(null),R=h.useRef(d),N=l!=null,P=hd(l),U=hd(s),I=hd(c),q=h.useCallback(()=>{if(!E.current||!C.current)return;const k={placement:e,strategy:r,middleware:p};U.current&&(k.platform=U.current),Ij(E.current,C.current,k).then(T=>{const A={...T,isPositioned:I.current!==!1};j.current&&!bc(R.current,A)&&(R.current=A,Ws.flushSync(()=>{f(A)}))})},[p,e,r,U,I]);Fl(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[c]);const j=h.useRef(!1);Fl(()=>(j.current=!0,()=>{j.current=!1}),[]),Fl(()=>{if(_&&(E.current=_),S&&(C.current=S),_&&S){if(P.current)return P.current(_,S,q);q()}},[_,S,q,P,N]);const D=h.useMemo(()=>({reference:E,floating:C,setReference:v,setFloating:w}),[v,w]),L=h.useMemo(()=>({reference:_,floating:S}),[_,S]),W=h.useMemo(()=>{const k={position:r,left:0,top:0};if(!L.floating)return k;const T=lv(L.floating,d.x),A=lv(L.floating,d.y);return a?{...k,transform:"translate("+T+"px, "+A+"px)",...qx(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:A}},[r,a,L.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:q,refs:D,elements:L,floatingStyles:W}),[d,q,D,L,W])}const $j=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?av({element:n.current,padding:s}).fn(r):{}:n?av({element:n,padding:s}).fn(r):{}}}},Uj=(t,e)=>({...Rj(t),options:[t,e]}),Fj=(t,e)=>({...Nj(t),options:[t,e]}),zj=(t,e)=>({...Oj(t),options:[t,e]}),Bj=(t,e)=>({...jj(t),options:[t,e]}),Vj=(t,e)=>({...Pj(t),options:[t,e]}),Wj=(t,e)=>({...Aj(t),options:[t,e]}),Hj=(t,e)=>({...$j(t),options:[t,e]});var qj="Arrow",Kx=h.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return u.jsx(te.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Kx.displayName=qj;var Kj=Kx;function Gj(t){const[e,r]=h.useState(void 0);return rt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=t.offsetWidth,a=t.offsetHeight;r({width:i,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var kp="Popper",[Gx,fi]=Xt(kp),[Qj,Qx]=Gx(kp),Yx=t=>{const{__scopePopper:e,children:r}=t,[n,s]=h.useState(null);return u.jsx(Qj,{scope:e,anchor:n,onAnchorChange:s,children:r})};Yx.displayName=kp;var Zx="PopperAnchor",Jx=h.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=Qx(Zx,r),i=h.useRef(null),a=pe(e,i);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:u.jsx(te.div,{...s,ref:a})});Jx.displayName=Zx;var Ep="PopperContent",[Yj,Zj]=Gx(Ep),Xx=h.forwardRef((t,e)=>{var H,be,_e,ve,ye,Se;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:b,...g}=t,x=Qx(Ep,r),[y,v]=h.useState(null),w=pe(e,lt=>v(lt)),[_,S]=h.useState(null),E=Gj(_),C=(E==null?void 0:E.width)??0,R=(E==null?void 0:E.height)??0,N=n+(o!=="center"?"-"+o:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},U=Array.isArray(c)?c:[c],I=U.length>0,q={padding:P,boundary:U.filter(Xj),altBoundary:I},{refs:j,floatingStyles:D,placement:L,isPositioned:W,middlewareData:k}=Lj({strategy:"fixed",placement:N,whileElementsMounted:(...lt)=>Tj(...lt,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[Uj({mainAxis:s+R,alignmentAxis:i}),l&&Fj({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zj():void 0,...q}),l&&Bj({...q}),Vj({...q,apply:({elements:lt,rects:Vt,availableWidth:rs,availableHeight:dn})=>{const{width:ns,height:vi}=Vt.reference,Qs=lt.floating.style;Qs.setProperty("--radix-popper-available-width",`${rs}px`),Qs.setProperty("--radix-popper-available-height",`${dn}px`),Qs.setProperty("--radix-popper-anchor-width",`${ns}px`),Qs.setProperty("--radix-popper-anchor-height",`${vi}px`)}}),_&&Hj({element:_,padding:a}),eP({arrowWidth:C,arrowHeight:R}),p&&Wj({strategy:"referenceHidden",...q})]}),[T,A]=rb(L),z=He(b);rt(()=>{W&&(z==null||z())},[W,z]);const M=(H=k.arrow)==null?void 0:H.x,J=(be=k.arrow)==null?void 0:be.y,ee=((_e=k.arrow)==null?void 0:_e.centerOffset)!==0,[se,Te]=h.useState();return rt(()=>{y&&Te(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:W?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(ve=k.transformOrigin)==null?void 0:ve.x,(ye=k.transformOrigin)==null?void 0:ye.y].join(" "),...((Se=k.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(Yj,{scope:r,placedSide:T,onArrowChange:S,arrowX:M,arrowY:J,shouldHideArrow:ee,children:u.jsx(te.div,{"data-side":T,"data-align":A,...g,ref:w,style:{...g.style,animation:W?void 0:"none"}})})})});Xx.displayName=Ep;var eb="PopperArrow",Jj={top:"bottom",right:"left",bottom:"top",left:"right"},tb=h.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=Zj(eb,n),i=Jj[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(Kj,{...s,ref:r,style:{...s.style,display:"block"}})})});tb.displayName=eb;function Xj(t){return t!==null}var eP=t=>({name:"transformOrigin",options:t,fn(e){var x,y,v;const{placement:r,rects:n,middlewareData:s}=e,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[c,d]=rb(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let b="",g="";return c==="bottom"?(b=i?f:`${p}px`,g=`${-l}px`):c==="top"?(b=i?f:`${p}px`,g=`${n.floating.height+l}px`):c==="right"?(b=`${-l}px`,g=i?f:`${m}px`):c==="left"&&(b=`${n.floating.width+l}px`,g=i?f:`${m}px`),{data:{x:b,y:g}}}});function rb(t){const[e,r="center"]=t.split("-");return[e,r]}var nb=Yx,Cp=Jx,Tp=Xx,Rp=tb,[lu,_4]=Xt("Tooltip",[fi]),Np=fi(),sb="TooltipProvider",tP=700,cv="tooltip.open",[rP,ob]=lu(sb),ib=t=>{const{__scopeTooltip:e,delayDuration:r=tP,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,i=h.useRef(!0),a=h.useRef(!1),l=h.useRef(0);return h.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(rP,{scope:e,isOpenDelayedRef:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:h.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:o})};ib.displayName=sb;var ab="Tooltip",[S4,cu]=lu(ab),Mh="TooltipTrigger",nP=h.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=cu(Mh,r),o=ob(Mh,r),i=Np(r),a=h.useRef(null),l=pe(e,a,s.onTriggerChange),c=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>c.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(Cp,{asChild:!0,...i,children:u.jsx(te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:V(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:V(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:V(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:V(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:V(t.onBlur,s.onClose),onClick:V(t.onClick,s.onClose)})})});nP.displayName=Mh;var sP="TooltipPortal",[k4,oP]=lu(sP,{forceMount:void 0}),ei="TooltipContent",lb=h.forwardRef((t,e)=>{const r=oP(ei,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,i=cu(ei,t.__scopeTooltip);return u.jsx(_t,{present:n||i.open,children:i.disableHoverableContent?u.jsx(cb,{side:s,...o,ref:e}):u.jsx(iP,{side:s,...o,ref:e})})}),iP=h.forwardRef((t,e)=>{const r=cu(ei,t.__scopeTooltip),n=ob(ei,t.__scopeTooltip),s=h.useRef(null),o=pe(e,s),[i,a]=h.useState(null),{trigger:l,onClose:c}=r,d=s.current,{onPointerInTransitChange:f}=n,p=h.useCallback(()=>{a(null),f(!1)},[f]),m=h.useCallback((b,g)=>{const x=b.currentTarget,y={x:b.clientX,y:b.clientY},v=dP(y,x.getBoundingClientRect()),w=hP(y,v),_=fP(g.getBoundingClientRect()),S=mP([...w,..._]);a(S),f(!0)},[f]);return h.useEffect(()=>()=>p(),[p]),h.useEffect(()=>{if(l&&d){const b=x=>m(x,d),g=x=>m(x,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",g)}}},[l,d,m,p]),h.useEffect(()=>{if(i){const b=g=>{const x=g.target,y={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),w=!pP(y,i);v?p():w&&(p(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,i,c,p]),u.jsx(cb,{...t,ref:o})}),[aP,lP]=lu(ab,{isInside:!1}),cP=q0("TooltipContent"),cb=h.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,l=cu(ei,r),c=Np(r),{onClose:d}=l;return h.useEffect(()=>(document.addEventListener(cv,d),()=>document.removeEventListener(cv,d)),[d]),h.useEffect(()=>{if(l.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(ci,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(Tp,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(cP,{children:n}),u.jsx(aP,{scope:r,isInside:!0,children:u.jsx(AT,{id:l.contentId,role:"tooltip",children:s||n})})]})})});lb.displayName=ei;var ub="TooltipArrow",uP=h.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Np(r);return lP(ub,r).isInside?null:u.jsx(Rp,{...s,...n,ref:e})});uP.displayName=ub;function dP(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function hP(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function fP(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function pP(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],l=e[i],c=a.x,d=a.y,f=l.x,p=l.y;d>n!=p>n&&r<(f-c)*(n-d)/(p-d)+c&&(s=!s)}return s}function mP(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),gP(e)}function gP(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var vP=ib,db=lb;const yP=vP,wP=h.forwardRef(({className:t,sideOffset:e=4,...r},n)=>u.jsx(db,{ref:n,sideOffset:e,className:K("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));wP.displayName=db.displayName;var uu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},du=typeof window>"u"||"Deno"in globalThis;function ur(){}function xP(t,e){return typeof t=="function"?t(e):t}function bP(t){return typeof t=="number"&&t>=0&&t!==1/0}function _P(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Lh(t,e){return typeof t=="function"?t(e):t}function SP(t,e){return typeof t=="function"?t(e):t}function uv(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(n){if(e.queryHash!==jp(i,e.options))return!1}else if(!wa(e.queryKey,i))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function dv(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(ya(e.options.mutationKey)!==ya(o))return!1}else if(!wa(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function jp(t,e){return((e==null?void 0:e.queryKeyHashFn)||ya)(t)}function ya(t){return JSON.stringify(t,(e,r)=>$h(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function wa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>wa(t[r],e[r])):!1}function hb(t,e){if(t===e)return t;const r=hv(t)&&hv(e);if(r||$h(t)&&$h(e)){const n=r?t:Object.keys(t),s=n.length,o=r?e:Object.keys(e),i=o.length,a=r?[]:{},l=new Set(n);let c=0;for(let d=0;d<i;d++){const f=r?d:o[d];(!r&&l.has(f)||r)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,c++):(a[f]=hb(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&c++)}return s===i&&c===s?t:a}return e}function hv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $h(t){if(!fv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!fv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fv(t){return Object.prototype.toString.call(t)==="[object Object]"}function kP(t){return new Promise(e=>{setTimeout(e,t)})}function EP(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?hb(t,e):e}function CP(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function TP(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Pp=Symbol();function fb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Pp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ws,Tn,$o,_y,RP=(_y=class extends uu{constructor(){super();ke(this,ws);ke(this,Tn);ke(this,$o);de(this,$o,e=>{if(!du&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){O(this,Tn)||this.setEventListener(O(this,$o))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Tn))==null||e.call(this),de(this,Tn,void 0))}setEventListener(e){var r;de(this,$o,e),(r=O(this,Tn))==null||r.call(this),de(this,Tn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){O(this,ws)!==e&&(de(this,ws,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof O(this,ws)=="boolean"?O(this,ws):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ws=new WeakMap,Tn=new WeakMap,$o=new WeakMap,_y),pb=new RP,Uo,Rn,Fo,Sy,NP=(Sy=class extends uu{constructor(){super();ke(this,Uo,!0);ke(this,Rn);ke(this,Fo);de(this,Fo,e=>{if(!du&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){O(this,Rn)||this.setEventListener(O(this,Fo))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Rn))==null||e.call(this),de(this,Rn,void 0))}setEventListener(e){var r;de(this,Fo,e),(r=O(this,Rn))==null||r.call(this),de(this,Rn,e(this.setOnline.bind(this)))}setOnline(e){O(this,Uo)!==e&&(de(this,Uo,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return O(this,Uo)}},Uo=new WeakMap,Rn=new WeakMap,Fo=new WeakMap,Sy),_c=new NP;function jP(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function PP(t){return Math.min(1e3*2**t,3e4)}function mb(t){return(t??"online")==="online"?_c.isOnline():!0}var gb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function fd(t){return t instanceof gb}function vb(t){let e=!1,r=0,n=!1,s;const o=jP(),i=g=>{var x;n||(p(new gb(g)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>pb.isFocused()&&(t.networkMode==="always"||_c.isOnline())&&t.canRun(),d=()=>mb(t.networkMode)&&t.canRun(),f=g=>{var x;n||(n=!0,(x=t.onSuccess)==null||x.call(t,g),s==null||s(),o.resolve(g))},p=g=>{var x;n||(n=!0,(x=t.onError)==null||x.call(t,g),s==null||s(),o.reject(g))},m=()=>new Promise(g=>{var x;s=y=>{(n||c())&&g(y)},(x=t.onPause)==null||x.call(t)}).then(()=>{var g;s=void 0,n||(g=t.onContinue)==null||g.call(t)}),b=()=>{if(n)return;let g;const x=r===0?t.initialPromise:void 0;try{g=x??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var E;if(n)return;const v=t.retry??(du?0:3),w=t.retryDelay??PP,_=typeof w=="function"?w(r,y):w,S=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(e||!S){p(y);return}r++,(E=t.onFail)==null||E.call(t,r,y),kP(_).then(()=>c()?void 0:m()).then(()=>{e?p(y):b()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():m().then(b),o)}}var AP=t=>setTimeout(t,0);function OP(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=AP;const o=a=>{e?t.push(a):s(()=>{r(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var yt=OP(),xs,ky,yb=(ky=class{constructor(){ke(this,xs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bP(this.gcTime)&&de(this,xs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(du?1/0:5*60*1e3))}clearGcTimeout(){O(this,xs)&&(clearTimeout(O(this,xs)),de(this,xs,void 0))}},xs=new WeakMap,ky),zo,bs,Ht,_s,ht,Oa,Ss,hr,zr,Ey,IP=(Ey=class extends yb{constructor(e){super();ke(this,hr);ke(this,zo);ke(this,bs);ke(this,Ht);ke(this,_s);ke(this,ht);ke(this,Oa);ke(this,Ss);de(this,Ss,!1),de(this,Oa,e.defaultOptions),this.setOptions(e.options),this.observers=[],de(this,_s,e.client),de(this,Ht,O(this,_s).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,de(this,zo,MP(this.options)),this.state=e.state??O(this,zo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=O(this,ht))==null?void 0:e.promise}setOptions(e){this.options={...O(this,Oa),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,Ht).remove(this)}setData(e,r){const n=EP(this.state.data,e,this.options);return ct(this,hr,zr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){ct(this,hr,zr).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=O(this,ht))==null?void 0:n.promise;return(s=O(this,ht))==null||s.cancel(e),r?r.then(ur).catch(ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,zo))}isActive(){return this.observers.some(e=>SP(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Lh(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!_P(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=O(this,ht))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=O(this,ht))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),O(this,Ht).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(O(this,ht)&&(O(this,Ss)?O(this,ht).cancel({revert:!0}):O(this,ht).cancelRetry()),this.scheduleGc()),O(this,Ht).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ct(this,hr,zr).call(this,{type:"invalidate"})}fetch(e,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,ht))return O(this,ht).continueRetry(),O(this,ht).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(de(this,Ss,!0),n.signal)})},o=()=>{const p=fb(this.options,r),b=(()=>{const g={client:O(this,_s),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return de(this,Ss,!1),this.options.persister?this.options.persister(p,b,this):p(b)},a=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:O(this,_s),state:this.state,fetchFn:o};return s(p),p})();(c=this.options.behavior)==null||c.onFetch(a,this),de(this,bs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&ct(this,hr,zr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var m,b,g,x;fd(p)&&p.silent||ct(this,hr,zr).call(this,{type:"error",error:p}),fd(p)||((b=(m=O(this,Ht).config).onError)==null||b.call(m,p,this),(x=(g=O(this,Ht).config).onSettled)==null||x.call(g,this.state.data,p,this)),this.scheduleGc()};return de(this,ht,vb({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var m,b,g,x;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(y){l(y);return}(b=(m=O(this,Ht).config).onSuccess)==null||b.call(m,p,this),(x=(g=O(this,Ht).config).onSettled)==null||x.call(g,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{ct(this,hr,zr).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{ct(this,hr,zr).call(this,{type:"pause"})},onContinue:()=>{ct(this,hr,zr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),O(this,ht).start()}},zo=new WeakMap,bs=new WeakMap,Ht=new WeakMap,_s=new WeakMap,ht=new WeakMap,Oa=new WeakMap,Ss=new WeakMap,hr=new WeakSet,zr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...DP(n.data,this.options),fetchMeta:e.meta??null};case"success":return de(this,bs,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return fd(s)&&s.revert&&O(this,bs)?{...O(this,bs),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),yt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),O(this,Ht).notify({query:this,type:"updated",action:e})})},Ey);function DP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function MP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Er,Cy,LP=(Cy=class extends uu{constructor(e={}){super();ke(this,Er);this.config=e,de(this,Er,new Map)}build(e,r,n){const s=r.queryKey,o=r.queryHash??jp(s,r);let i=this.get(o);return i||(i=new IP({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){O(this,Er).has(e.queryHash)||(O(this,Er).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=O(this,Er).get(e.queryHash);r&&(e.destroy(),r===e&&O(this,Er).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return O(this,Er).get(e)}getAll(){return[...O(this,Er).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>uv(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>uv(e,n)):r}notify(e){yt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){yt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){yt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Er=new WeakMap,Cy),Cr,gt,ks,Tr,yn,Ty,$P=(Ty=class extends yb{constructor(e){super();ke(this,Tr);ke(this,Cr);ke(this,gt);ke(this,ks);this.mutationId=e.mutationId,de(this,gt,e.mutationCache),de(this,Cr,[]),this.state=e.state||UP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){O(this,Cr).includes(e)||(O(this,Cr).push(e),this.clearGcTimeout(),O(this,gt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){de(this,Cr,O(this,Cr).filter(r=>r!==e)),this.scheduleGc(),O(this,gt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){O(this,Cr).length||(this.state.status==="pending"?this.scheduleGc():O(this,gt).remove(this))}continue(){var e;return((e=O(this,ks))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,i,a,l,c,d,f,p,m,b,g,x,y,v,w,_,S,E,C,R;const r=()=>{ct(this,Tr,yn).call(this,{type:"continue"})};de(this,ks,vb({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,P)=>{ct(this,Tr,yn).call(this,{type:"failed",failureCount:N,error:P})},onPause:()=>{ct(this,Tr,yn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,gt).canRun(this)}));const n=this.state.status==="pending",s=!O(this,ks).canStart();try{if(n)r();else{ct(this,Tr,yn).call(this,{type:"pending",variables:e,isPaused:s}),await((i=(o=O(this,gt).config).onMutate)==null?void 0:i.call(o,e,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));P!==this.state.context&&ct(this,Tr,yn).call(this,{type:"pending",context:P,variables:e,isPaused:s})}const N=await O(this,ks).start();return await((d=(c=O(this,gt).config).onSuccess)==null?void 0:d.call(c,N,e,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,N,e,this.state.context)),await((b=(m=O(this,gt).config).onSettled)==null?void 0:b.call(m,N,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,N,null,e,this.state.context)),ct(this,Tr,yn).call(this,{type:"success",data:N}),N}catch(N){try{throw await((v=(y=O(this,gt).config).onError)==null?void 0:v.call(y,N,e,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,N,e,this.state.context)),await((E=(S=O(this,gt).config).onSettled)==null?void 0:E.call(S,void 0,N,this.state.variables,this.state.context,this)),await((R=(C=this.options).onSettled)==null?void 0:R.call(C,void 0,N,e,this.state.context)),N}finally{ct(this,Tr,yn).call(this,{type:"error",error:N})}}finally{O(this,gt).runNext(this)}}},Cr=new WeakMap,gt=new WeakMap,ks=new WeakMap,Tr=new WeakSet,yn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),yt.batch(()=>{O(this,Cr).forEach(n=>{n.onMutationUpdate(e)}),O(this,gt).notify({mutation:this,type:"updated",action:e})})},Ty);function UP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yr,fr,Ia,Ry,FP=(Ry=class extends uu{constructor(e={}){super();ke(this,Yr);ke(this,fr);ke(this,Ia);this.config=e,de(this,Yr,new Set),de(this,fr,new Map),de(this,Ia,0)}build(e,r,n){const s=new $P({mutationCache:this,mutationId:++Qa(this,Ia)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){O(this,Yr).add(e);const r=vl(e);if(typeof r=="string"){const n=O(this,fr).get(r);n?n.push(e):O(this,fr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(O(this,Yr).delete(e)){const r=vl(e);if(typeof r=="string"){const n=O(this,fr).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&O(this,fr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=vl(e);if(typeof r=="string"){const n=O(this,fr).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=vl(e);if(typeof r=="string"){const s=(n=O(this,fr).get(r))==null?void 0:n.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yt.batch(()=>{O(this,Yr).forEach(e=>{this.notify({type:"removed",mutation:e})}),O(this,Yr).clear(),O(this,fr).clear()})}getAll(){return Array.from(O(this,Yr))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>dv(r,n))}findAll(e={}){return this.getAll().filter(r=>dv(e,r))}notify(e){yt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return yt.batch(()=>Promise.all(e.map(r=>r.continue().catch(ur))))}},Yr=new WeakMap,fr=new WeakMap,Ia=new WeakMap,Ry);function vl(t){var e;return(e=t.options.scope)==null?void 0:e.id}function pv(t){return{onFetch:(e,r)=>{var d,f,p,m,b;const n=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],i=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=fb(e.options,e.fetchOptions),v=async(w,_,S)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return x(U),U})(),R=await y(C),{maxPages:N}=e.options,P=S?TP:CP;return{pages:P(w.pages,R,N),pageParams:P(w.pageParams,_,N)}};if(s&&o.length){const w=s==="backward",_=w?zP:mv,S={pages:o,pageParams:i},E=_(n,S);a=await v(S,E,w)}else{const w=t??o.length;do{const _=l===0?i[0]??n.initialPageParam:mv(n,a);if(l>0&&_==null)break;a=await v(a,_),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function mv(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function zP(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Fe,Nn,jn,Bo,Vo,Pn,Wo,Ho,Ny,BP=(Ny=class{constructor(t={}){ke(this,Fe);ke(this,Nn);ke(this,jn);ke(this,Bo);ke(this,Vo);ke(this,Pn);ke(this,Wo);ke(this,Ho);de(this,Fe,t.queryCache||new LP),de(this,Nn,t.mutationCache||new FP),de(this,jn,t.defaultOptions||{}),de(this,Bo,new Map),de(this,Vo,new Map),de(this,Pn,0)}mount(){Qa(this,Pn)._++,O(this,Pn)===1&&(de(this,Wo,pb.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Fe).onFocus())})),de(this,Ho,_c.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Fe).onOnline())})))}unmount(){var t,e;Qa(this,Pn)._--,O(this,Pn)===0&&((t=O(this,Wo))==null||t.call(this),de(this,Wo,void 0),(e=O(this,Ho))==null||e.call(this),de(this,Ho,void 0))}isFetching(t){return O(this,Fe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,Nn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=O(this,Fe).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=O(this,Fe).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Lh(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return O(this,Fe).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=O(this,Fe).get(n.queryHash),o=s==null?void 0:s.state.data,i=xP(e,o);if(i!==void 0)return O(this,Fe).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(t,e,r){return yt.batch(()=>O(this,Fe).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=O(this,Fe).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=O(this,Fe);yt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=O(this,Fe);return yt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=yt.batch(()=>O(this,Fe).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(ur).catch(ur)}invalidateQueries(t,e={}){return yt.batch(()=>(O(this,Fe).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=yt.batch(()=>O(this,Fe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(ur)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(ur)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=O(this,Fe).build(this,e);return r.isStaleByTime(Lh(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ur).catch(ur)}fetchInfiniteQuery(t){return t.behavior=pv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ur).catch(ur)}ensureInfiniteQueryData(t){return t.behavior=pv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _c.isOnline()?O(this,Nn).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,Fe)}getMutationCache(){return O(this,Nn)}getDefaultOptions(){return O(this,jn)}setDefaultOptions(t){de(this,jn,t)}setQueryDefaults(t,e){O(this,Bo).set(ya(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...O(this,Bo).values()],r={};return e.forEach(n=>{wa(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){O(this,Vo).set(ya(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...O(this,Vo).values()],r={};return e.forEach(n=>{wa(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...O(this,jn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=jp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Pp&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,jn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,Fe).clear(),O(this,Nn).clear()}},Fe=new WeakMap,Nn=new WeakMap,jn=new WeakMap,Bo=new WeakMap,Vo=new WeakMap,Pn=new WeakMap,Wo=new WeakMap,Ho=new WeakMap,Ny),VP=h.createContext(void 0),WP=({client:t,children:e})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(VP.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xa(){return xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xa.apply(this,arguments)}var In;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(In||(In={}));const gv="popstate";function HP(t){t===void 0&&(t={});function e(s,o){let{pathname:i="/",search:a="",hash:l=""}=Hs(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Uh("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof o=="string"?o:wb(o))}function n(s,o){Ap(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return KP(e,r,n,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ap(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qP(){return Math.random().toString(36).substr(2,8)}function vv(t,e){return{usr:t.state,key:t.key,idx:e}}function Uh(t,e,r,n){return r===void 0&&(r=null),xa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hs(e):e,{state:r,key:e&&e.key||n||qP()})}function wb(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Hs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function KP(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=In.Pop,l=null,c=d();c==null&&(c=0,i.replaceState(xa({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=In.Pop;let x=d(),y=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:y})}function p(x,y){a=In.Push;let v=Uh(g.location,x,y);r&&r(v,x),c=d()+1;let w=vv(v,c),_=g.createHref(v);try{i.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&l&&l({action:a,location:g.location,delta:1})}function m(x,y){a=In.Replace;let v=Uh(g.location,x,y);r&&r(v,x),c=d();let w=vv(v,c),_=g.createHref(v);i.replaceState(w,"",_),o&&l&&l({action:a,location:g.location,delta:0})}function b(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:wb(x);return v=v.replace(/ $/,"%20"),Je(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return a},get location(){return t(s,i)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(gv,f),l=x,()=>{s.removeEventListener(gv,f),l=null}},createHref(x){return e(s,x)},createURL:b,encodeLocation(x){let y=b(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:m,go(x){return i.go(x)}};return g}var yv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yv||(yv={}));function GP(t,e,r){return r===void 0&&(r="/"),QP(t,e,r,!1)}function QP(t,e,r,n){let s=typeof e=="string"?Hs(e):e,o=_b(s.pathname||"/",r);if(o==null)return null;let i=xb(t);YP(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=aA(o);a=oA(i[l],c,n)}return a}function xb(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Je(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Ts([n,l.relativePath]),d=r.concat(l);o.children&&o.children.length>0&&(Je(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xb(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:nA(c,o.index),routesMeta:d})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of bb(o.path))s(o,i,l)}),e}function bb(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=bb(n.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function YP(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:sA(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ZP=/^:[\w-]+$/,JP=3,XP=2,eA=1,tA=10,rA=-2,wv=t=>t==="*";function nA(t,e){let r=t.split("/"),n=r.length;return r.some(wv)&&(n+=rA),e&&(n+=XP),r.filter(s=>!wv(s)).reduce((s,o)=>s+(ZP.test(o)?JP:o===""?eA:tA),n)}function sA(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function oA(t,e,r){let{routesMeta:n}=t,s={},o="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=xv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=xv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Ts([o,f.pathname]),pathnameBase:fA(Ts([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=Ts([o,f.pathnameBase]))}return i}function xv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=iA(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const b=a[f];return m&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:t}}function iA(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Ap(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function aA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ap(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _b(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function lA(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Hs(t):t;return{pathname:r?r.startsWith("/")?r:cA(r,e):e,search:pA(n),hash:mA(s)}}function cA(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function pd(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uA(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function dA(t,e){let r=uA(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function hA(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Hs(t):(s=xa({},t),Je(!s.pathname||!s.pathname.includes("?"),pd("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),pd("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),pd("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let f=e.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=lA(s,a),c=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ts=t=>t.join("/").replace(/\/\/+/g,"/"),fA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Sb=["post","put","patch","delete"];new Set(Sb);const vA=["get",...Sb];new Set(vA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ba.apply(this,arguments)}const Op=h.createContext(null),yA=h.createContext(null),hu=h.createContext(null),fu=h.createContext(null),pi=h.createContext({outlet:null,matches:[],isDataRoute:!1}),kb=h.createContext(null);function pu(){return h.useContext(fu)!=null}function Ip(){return pu()||Je(!1),h.useContext(fu).location}function Eb(t){h.useContext(hu).static||h.useLayoutEffect(t)}function mu(){let{isDataRoute:t}=h.useContext(pi);return t?PA():wA()}function wA(){pu()||Je(!1);let t=h.useContext(Op),{basename:e,future:r,navigator:n}=h.useContext(hu),{matches:s}=h.useContext(pi),{pathname:o}=Ip(),i=JSON.stringify(dA(s,r.v7_relativeSplatPath)),a=h.useRef(!1);return Eb(()=>{a.current=!0}),h.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=hA(c,JSON.parse(i),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ts([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,o,t])}function xA(t,e){return bA(t,e)}function bA(t,e,r,n){pu()||Je(!1);let{navigator:s}=h.useContext(hu),{matches:o}=h.useContext(pi),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=Ip(),d;if(e){var f;let x=typeof e=="string"?Hs(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Je(!1),d=x}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=GP(t,{pathname:m}),g=CA(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Ts([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Ts([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,r,n);return e&&g?h.createElement(fu.Provider,{value:{location:ba({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:In.Pop}},g):g}function _A(){let t=jA(),e=gA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),r?h.createElement("pre",{style:s},r):null,null)}const SA=h.createElement(_A,null);class kA extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?h.createElement(pi.Provider,{value:this.props.routeContext},h.createElement(kb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EA(t){let{routeContext:e,match:r,children:n}=t,s=h.useContext(Op);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(pi.Provider,{value:e},n)}function CA(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Je(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=r,b=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let m,b=!1,g=null,x=null;r&&(m=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||SA,l&&(c<0&&p===0?(b=!0,x=null):c===p&&(b=!0,x=f.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,p+1)),v=()=>{let w;return m?w=g:b?w=x:f.route.Component?w=h.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,h.createElement(EA,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?h.createElement(kA,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Cb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Cb||{}),Sc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Sc||{});function TA(t){let e=h.useContext(Op);return e||Je(!1),e}function RA(t){let e=h.useContext(yA);return e||Je(!1),e}function NA(t){let e=h.useContext(pi);return e||Je(!1),e}function Tb(t){let e=NA(),r=e.matches[e.matches.length-1];return r.route.id||Je(!1),r.route.id}function jA(){var t;let e=h.useContext(kb),r=RA(Sc.UseRouteError),n=Tb(Sc.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function PA(){let{router:t}=TA(Cb.UseNavigateStable),e=Tb(Sc.UseNavigateStable),r=h.useRef(!1);return Eb(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ba({fromRouteId:e},o)))},[t,e])}function AA(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ii(t){Je(!1)}function OA(t){let{basename:e="/",children:r=null,location:n,navigationType:s=In.Pop,navigator:o,static:i=!1,future:a}=t;pu()&&Je(!1);let l=e.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:l,navigator:o,static:i,future:ba({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof n=="string"&&(n=Hs(n));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:b="default"}=n,g=h.useMemo(()=>{let x=_b(d,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:m,key:b},navigationType:s}},[l,d,f,p,m,b,s]);return g==null?null:h.createElement(hu.Provider,{value:c},h.createElement(fu.Provider,{children:r,value:g}))}function IA(t){let{children:e,location:r}=t;return xA(Fh(e),r)}new Promise(()=>{});function Fh(t,e){e===void 0&&(e=[]);let r=[];return h.Children.forEach(t,(n,s)=>{if(!h.isValidElement(n))return;let o=[...e,s];if(n.type===h.Fragment){r.push.apply(r,Fh(n.props.children,o));return}n.type!==Ii&&Je(!1),!n.props.index||!n.props.children||Je(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Fh(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const DA="6";try{window.__reactRouterVersion=DA}catch{}const MA="startTransition",bv=vf[MA];function LA(t){let{basename:e,children:r,future:n,window:s}=t,o=h.useRef();o.current==null&&(o.current=HP({window:s,v5Compat:!0}));let i=o.current,[a,l]=h.useState({action:i.action,location:i.location}),{v7_startTransition:c}=n||{},d=h.useCallback(f=>{c&&bv?bv(()=>l(f)):l(f)},[l,c]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>AA(n),[n]),h.createElement(OA,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}var _v;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_v||(_v={}));var Sv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sv||(Sv={}));const $A={theme:"system",setTheme:()=>null},Rb=h.createContext($A);function UA({children:t,defaultTheme:e="system",storageKey:r="ai-chat-theme",...n}){const[s,o]=h.useState(()=>localStorage.getItem(r)||e);h.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),s==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(s)},[s]);const i={theme:s,setTheme:a=>{localStorage.setItem(r,a),o(a)}};return u.jsx(Rb.Provider,{...n,value:i,children:t})}const FA=()=>{const t=h.useContext(Rb);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},Dp=su("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=h.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const i=n?cT:"button";return u.jsx(i,{className:K(Dp({variant:e,size:r,className:t})),ref:o,...s})});ae.displayName="Button";function Mp({src:t,alt:e,onClose:r}){const[n,s]=h.useState(1),[o,i]=h.useState({x:0,y:0}),[a,l]=h.useState(!1),[c,d]=h.useState({x:0,y:0}),f=h.useRef(null),p=h.useRef(null),m=h.useCallback(S=>{S.preventDefault();const E=S.deltaY>0?-.1:.1;s(C=>Math.min(Math.max(.5,C+E),5))},[]),b=h.useCallback(S=>{if(S.touches.length===2){const E=Math.hypot(S.touches[0].clientX-S.touches[1].clientX,S.touches[0].clientY-S.touches[1].clientY);p.current=E}else S.touches.length===1&&(l(!0),d({x:S.touches[0].clientX-o.x,y:S.touches[0].clientY-o.y}))},[o]),g=h.useCallback(S=>{if(S.touches.length===2&&p.current!==null){S.preventDefault();const E=Math.hypot(S.touches[0].clientX-S.touches[1].clientX,S.touches[0].clientY-S.touches[1].clientY),C=(E-p.current)*.01;s(R=>Math.min(Math.max(.5,R+C),5)),p.current=E}else S.touches.length===1&&a&&i({x:S.touches[0].clientX-c.x,y:S.touches[0].clientY-c.y})},[a,c]),x=h.useCallback(()=>{p.current=null,l(!1)},[]),y=h.useCallback(S=>{S.button===0&&(l(!0),d({x:S.clientX-o.x,y:S.clientY-o.y}))},[o]),v=h.useCallback(S=>{a&&i({x:S.clientX-c.x,y:S.clientY-c.y})},[a,c]),w=h.useCallback(()=>{l(!1)},[]),_=h.useCallback(()=>{s(1),i({x:0,y:0})},[]);return h.useEffect(()=>{const S=f.current;if(S)return S.addEventListener("wheel",m,{passive:!1}),S.addEventListener("touchstart",b,{passive:!1}),S.addEventListener("touchmove",g,{passive:!1}),S.addEventListener("touchend",x),()=>{S.removeEventListener("wheel",m),S.removeEventListener("touchstart",b),S.removeEventListener("touchmove",g),S.removeEventListener("touchend",x)}},[m,b,g,x]),h.useEffect(()=>{const S=E=>{E.key==="Escape"&&r()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[r]),u.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/90 flex items-center justify-center",children:[u.jsx(ae,{variant:"secondary",size:"icon",onClick:S=>{S.stopPropagation(),r()},className:"absolute top-3 right-3 z-50 w-12 h-12 bg-white/20 hover:bg-white/30 text-white rounded-full shadow-lg backdrop-blur-sm flex items-center justify-center",children:u.jsx(Mr,{className:"w-7 h-7"})}),u.jsxs("div",{className:"absolute bottom-16 md:bottom-auto md:top-4 left-1/2 md:left-auto md:right-16 -translate-x-1/2 md:translate-x-0 flex gap-2 z-10",children:[u.jsx(ae,{variant:"secondary",size:"icon",onClick:()=>s(S=>Math.min(S+.25,5)),className:"w-10 h-10 bg-white/20 hover:bg-white/30 text-white rounded-full backdrop-blur-sm",children:u.jsx(jh,{className:"w-5 h-5"})}),u.jsx(ae,{variant:"secondary",size:"icon",onClick:()=>s(S=>Math.max(S-.25,.5)),className:"w-10 h-10 bg-white/20 hover:bg-white/30 text-white rounded-full backdrop-blur-sm",children:u.jsx(wR,{className:"w-5 h-5"})}),u.jsx(ae,{variant:"secondary",size:"icon",onClick:_,className:"w-10 h-10 bg-white/20 hover:bg-white/30 text-white rounded-full backdrop-blur-sm",children:u.jsx(hR,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/10 text-white px-3 py-1 rounded-full text-sm",children:[Math.round(n*100),"%"]}),u.jsx("div",{ref:f,className:"w-full h-full flex items-center justify-center cursor-grab active:cursor-grabbing overflow-hidden p-4",onMouseDown:y,onMouseMove:v,onMouseUp:w,onMouseLeave:w,children:u.jsx("img",{src:t,alt:e,className:"max-w-[90vw] max-h-[80vh] object-contain select-none pointer-events-none",style:{transform:`translate(${o.x}px, ${o.y}px) scale(${n})`,transition:a?"none":"transform 0.1s ease-out"},draggable:!1})})]})}const zA=h.memo(function({code:e,language:r}){const[n,s]=h.useState(!1),o=h.useRef(null),i=h.useCallback(async()=>{try{await navigator.clipboard.writeText(e),s(!0),oe.success(" sao chp code"),setTimeout(()=>s(!1),2e3)}catch(l){console.error("Failed to copy:",l),oe.error("Khng th sao chp")}},[e]),a=h.useCallback(()=>{i()},[i]);return u.jsxs("div",{ref:o,className:"relative my-3 group",onDoubleClick:a,children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted border border-b-0 border-border rounded-t-lg",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:r||"code"}),u.jsx("button",{onClick:i,className:K("flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-md transition-all","hover:bg-accent",n?"text-green-600 dark:text-green-400":"text-muted-foreground hover:text-foreground"),children:n?u.jsxs(u.Fragment,{children:[u.jsx(Ms,{className:"w-3.5 h-3.5"}),u.jsx("span",{children:" sao chp"})]}):u.jsxs(u.Fragment,{children:[u.jsx(xx,{className:"w-3.5 h-3.5"}),u.jsx("span",{children:"Sao chp"})]})})]}),u.jsx("pre",{className:"bg-zinc-900 dark:bg-zinc-950 border border-t-0 border-border rounded-b-lg p-4 overflow-x-auto cursor-text",children:u.jsx("code",{className:"text-sm font-mono text-zinc-100 whitespace-pre-wrap break-words",children:e})}),u.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:u.jsx("span",{className:"text-[10px] text-zinc-500 bg-zinc-800/80 px-1.5 py-0.5 rounded",children:"Nhp p  sao chp"})})]})});function BA(t){const e=[],r=/```(\w+)?\n?([\s\S]*?)```/g;let n=0,s;for(;(s=r.exec(t))!==null;){if(s.index>n){const o=t.slice(n,s.index);o.trim()&&e.push({type:"text",content:o})}e.push({type:"code",content:s[2].trim(),language:s[1]||void 0}),n=s.index+s[0].length}if(n<t.length){const o=t.slice(n);o.trim()&&e.push({type:"text",content:o})}return e.length>0?e:[{type:"text",content:t}]}function VA(t){return t.split(/(\*\*[^*]+\*\*)/g).map((r,n)=>{if(!(r.startsWith("**")&&r.endsWith("**")&&r.length>=4))return r;const o=r.slice(2,-2);return o.trim()?u.jsx("span",{className:"bg-muted text-foreground px-1 rounded",children:o},n):r})}const WA=h.memo(function({content:e}){const r=h.useMemo(()=>BA(e),[e]);return u.jsx("div",{className:"space-y-2",children:r.map((n,s)=>n.type==="code"?u.jsx(zA,{code:n.content,language:n.language},s):u.jsx("div",{className:"whitespace-pre-wrap break-words text-sm leading-relaxed",children:VA(n.content)},s))})}),HA=h.memo(function({message:e}){const r=e.role==="user",[n,s]=h.useState(null),[o,i]=h.useState(!1),a=h.useCallback(async()=>{try{await navigator.clipboard.writeText(e.content),i(!0),oe.success(" sao chp!"),setTimeout(()=>i(!1),2e3)}catch{oe.error("Khng th sao chp")}},[e.content]);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:K("flex gap-3 animate-fade-in",r?"flex-row-reverse":"flex-row"),children:[u.jsx("div",{className:K("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",r?"bg-chat-user text-chat-user-foreground":"bg-secondary text-secondary-foreground"),children:r?u.jsx(vR,{className:"w-4 h-4"}):u.jsx(hp,{className:"w-4 h-4"})}),u.jsxs("div",{className:"flex flex-col max-w-[80%]",children:[u.jsxs("div",{className:K("rounded-2xl px-4 py-3",r?"bg-chat-user text-chat-user-foreground rounded-tr-md":"bg-chat-assistant text-chat-assistant-foreground rounded-tl-md shadow-sm border border-chat-border"),children:[e.images&&e.images.length>0&&u.jsx("div",{className:"mb-2 flex flex-wrap gap-2",children:e.images.map((l,c)=>u.jsx("img",{src:l,alt:`Uploaded ${c+1}`,className:"max-w-full max-h-64 rounded-lg object-contain cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>s(l)},c))}),r?u.jsx("div",{className:"whitespace-pre-wrap break-words text-sm leading-relaxed",children:e.content}):u.jsx(WA,{content:e.content})]}),!r&&e.content&&u.jsx("div",{className:"flex justify-start mt-1.5 ml-1",children:u.jsx(ae,{variant:"ghost",size:"sm",onClick:a,className:"h-7 px-2 text-xs text-muted-foreground hover:text-foreground gap-1.5",children:o?u.jsxs(u.Fragment,{children:[u.jsx(Ms,{className:"w-3.5 h-3.5 text-green-500"}),u.jsx("span",{children:" sao chp"})]}):u.jsxs(u.Fragment,{children:[u.jsx(xx,{className:"w-3.5 h-3.5"}),u.jsx("span",{children:"Sao chp"})]})})})]})]}),n&&u.jsx(Mp,{src:n,alt:"Full size image",onClose:()=>s(null)})]})}),Lp=h.forwardRef(({className:t,...e},r)=>u.jsx("textarea",{className:K("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Lp.displayName="Textarea";var qA=h.createContext(void 0);function Va(t){const e=h.useContext(qA);return t||e||"ltr"}var md=0;function $p(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??kv()),document.body.insertAdjacentElement("beforeend",t[1]??kv()),md++,()=>{md===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),md--}},[])}function kv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gd="focusScope.autoFocusOnMount",vd="focusScope.autoFocusOnUnmount",Ev={bubbles:!1,cancelable:!0},KA="FocusScope",gu=h.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,l]=h.useState(null),c=He(s),d=He(o),f=h.useRef(null),p=pe(e,g=>l(g)),m=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(w){if(m.paused||!a)return;const _=w.target;a.contains(_)?f.current=_:wn(f.current,{select:!0})},x=function(w){if(m.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||wn(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&wn(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const v=new MutationObserver(y);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),v.disconnect()}}},[n,a,m.paused]),h.useEffect(()=>{if(a){Tv.add(m);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(gd,Ev);a.addEventListener(gd,c),a.dispatchEvent(y),y.defaultPrevented||(GA(XA(Nb(a)),{select:!0}),document.activeElement===g&&wn(a))}return()=>{a.removeEventListener(gd,c),setTimeout(()=>{const y=new CustomEvent(vd,Ev);a.addEventListener(vd,d),a.dispatchEvent(y),y.defaultPrevented||wn(g??document.body,{select:!0}),a.removeEventListener(vd,d),Tv.remove(m)},0)}}},[a,c,d,m]);const b=h.useCallback(g=>{if(!r&&!n||m.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(x&&y){const v=g.currentTarget,[w,_]=QA(v);w&&_?!g.shiftKey&&y===_?(g.preventDefault(),r&&wn(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&wn(_,{select:!0})):y===v&&g.preventDefault()}},[r,n,m.paused]);return u.jsx(te.div,{tabIndex:-1,...i,ref:p,onKeyDown:b})});gu.displayName=KA;function GA(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(wn(n,{select:e}),document.activeElement!==r)return}function QA(t){const e=Nb(t),r=Cv(e,t),n=Cv(e.reverse(),t);return[r,n]}function Nb(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Cv(t,e){for(const r of t)if(!YA(r,{upTo:e}))return r}function YA(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ZA(t){return t instanceof HTMLInputElement&&"select"in t}function wn(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&ZA(t)&&e&&t.select()}}var Tv=JA();function JA(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Rv(t,e),t.unshift(e)},remove(e){var r;t=Rv(t,e),(r=t[0])==null||r.resume()}}}function Rv(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function XA(t){return t.filter(e=>e.tagName!=="A")}var yd="rovingFocusGroup.onEntryFocus",eO={bubbles:!1,cancelable:!0},Wa="RovingFocusGroup",[zh,jb,tO]=tu(Wa),[rO,vu]=Xt(Wa,[tO]),[nO,sO]=rO(Wa),Pb=h.forwardRef((t,e)=>u.jsx(zh.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(zh.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(oO,{...t,ref:e})})}));Pb.displayName=Wa;var oO=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=h.useRef(null),m=pe(e,p),b=Va(o),[g,x]=Ds({prop:i,defaultProp:a??null,onChange:l,caller:Wa}),[y,v]=h.useState(!1),w=He(c),_=jb(r),S=h.useRef(!1),[E,C]=h.useState(0);return h.useEffect(()=>{const R=p.current;if(R)return R.addEventListener(yd,w),()=>R.removeEventListener(yd,w)},[w]),u.jsx(nO,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:g,onItemFocus:h.useCallback(R=>x(R),[x]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(R=>R+1),[]),onFocusableItemRemove:h.useCallback(()=>C(R=>R-1),[]),children:u.jsx(te.div,{tabIndex:y||E===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:V(t.onMouseDown,()=>{S.current=!0}),onFocus:V(t.onFocus,R=>{const N=!S.current;if(R.target===R.currentTarget&&N&&!y){const P=new CustomEvent(yd,eO);if(R.currentTarget.dispatchEvent(P),!P.defaultPrevented){const U=_().filter(L=>L.focusable),I=U.find(L=>L.active),q=U.find(L=>L.id===g),D=[I,q,...U].filter(Boolean).map(L=>L.ref.current);Ib(D,d)}}S.current=!1}),onBlur:V(t.onBlur,()=>v(!1))})})}),Ab="RovingFocusGroupItem",Ob=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...a}=t,l=Or(),c=o||l,d=sO(Ab,r),f=d.currentTabStopId===c,p=jb(r),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:g}=d;return h.useEffect(()=>{if(n)return m(),()=>b()},[n,m,b]),u.jsx(zh.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:u.jsx(te.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:V(t.onMouseDown,x=>{n?d.onItemFocus(c):x.preventDefault()}),onFocus:V(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:V(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=lO(x,d.orientation,d.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=p().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const _=w.indexOf(x.currentTarget);w=d.loop?cO(w,_+1):w.slice(_+1)}setTimeout(()=>Ib(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});Ob.displayName=Ab;var iO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aO(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lO(t,e,r){const n=aO(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return iO[n]}function Ib(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function cO(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Db=Pb,Mb=Ob,uO=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},eo=new WeakMap,yl=new WeakMap,wl={},wd=0,Lb=function(t){return t&&(t.host||Lb(t.parentNode))},dO=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Lb(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},hO=function(t,e,r,n){var s=dO(e,Array.isArray(t)?t:[t]);wl[r]||(wl[r]=new WeakMap);var o=wl[r],i=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(n),b=m!==null&&m!=="false",g=(eo.get(p)||0)+1,x=(o.get(p)||0)+1;eo.set(p,g),o.set(p,x),i.push(p),g===1&&b&&yl.set(p,!0),x===1&&p.setAttribute(r,"true"),b||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return d(e),a.clear(),wd++,function(){i.forEach(function(f){var p=eo.get(f)-1,m=o.get(f)-1;eo.set(f,p),o.set(f,m),p||(yl.has(f)||f.removeAttribute(n),yl.delete(f)),m||f.removeAttribute(r)}),wd--,wd||(eo=new WeakMap,eo=new WeakMap,yl=new WeakMap,wl={})}},Up=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=uO(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),hO(n,s,r,"aria-hidden")):function(){return null}},Nr=function(){return Nr=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Nr.apply(this,arguments)};function mi(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function fO(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(f){i(f)}}function l(d){try{c(n.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function pO(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var zl="right-scroll-bar-position",Bl="width-before-scroll-bar",mO="with-scroll-bars-hidden",gO="--removed-body-scroll-bar-size";function xd(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function vO(t,e){var r=h.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var yO=typeof window<"u"?h.useLayoutEffect:h.useEffect,Nv=new WeakMap;function wO(t,e){var r=vO(null,function(n){return t.forEach(function(s){return xd(s,n)})});return yO(function(){var n=Nv.get(r);if(n){var s=new Set(n),o=new Set(t),i=r.current;s.forEach(function(a){o.has(a)||xd(a,null)}),o.forEach(function(a){s.has(a)||xd(a,i)})}Nv.set(r,t)},[t]),r}function xO(t){return t}function bO(t,e){e===void 0&&(e=xO);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var i=e(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var l=function(){var d=i;i=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),r}}}};return s}function _O(t){t===void 0&&(t={});var e=bO(null);return e.options=Nr({async:!0,ssr:!1},t),e}var $b=function(t){var e=t.sideCar,r=mi(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,Nr({},r))};$b.isSideCarExport=!0;function SO(t,e){return t.useMedium(e),$b}var Ub=_O(),bd=function(){},yu=h.forwardRef(function(t,e){var r=h.useRef(null),n=h.useState({onScrollCapture:bd,onWheelCapture:bd,onTouchMoveCapture:bd}),s=n[0],o=n[1],i=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,m=t.noRelative,b=t.noIsolation,g=t.inert,x=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,w=t.gapMode,_=mi(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,E=wO([r,e]),C=Nr(Nr({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:Ub,removeScrollBar:c,shards:f,noRelative:m,noIsolation:b,inert:g,setCallbacks:o,allowPinchZoom:!!x,lockRef:r,gapMode:w}),i?h.cloneElement(h.Children.only(a),Nr(Nr({},C),{ref:E})):h.createElement(v,Nr({},C,{className:l,ref:E}),a))});yu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yu.classNames={fullWidth:Bl,zeroRight:zl};var kO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=kO();return e&&t.setAttribute("nonce",e),t}function CO(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function TO(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RO=function(){var t=0,e=null;return{add:function(r){t==0&&(e=EO())&&(CO(e,r),TO(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},NO=function(){var t=RO();return function(e,r){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Fb=function(){var t=NO(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},jO={left:0,top:0,right:0,gap:0},_d=function(t){return parseInt(t||"",10)||0},PO=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[_d(r),_d(n),_d(s)]},AO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return jO;var e=PO(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},OO=Fb(),Do="data-scroll-locked",IO=function(t,e,r,n){var s=t.left,o=t.top,i=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(mO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Do,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zl,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Bl,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(zl," .").concat(zl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Bl," .").concat(Bl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Do,`] {
    `).concat(gO,": ").concat(a,`px;
  }
`)},jv=function(){var t=parseInt(document.body.getAttribute(Do)||"0",10);return isFinite(t)?t:0},DO=function(){h.useEffect(function(){return document.body.setAttribute(Do,(jv()+1).toString()),function(){var t=jv()-1;t<=0?document.body.removeAttribute(Do):document.body.setAttribute(Do,t.toString())}},[])},MO=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;DO();var o=h.useMemo(function(){return AO(s)},[s]);return h.createElement(OO,{styles:IO(o,!e,s,r?"":"!important")})},Bh=!1;if(typeof window<"u")try{var xl=Object.defineProperty({},"passive",{get:function(){return Bh=!0,!0}});window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{Bh=!1}var to=Bh?{passive:!1}:!1,LO=function(t){return t.tagName==="TEXTAREA"},zb=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!LO(t)&&r[e]==="visible")},$O=function(t){return zb(t,"overflowY")},UO=function(t){return zb(t,"overflowX")},Pv=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Bb(t,n);if(s){var o=Vb(t,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},FO=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},zO=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Bb=function(t,e){return t==="v"?$O(e):UO(e)},Vb=function(t,e){return t==="v"?FO(e):zO(e)},BO=function(t,e){return t==="h"&&e==="rtl"?-1:1},VO=function(t,e,r,n,s){var o=BO(t,window.getComputedStyle(e).direction),i=o*n,a=r.target,l=e.contains(a),c=!1,d=i>0,f=0,p=0;do{if(!a)break;var m=Vb(t,a),b=m[0],g=m[1],x=m[2],y=g-x-o*b;(b||y)&&Bb(t,a)&&(f+=y,p+=b);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},bl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Av=function(t){return[t.deltaX,t.deltaY]},Ov=function(t){return t&&"current"in t?t.current:t},WO=function(t,e){return t[0]===e[0]&&t[1]===e[1]},HO=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qO=0,ro=[];function KO(t){var e=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(qO++)[0],o=h.useState(Fb)[0],i=h.useRef(t);h.useEffect(function(){i.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=pO([t.lockRef.current],(t.shards||[]).map(Ov),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=h.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=bl(g),v=r.current,w="deltaX"in g?g.deltaX:v[0]-y[0],_="deltaY"in g?g.deltaY:v[1]-y[1],S,E=g.target,C=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&C==="h"&&E.type==="range")return!1;var R=Pv(C,E);if(!R)return!0;if(R?S=C:(S=C==="v"?"h":"v",R=Pv(C,E)),!R)return!1;if(!n.current&&"changedTouches"in g&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return VO(N,x,g,N==="h"?w:_,!0)},[]),l=h.useCallback(function(g){var x=g;if(!(!ro.length||ro[ro.length-1]!==o)){var y="deltaY"in x?Av(x):bl(x),v=e.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&WO(S.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var w=(i.current.shards||[]).map(Ov).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=w.length>0?a(x,w[0]):!i.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),c=h.useCallback(function(g,x,y,v){var w={name:g,delta:x,target:y,should:v,shadowParent:GO(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),d=h.useCallback(function(g){r.current=bl(g),n.current=void 0},[]),f=h.useCallback(function(g){c(g.type,Av(g),g.target,a(g,t.lockRef.current))},[]),p=h.useCallback(function(g){c(g.type,bl(g),g.target,a(g,t.lockRef.current))},[]);h.useEffect(function(){return ro.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,to),document.addEventListener("touchmove",l,to),document.addEventListener("touchstart",d,to),function(){ro=ro.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,to),document.removeEventListener("touchmove",l,to),document.removeEventListener("touchstart",d,to)}},[]);var m=t.removeScrollBar,b=t.inert;return h.createElement(h.Fragment,null,b?h.createElement(o,{styles:HO(s)}):null,m?h.createElement(MO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function GO(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const QO=SO(Ub,KO);var wu=h.forwardRef(function(t,e){return h.createElement(yu,Nr({},t,{ref:e,sideCar:QO}))});wu.classNames=yu.classNames;var Vh=["Enter"," "],YO=["ArrowDown","PageUp","Home"],Wb=["ArrowUp","PageDown","End"],ZO=[...YO,...Wb],JO={ltr:[...Vh,"ArrowRight"],rtl:[...Vh,"ArrowLeft"]},XO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ha="Menu",[_a,e2,t2]=tu(Ha),[qs,Hb]=Xt(Ha,[t2,fi,vu]),xu=fi(),qb=vu(),[r2,Ks]=qs(Ha),[n2,qa]=qs(Ha),Kb=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=t,a=xu(e),[l,c]=h.useState(null),d=h.useRef(!1),f=He(o),p=Va(s);return h.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),u.jsx(nb,{...a,children:u.jsx(r2,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(n2,{scope:e,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:i,children:n})})})};Kb.displayName=Ha;var s2="MenuAnchor",Fp=h.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=xu(r);return u.jsx(Cp,{...s,...n,ref:e})});Fp.displayName=s2;var zp="MenuPortal",[o2,Gb]=qs(zp,{forceMount:void 0}),Qb=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=Ks(zp,e);return u.jsx(o2,{scope:e,forceMount:r,children:u.jsx(_t,{present:r||o.open,children:u.jsx(Fa,{asChild:!0,container:s,children:n})})})};Qb.displayName=zp;var Yt="MenuContent",[i2,Bp]=qs(Yt),Yb=h.forwardRef((t,e)=>{const r=Gb(Yt,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Ks(Yt,t.__scopeMenu),i=qa(Yt,t.__scopeMenu);return u.jsx(_a.Provider,{scope:t.__scopeMenu,children:u.jsx(_t,{present:n||o.open,children:u.jsx(_a.Slot,{scope:t.__scopeMenu,children:i.modal?u.jsx(a2,{...s,ref:e}):u.jsx(l2,{...s,ref:e})})})})}),a2=h.forwardRef((t,e)=>{const r=Ks(Yt,t.__scopeMenu),n=h.useRef(null),s=pe(e,n);return h.useEffect(()=>{const o=n.current;if(o)return Up(o)},[]),u.jsx(Vp,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:V(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),l2=h.forwardRef((t,e)=>{const r=Ks(Yt,t.__scopeMenu);return u.jsx(Vp,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),c2=Is("MenuContent.ScrollLock"),Vp=h.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:m,disableOutsideScroll:b,...g}=t,x=Ks(Yt,r),y=qa(Yt,r),v=xu(r),w=qb(r),_=e2(r),[S,E]=h.useState(null),C=h.useRef(null),R=pe(e,C,x.onContentChange),N=h.useRef(0),P=h.useRef(""),U=h.useRef(0),I=h.useRef(null),q=h.useRef("right"),j=h.useRef(0),D=b?wu:h.Fragment,L=b?{as:c2,allowPinchZoom:!0}:void 0,W=T=>{var H,be;const A=P.current+T,z=_().filter(_e=>!_e.disabled),M=document.activeElement,J=(H=z.find(_e=>_e.ref.current===M))==null?void 0:H.textValue,ee=z.map(_e=>_e.textValue),se=b2(ee,A,J),Te=(be=z.find(_e=>_e.textValue===se))==null?void 0:be.ref.current;(function _e(ve){P.current=ve,window.clearTimeout(N.current),ve!==""&&(N.current=window.setTimeout(()=>_e(""),1e3))})(A),Te&&setTimeout(()=>Te.focus())};h.useEffect(()=>()=>window.clearTimeout(N.current),[]),$p();const k=h.useCallback(T=>{var z,M;return q.current===((z=I.current)==null?void 0:z.side)&&S2(T,(M=I.current)==null?void 0:M.area)},[]);return u.jsx(i2,{scope:r,searchRef:P,onItemEnter:h.useCallback(T=>{k(T)&&T.preventDefault()},[k]),onItemLeave:h.useCallback(T=>{var A;k(T)||((A=C.current)==null||A.focus(),E(null))},[k]),onTriggerLeave:h.useCallback(T=>{k(T)&&T.preventDefault()},[k]),pointerGraceTimerRef:U,onPointerGraceIntentChange:h.useCallback(T=>{I.current=T},[]),children:u.jsx(D,{...L,children:u.jsx(gu,{asChild:!0,trapped:s,onMountAutoFocus:V(o,T=>{var A;T.preventDefault(),(A=C.current)==null||A.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:u.jsx(ci,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:m,children:u.jsx(Db,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:V(l,T=>{y.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(Tp,{role:"menu","aria-orientation":"vertical","data-state":h_(x.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:R,style:{outline:"none",...g.style},onKeyDown:V(g.onKeyDown,T=>{const z=T.target.closest("[data-radix-menu-content]")===T.currentTarget,M=T.ctrlKey||T.altKey||T.metaKey,J=T.key.length===1;z&&(T.key==="Tab"&&T.preventDefault(),!M&&J&&W(T.key));const ee=C.current;if(T.target!==ee||!ZO.includes(T.key))return;T.preventDefault();const Te=_().filter(H=>!H.disabled).map(H=>H.ref.current);Wb.includes(T.key)&&Te.reverse(),w2(Te)}),onBlur:V(t.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(N.current),P.current="")}),onPointerMove:V(t.onPointerMove,Sa(T=>{const A=T.target,z=j.current!==T.clientX;if(T.currentTarget.contains(A)&&z){const M=T.clientX>j.current?"right":"left";q.current=M,j.current=T.clientX}}))})})})})})})});Yb.displayName=Yt;var u2="MenuGroup",Wp=h.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(te.div,{role:"group",...n,ref:e})});Wp.displayName=u2;var d2="MenuLabel",Zb=h.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(te.div,{...n,ref:e})});Zb.displayName=d2;var kc="MenuItem",Iv="menu.itemSelect",bu=h.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=h.useRef(null),i=qa(kc,t.__scopeMenu),a=Bp(kc,t.__scopeMenu),l=pe(e,o),c=h.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const p=new CustomEvent(Iv,{bubbles:!0,cancelable:!0});f.addEventListener(Iv,m=>n==null?void 0:n(m),{once:!0}),lp(f,p),p.defaultPrevented?c.current=!1:i.onClose()}};return u.jsx(Jb,{...s,ref:l,disabled:r,onClick:V(t.onClick,d),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),c.current=!0},onPointerUp:V(t.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:V(t.onKeyDown,f=>{const p=a.searchRef.current!=="";r||p&&f.key===" "||Vh.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});bu.displayName=kc;var Jb=h.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,i=Bp(kc,r),a=qb(r),l=h.useRef(null),c=pe(e,l),[d,f]=h.useState(!1),[p,m]=h.useState("");return h.useEffect(()=>{const b=l.current;b&&m((b.textContent??"").trim())},[o.children]),u.jsx(_a.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:u.jsx(Mb,{asChild:!0,...a,focusable:!n,children:u.jsx(te.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:c,onPointerMove:V(t.onPointerMove,Sa(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:V(t.onPointerLeave,Sa(b=>i.onItemLeave(b))),onFocus:V(t.onFocus,()=>f(!0)),onBlur:V(t.onBlur,()=>f(!1))})})})}),h2="MenuCheckboxItem",Xb=h.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return u.jsx(s_,{scope:t.__scopeMenu,checked:r,children:u.jsx(bu,{role:"menuitemcheckbox","aria-checked":Ec(r)?"mixed":r,...s,ref:e,"data-state":qp(r),onSelect:V(s.onSelect,()=>n==null?void 0:n(Ec(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Xb.displayName=h2;var e_="MenuRadioGroup",[f2,p2]=qs(e_,{value:void 0,onValueChange:()=>{}}),t_=h.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=He(n);return u.jsx(f2,{scope:t.__scopeMenu,value:r,onValueChange:o,children:u.jsx(Wp,{...s,ref:e})})});t_.displayName=e_;var r_="MenuRadioItem",n_=h.forwardRef((t,e)=>{const{value:r,...n}=t,s=p2(r_,t.__scopeMenu),o=r===s.value;return u.jsx(s_,{scope:t.__scopeMenu,checked:o,children:u.jsx(bu,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":qp(o),onSelect:V(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});n_.displayName=r_;var Hp="MenuItemIndicator",[s_,m2]=qs(Hp,{checked:!1}),o_=h.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=m2(Hp,r);return u.jsx(_t,{present:n||Ec(o.checked)||o.checked===!0,children:u.jsx(te.span,{...s,ref:e,"data-state":qp(o.checked)})})});o_.displayName=Hp;var g2="MenuSeparator",i_=h.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(te.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});i_.displayName=g2;var v2="MenuArrow",a_=h.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=xu(r);return u.jsx(Rp,{...s,...n,ref:e})});a_.displayName=v2;var y2="MenuSub",[E4,l_]=qs(y2),Di="MenuSubTrigger",c_=h.forwardRef((t,e)=>{const r=Ks(Di,t.__scopeMenu),n=qa(Di,t.__scopeMenu),s=l_(Di,t.__scopeMenu),o=Bp(Di,t.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:t.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),u.jsx(Fp,{asChild:!0,...c,children:u.jsx(Jb,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":h_(r.open),...t,ref:eu(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:V(t.onPointerMove,Sa(f=>{o.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:V(t.onPointerLeave,Sa(f=>{var m,b;d();const p=(m=r.content)==null?void 0:m.getBoundingClientRect();if(p){const g=(b=r.content)==null?void 0:b.dataset.side,x=g==="right",y=x?-5:5,v=p[x?"left":"right"],w=p[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:v,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x:v,y:p.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:V(t.onKeyDown,f=>{var m;const p=o.searchRef.current!=="";t.disabled||p&&f.key===" "||JO[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});c_.displayName=Di;var u_="MenuSubContent",d_=h.forwardRef((t,e)=>{const r=Gb(Yt,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=Ks(Yt,t.__scopeMenu),i=qa(Yt,t.__scopeMenu),a=l_(u_,t.__scopeMenu),l=h.useRef(null),c=pe(e,l);return u.jsx(_a.Provider,{scope:t.__scopeMenu,children:u.jsx(_t,{present:n||o.open,children:u.jsx(_a.Slot,{scope:t.__scopeMenu,children:u.jsx(Vp,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:V(t.onFocusOutside,d=>{d.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:V(t.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:V(t.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),p=XO[i.dir].includes(d.key);f&&p&&(o.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});d_.displayName=u_;function h_(t){return t?"open":"closed"}function Ec(t){return t==="indeterminate"}function qp(t){return Ec(t)?"indeterminate":t?"checked":"unchecked"}function w2(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function x2(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function b2(t,e,r){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=x2(t,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==r));const l=i.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function _2(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],l=e[i],c=a.x,d=a.y,f=l.x,p=l.y;d>n!=p>n&&r<(f-c)*(n-d)/(p-d)+c&&(s=!s)}return s}function S2(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return _2(r,e)}function Sa(t){return e=>e.pointerType==="mouse"?t(e):void 0}var k2=Kb,E2=Fp,C2=Qb,T2=Yb,R2=Wp,N2=Zb,j2=bu,P2=Xb,A2=t_,O2=n_,I2=o_,D2=i_,M2=a_,L2=c_,$2=d_,_u="DropdownMenu",[U2,C4]=Xt(_u,[Hb]),St=Hb(),[F2,f_]=U2(_u),p_=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=t,l=St(e),c=h.useRef(null),[d,f]=Ds({prop:s,defaultProp:o??!1,onChange:i,caller:_u});return u.jsx(F2,{scope:e,triggerId:Or(),triggerRef:c,contentId:Or(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(p=>!p),[f]),modal:a,children:u.jsx(k2,{...l,open:d,onOpenChange:f,dir:n,modal:a,children:r})})};p_.displayName=_u;var m_="DropdownMenuTrigger",g_=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=f_(m_,r),i=St(r);return u.jsx(E2,{asChild:!0,...i,children:u.jsx(te.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:eu(e,o.triggerRef),onPointerDown:V(t.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:V(t.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});g_.displayName=m_;var z2="DropdownMenuPortal",v_=t=>{const{__scopeDropdownMenu:e,...r}=t,n=St(e);return u.jsx(C2,{...n,...r})};v_.displayName=z2;var y_="DropdownMenuContent",w_=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=f_(y_,r),o=St(r),i=h.useRef(!1);return u.jsx(T2,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:e,onCloseAutoFocus:V(t.onCloseAutoFocus,a=>{var l;i.current||(l=s.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:V(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});w_.displayName=y_;var B2="DropdownMenuGroup",V2=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=St(r);return u.jsx(R2,{...s,...n,ref:e})});V2.displayName=B2;var W2="DropdownMenuLabel",x_=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=St(r);return u.jsx(N2,{...s,...n,ref:e})});x_.displayName=W2;var H2="DropdownMenuItem",b_=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=St(r);return u.jsx(j2,{...s,...n,ref:e})});b_.displayName=H2;var q2="DropdownMenuCheckboxItem",__=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=St(r);return u.jsx(P2,{...s,...n,ref:e})});__.displayName=q2;var K2="DropdownMenuRadioGroup",G2=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=St(r);return u.jsx(A2,{...s,...n,ref:e})});G2.displayName=K2;var Q2="DropdownMenuRadioItem",S_=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=St(r);return u.jsx(O2,{...s,...n,ref:e})});S_.displayName=Q2;var Y2="DropdownMenuItemIndicator",k_=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=St(r);return u.jsx(I2,{...s,...n,ref:e})});k_.displayName=Y2;var Z2="DropdownMenuSeparator",E_=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=St(r);return u.jsx(D2,{...s,...n,ref:e})});E_.displayName=Z2;var J2="DropdownMenuArrow",X2=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=St(r);return u.jsx(M2,{...s,...n,ref:e})});X2.displayName=J2;var eI="DropdownMenuSubTrigger",C_=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=St(r);return u.jsx(L2,{...s,...n,ref:e})});C_.displayName=eI;var tI="DropdownMenuSubContent",T_=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=St(r);return u.jsx($2,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});T_.displayName=tI;var rI=p_,nI=g_,sI=v_,R_=w_,N_=x_,j_=b_,P_=__,A_=S_,O_=k_,I_=E_,D_=C_,M_=T_;const L_=rI,$_=nI,oI=h.forwardRef(({className:t,inset:e,children:r,...n},s)=>u.jsxs(D_,{ref:s,className:K("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,u.jsx(eR,{className:"ml-auto h-4 w-4"})]}));oI.displayName=D_.displayName;const iI=h.forwardRef(({className:t,...e},r)=>u.jsx(M_,{ref:r,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));iI.displayName=M_.displayName;const Kp=h.forwardRef(({className:t,sideOffset:e=4,...r},n)=>u.jsx(sI,{children:u.jsx(R_,{ref:n,sideOffset:e,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Kp.displayName=R_.displayName;const Rs=h.forwardRef(({className:t,inset:e,...r},n)=>u.jsx(j_,{ref:n,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));Rs.displayName=j_.displayName;const aI=h.forwardRef(({className:t,children:e,checked:r,...n},s)=>u.jsxs(P_,{ref:s,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(O_,{children:u.jsx(Ms,{className:"h-4 w-4"})})}),e]}));aI.displayName=P_.displayName;const lI=h.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(A_,{ref:n,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(O_,{children:u.jsx(nR,{className:"h-2 w-2 fill-current"})})}),e]}));lI.displayName=A_.displayName;const cI=h.forwardRef(({className:t,inset:e,...r},n)=>u.jsx(N_,{ref:n,className:K("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));cI.displayName=N_.displayName;const uI=h.forwardRef(({className:t,...e},r)=>u.jsx(I_,{ref:r,className:K("-mx-1 my-1 h-px bg-muted",t),...e}));uI.displayName=I_.displayName;const is=12;function dI({onSend:t,isLoading:e,onStop:r,disabled:n}){const[s,o]=h.useState(""),[i,a]=h.useState([]),[l,c]=h.useState(!1),[d,f]=h.useState("normal"),p=h.useRef(null),m=h.useRef(null),b=h.useCallback(()=>{const R=s.trim();!R&&i.length===0||(t(R,i.length>0?i:void 0,d),o(""),a([]))},[s,i,t,d]),g={normal:"Thng thng",answer_only:"Ch p n",code_only:"Ch code"},x=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),b())},y=h.useCallback(R=>{if(!R.type.startsWith("image/")){oe.error("Ch h tr file nh");return}if(i.length>=is){oe.error(`Ti a ${is} nh`);return}const N=new FileReader;N.onload=P=>{var I;const U=(I=P.target)==null?void 0:I.result;a(q=>q.length>=is?q:[...q,U])},N.readAsDataURL(R)},[i.length]),v=h.useCallback(R=>{const N=Array.from(R),P=is-i.length;N.length>P&&oe.error(`Ch c th thm ${P} nh na`),N.slice(0,P).forEach(y)},[i.length,y]),w=R=>{const N=R.target.files;N&&v(N),R.target.value=""},_=h.useCallback(R=>{R.preventDefault(),c(!1);const N=R.dataTransfer.files;N.length>0&&v(N)},[v]),S=R=>{R.preventDefault(),c(!0)},E=()=>{c(!1)},C=R=>{a(N=>N.filter((P,U)=>U!==R))};return h.useEffect(()=>{const R=N=>{var I;const P=(I=N.clipboardData)==null?void 0:I.items;if(!P)return;const U=[];for(let q=0;q<P.length;q++){const j=P[q];if(j.type.startsWith("image/")){const D=j.getAsFile();D&&U.push(D)}}U.length>0&&(N.preventDefault(),v(U))};return document.addEventListener("paste",R),()=>document.removeEventListener("paste",R)},[v]),u.jsxs("div",{className:K("relative bg-chat-input-bg border border-chat-border rounded-2xl transition-all duration-200",l&&"border-primary ring-2 ring-primary/20"),onDrop:_,onDragOver:S,onDragLeave:E,children:[i.length>0&&u.jsxs("div",{className:"p-3 pb-0",children:[u.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.map((R,N)=>u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:R,alt:`Preview ${N+1}`,className:"h-20 w-20 rounded-lg object-cover"}),u.jsx("button",{onClick:()=>C(N),className:"absolute -top-2 -right-2 w-6 h-6 bg-destructive text-destructive-foreground rounded-full flex items-center justify-center hover:bg-destructive/90 transition-colors",children:u.jsx(Mr,{className:"w-3 h-3"})})]},N)),i.length<is&&u.jsx("button",{onClick:()=>{var R;return(R=p.current)==null?void 0:R.click()},className:"h-20 w-20 rounded-lg border-2 border-dashed border-chat-border hover:border-primary/50 flex items-center justify-center transition-colors",children:u.jsx(Vg,{className:"w-6 h-6 text-muted-foreground"})})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[i.length,"/",is," nh"]})]}),u.jsxs("div",{className:"flex items-end gap-2 p-3",children:[u.jsx("input",{ref:p,type:"file",accept:"image/*",multiple:!0,onChange:w,className:"hidden"}),u.jsx(ae,{type:"button",variant:"ghost",size:"icon",onClick:()=>{var R;return(R=p.current)==null?void 0:R.click()},className:"h-9 w-9 text-muted-foreground hover:text-foreground flex-shrink-0",disabled:i.length>=is,children:u.jsx(Vg,{className:"w-5 h-5"})}),u.jsx(Lp,{ref:m,value:s,onChange:R=>o(R.target.value),onKeyDown:x,placeholder:"Nhp tin nhn hoc dn nh (Ctrl+V)...",className:"min-h-[44px] max-h-32 resize-none border-0 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 p-0 text-sm will-change-auto",rows:1,autoComplete:"off",spellCheck:!1}),u.jsxs(L_,{children:[u.jsx($_,{asChild:!0,children:u.jsxs(ae,{variant:"outline",size:"sm",className:"h-9 px-2 flex-shrink-0 gap-1 border-border bg-card hover:bg-accent",children:[u.jsx("span",{className:"text-xs hidden sm:inline max-w-24 truncate",children:g[d]}),u.jsx(fp,{className:"w-4 h-4"})]})}),u.jsxs(Kp,{align:"end",className:"w-52 bg-popover border border-border shadow-lg z-50",children:[u.jsxs(Rs,{onClick:()=>f("normal"),className:K("flex flex-col items-start gap-0.5 py-2 cursor-pointer",d==="normal"&&"bg-primary/10 text-primary"),children:[u.jsx("div",{className:"font-medium",children:"Tr li thng thng"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Gii thch km p n"})]}),u.jsxs(Rs,{onClick:()=>f("answer_only"),className:K("flex flex-col items-start gap-0.5 py-2 cursor-pointer",d==="answer_only"&&"bg-primary/10 text-primary"),children:[u.jsx("div",{className:"font-medium",children:"Ch p n"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Khng gii thch"})]}),u.jsxs(Rs,{onClick:()=>f("code_only"),className:K("flex flex-col items-start gap-0.5 py-2 cursor-pointer",d==="code_only"&&"bg-primary/10 text-primary"),children:[u.jsx("div",{className:"font-medium",children:"Ch code"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Tr li code khng gii thch"})]})]})]}),e&&r?u.jsx(ae,{onClick:r,size:"icon",variant:"destructive",className:"h-9 w-9 rounded-xl flex-shrink-0",title:"Dng tr li",children:u.jsx(gR,{className:"w-4 h-4"})}):u.jsx(ae,{onClick:b,disabled:n||!s.trim()&&i.length===0,size:"icon",className:"h-9 w-9 rounded-xl flex-shrink-0",children:u.jsx(fR,{className:"w-4 h-4"})})]}),l&&u.jsx("div",{className:"absolute inset-0 bg-primary/10 rounded-2xl flex items-center justify-center pointer-events-none",children:u.jsx("div",{className:"text-primary font-medium",children:"Th nh vo y"})})]})}function hI(){return u.jsxs("div",{className:"flex gap-3 animate-fade-in",children:[u.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-secondary text-secondary-foreground flex items-center justify-center",children:u.jsx(hp,{className:"w-4 h-4"})}),u.jsx("div",{className:"bg-chat-assistant text-chat-assistant-foreground rounded-2xl rounded-tl-md px-4 py-3 shadow-sm border border-chat-border",children:u.jsxs("div",{className:"flex gap-1",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground/60 animate-typing-dot",style:{animationDelay:"0s"}}),u.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground/60 animate-typing-dot",style:{animationDelay:"0.2s"}}),u.jsx("span",{className:"w-2 h-2 rounded-full bg-muted-foreground/60 animate-typing-dot",style:{animationDelay:"0.4s"}})]})})]})}const fI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Gp extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class pI extends Gp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dv extends Gp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mv extends Gp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Wh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Wh||(Wh={}));class mI{constructor(e,{headers:r={},customFetch:n,region:s=Wh.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=fI(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return fO(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:a,method:l,body:c,signal:d,timeout:f}=n;let p={},{region:m}=n;m||(m=this.region);const b=new URL(`${this.url}/${r}`);m&&m!=="any"&&(p["x-region"]=m,b.searchParams.set("forceFunctionRegion",m));let g;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(p["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(p["Content-Type"]="application/json",g=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?g=JSON.stringify(c):g=c;let x=d;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),d?(x=i.signal,d.addEventListener("abort",()=>i.abort())):x=i.signal);const y=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:g,signal:x}).catch(S=>{throw new pI(S)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new Dv(y);if(!y.ok)throw new Mv(y);let w=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield y.json():w==="application/octet-stream"||w==="application/pdf"?_=yield y.blob():w==="text/event-stream"?_=y:w==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Mv||a instanceof Dv?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var gI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},vI=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,a=null,l=null,c=o.status,d=o.statusText;if(o.ok){var f,p;if(r.method!=="HEAD"){var m;const y=await o.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(p=o.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");g&&x&&x.length>1&&(l=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var b;const g=await o.text();try{i=JSON.parse(g),Array.isArray(i)&&o.status===404&&(a=[],i=null,c=200,d="OK")}catch{o.status===404&&g===""?(c=204,d="No Content"):i={message:g}}if(i&&r.isMaybeSingle&&(!(i==null||(b=i.details)===null||b===void 0)&&b.includes("0 rows"))&&(i=null,c=200,d="OK"),i&&r.shouldThrowOnError)throw new gI(i)}return{error:i,data:a,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let a="";const l=o==null?void 0:o.cause;if(l){var c,d,f,p;const b=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",g=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,a+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${b}`,g&&(a+=` (${g})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var m;a=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},yI=class extends vI{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var i;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Lv=new RegExp("[,()]");var co=class extends yI{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Lv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Lv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},wI=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new co({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((i,a)=>i.concat(Object.keys(a)),[]);if(o.length>0){const i=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",i.join(","))}}return new co({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const i="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new co({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new co({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new co({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},xI=class U_{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new wI(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new U_(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(a="POST",c=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([m,b])=>b!==void 0).map(([m,b])=>[m,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([m,b])=>{l.searchParams.append(m,b)})):(a="POST",c=r);const p=new Headers(this.headers);return f?p.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&p.set("Prefer",`count=${o}`),new co({method:a,url:l,headers:p,schema:this.schemaName,body:c,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class bI{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const _I="2.90.0",SI=`realtime-js/${_I}`,F_="1.0.0",kI="2.0.0",$v=F_,Hh=1e4,EI=1e3,CI=100;var _n;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_n||(_n={}));var Qe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Qe||(Qe={}));var mr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(mr||(mr={}));var qh;(function(t){t.websocket="websocket"})(qh||(qh={}));var fs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fs||(fs={}));class TI{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(e,r,n){var s,o;const i=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+i.length+c.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+p);let b=new DataView(m),g=0;b.setUint8(g++,this.KINDS.userBroadcastPush),b.setUint8(g++,l.length),b.setUint8(g++,a.length),b.setUint8(g++,i.length),b.setUint8(g++,c.length),b.setUint8(g++,f.length),b.setUint8(g++,r),Array.from(l,y=>b.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>b.setUint8(g++,y.charCodeAt(0))),Array.from(i,y=>b.setUint8(g++,y.charCodeAt(0))),Array.from(c,y=>b.setUint8(g++,y.charCodeAt(0))),Array.from(f,y=>b.setUint8(g++,y.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,o,i,a,l]=n;return r({join_ref:s,ref:o,topic:i,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+o));l=l+o;const f=n.decode(e.slice(l,l+i));l=l+i;const p=e.slice(l,e.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,b={type:this.BROADCAST_EVENT,event:d,payload:m};return i>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class z_{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ne||(Ne={}));const Uv=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=RI(i,t,e,s),o),{}):{}},RI=(t,e,r,n)=>{const s=e.find(a=>a.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?B_(o,i):Kh(i)},B_=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return AI(e,r)}switch(t){case Ne.bool:return NI(e);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return jI(e);case Ne.json:case Ne.jsonb:return PI(e);case Ne.timestamp:return OI(e);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return Kh(e);default:return Kh(e)}},Kh=t=>t,NI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},jI=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},PI=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},AI=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>B_(e,a))}return t},OI=t=>typeof t=="string"?t.replace(" ","T"):t,V_=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Sd{constructor(e,r,n={},s=Hh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Fv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Fv||(Fv={}));class Zi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Zi.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zi.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),a={},l={};return this.map(o,(c,d)=>{i[c]||(l[c]=d)}),this.map(i,(c,d)=>{const f=o[c];if(f){const p=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),b=d.filter(x=>m.indexOf(x.presence_ref)<0),g=f.filter(x=>p.indexOf(x.presence_ref)<0);b.length>0&&(a[c]=b),g.length>0&&(l[c]=g)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(m=>m.presence_ref),p=d.filter(m=>f.indexOf(m.presence_ref)<0);e[a].unshift(...p)}n(a,d,l)}),this.map(i,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(zv||(zv={}));var Ji;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ji||(Ji={}));var Gr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Gr||(Gr={}));class Co{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sd(this,mr.join,this.params,this.timeout),this.rejoinTimer=new z_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Zi(this),this.broadcastEndpointURL=V_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ji.PRESENCE]&&this.bindings[Ji.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},p={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Gr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Gr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(Gr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(b=g==null?void 0:g.length)!==null&&b!==void 0?b:0,y=[];for(let v=0;v<x;v++){const w=g[v],{filter:{event:_,schema:S,table:E,filter:C}}=w,R=m&&m[v];if(R&&R.event===_&&Co.isFilterValueEqual(R.schema,S)&&Co.isFilterValueEqual(R.table,E)&&Co.isFilterValueEqual(R.filter,C))y.push(Object.assign(Object.assign({},w),{id:R.id}));else{this.unsubscribe(),this.state=Qe.errored,e==null||e(Gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Gr.SUBSCRIBED);return}}).receive("error",m=>{this.state=Qe.errored,e==null||e(Gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Qe.joined&&e===Ji.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Sd(this,mr.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Sd(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>CI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=mr;if(n&&[a,l,c,d].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,g,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(g=m.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(m=>m.callback(p,n)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var b,g,x,y,v,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,S=(b=m.filter)===null||b===void 0?void 0:b.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(v=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:g,table:x,commit_timestamp:y,type:v,errors:w}=b;p=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:y,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(b))}m.callback(p,n)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Co.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(mr.close,{},e)}_onError(e){this._on(mr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Uv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Uv(e.columns,e.old_record)),r}}const kd=()=>{},_l={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},II=[1e3,2e3,5e3,1e4],DI=1e4,MI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class LI{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hh,this.transport=null,this.heartbeatIntervalMs=_l.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kd,this.ref=0,this.reconnectTimer=null,this.vsn=$v,this.logger=kd,this.conn=null,this.sendBuffer=[],this.serializer=new TI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${qh.websocket}`,this.httpEndpoint=V_(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bI.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _n.connecting:return fs.Connecting;case _n.open:return fs.Open;case _n.closing:return fs.Closing;default:return fs.Closed}}isConnected(){return this.connectionState()===fs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Co(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(EI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_l.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===_n.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===_n.open||this.conn.readyState===_n.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(mr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([MI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:SI};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(mr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new z_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_l.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,i,a,l,c,d,f,p,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Hh,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:_l.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:kd,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:$v,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:b=>II[b-1]||DI,this.vsn){case F_:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(b,g)=>g(JSON.stringify(b)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(b,g)=>g(JSON.parse(b));break;case kI:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ka=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function $I(t,e,r){const n=new URL(e,t);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function UI(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function FI(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:i}){const a=$I(t.baseUrl,n,s),l=await UI(t.auth),c=await e(a,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...l,...i},body:o?JSON.stringify(o):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),p=f&&d?JSON.parse(d):d;if(!c.ok){const m=f?p:void 0,b=m==null?void 0:m.error;throw new ka((b==null?void 0:b.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:m})}return{status:c.status,headers:c.headers,data:p}}}}function Sl(t){return t.join("")}var zI=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Sl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sl(t.namespace)}`}),!0}catch(e){if(e instanceof ka&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ka&&r.status===409)return;throw r}}};function no(t){return t.join("")}var BI=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${no(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${no(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${no(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${no(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ka&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ka&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},VI=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=FI({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new zI(this.client,e),this.tableOps=new BI(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Su=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var WI=class extends Su{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gh=class extends Su{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Qp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),HI=()=>Response,Qh=t=>{if(Array.isArray(t))return t.map(r=>Qh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Qh(n)}),e},qI=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},KI=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Ea(t){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(t)}function GI(t,e){if(Ea(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ea(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QI(t){var e=GI(t,"string");return Ea(e)=="symbol"?e:e+""}function YI(t,e,r){return(e=QI(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bv(Object(r),!0).forEach(function(n){YI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Ed=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ZI=async(t,e,r)=>{t instanceof await HI()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,o=(n==null?void 0:n.statusCode)||s+"";e(new WI(Ed(n),s,o))}).catch(n=>{e(new Gh(Ed(n),n))}):e(new Gh(Ed(t),t))},JI=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(qI(n)?(s.headers=ne({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),ne(ne({},s),r))};async function Ka(t,e,r,n,s,o){return new Promise((i,a)=>{t(r,JI(e,n,s,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>ZI(l,a,n))})}async function Ca(t,e,r,n){return Ka(t,"GET",e,r,n)}async function dr(t,e,r,n,s){return Ka(t,"POST",e,n,s,r)}async function Yh(t,e,r,n,s){return Ka(t,"PUT",e,n,s,r)}async function XI(t,e,r,n){return Ka(t,"HEAD",e,ne(ne({},r),{},{noResolveJson:!0}),n)}async function Yp(t,e,r,n,s){return Ka(t,"DELETE",e,n,s,r)}var eD=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Me(e))return{data:null,error:e};throw e}}};let W_;W_=Symbol.toStringTag;var tD=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[W_]="BlobDownloadBuilder",this.promise=null}asStream(){return new eD(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Me(e))return{data:null,error:e};throw e}}};const rD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var nD=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Qp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let o;const i=ne(ne({},Vv),n);let a=ne(ne({},s.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",s.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),l&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(a=ne(ne({},a),n.headers));const c=s._removeEmptyFolders(e),d=s._getFinalPath(c),f=await(t=="PUT"?Yh:dr)(s.fetch,`${s.url}/object/${d}`,o,ne({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const o=s._removeEmptyFolders(t),i=s._getFinalPath(o),a=new URL(s.url+`/object/upload/sign/${i}`);a.searchParams.set("token",e);try{let l;const c=ne({upsert:Vv.upsert},n),d=ne(ne({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:o,fullPath:(await Yh(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Me(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=ne({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const o=await dr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+o.url),a=i.searchParams.get("token");if(!a)throw new Su("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await dr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await dr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),o=await dr(n.fetch,`${n.url}/object/sign/${s}`,ne({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await dr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>ne(ne({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(t),i=()=>Ca(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new tD(i,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Qh(await Ca(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await XI(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Me(n)&&n instanceof Gh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});i!==""&&n.push(i);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${a}`)}}}async remove(t){var e=this;try{return{data:await Yp(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=ne(ne(ne({},rD),e),{},{prefix:t||""});return{data:await dr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Me(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=ne({},t);return{data:await dr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const H_="2.90.0",q_={"X-Client-Info":`storage-js/${H_}`};var sD=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ne(ne({},q_),e),this.fetch=Qp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Ca(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ca(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await dr(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Yh(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await dr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Yp(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},oD=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ne(ne({},q_),e),this.fetch=Qp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await dr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Ca(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Yp(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!KI(t))throw new Su("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new VI({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...a)=>{try{return{data:await i.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const Zp={"X-Client-Info":`storage-js/${H_}`,"Content-Type":"application/json"};var K_=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function It(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Cd=class extends K_{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},iD=class extends K_{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Jp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aD=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Wv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lD=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const i=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new Cd(Wv(o),n,i))}).catch(()=>{const o=n+"";e(new Cd(s.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";e(new Cd(s.statusText||`HTTP ${n} error`,n,o))}}else e(new iD(Wv(t),t))},cD=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(aD(n)?(s.headers=ne({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,ne(ne({},s),r)):s};async function uD(t,e,r,n,s,o){return new Promise((i,a)=>{t(r,cD(e,n,s,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>lD(l,a,n))})}async function Dt(t,e,r,n,s){return uD(t,"POST",e,n,s,r)}var dD=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ne(ne({},Zp),e),this.fetch=Jp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Dt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Dt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}},hD=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ne(ne({},Zp),e),this.fetch=Jp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Dt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Dt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Dt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}},fD=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ne(ne({},Zp),e),this.fetch=Jp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Dt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}},pD=class extends fD{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new mD(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},mD=class extends dD{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new gD(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},gD=class extends hD{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,ne(ne({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},vD=class extends sD{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new nD(this.url,this.headers,t,this.fetch)}get vectors(){return new pD(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new oD(this.url+"/iceberg",this.headers,this.fetch)}};const G_="2.90.0",uo=30*1e3,Zh=3,Td=Zh*uo,yD="http://localhost:9999",wD="supabase.auth.token",xD={"X-Client-Info":`gotrue-js/${G_}`},Jh="X-Supabase-Api-Version",Q_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_D=10*60*1e3;class Ta extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function X(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class SD extends Ta{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function kD(t){return X(t)&&t.name==="AuthApiError"}class ps extends Ta{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class cn extends Ta{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Pt extends cn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ED(t){return X(t)&&t.name==="AuthSessionMissingError"}class so extends cn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kl extends cn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class El extends cn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CD(t){return X(t)&&t.name==="AuthImplicitGrantRedirectError"}class Hv extends cn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class TD extends cn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Xh extends cn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Rd(t){return X(t)&&t.name==="AuthRetryableFetchError"}class qv extends cn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ef extends cn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kv=` 	
\r=`.split(""),RD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Kv.length;e+=1)t[Kv[e].charCodeAt(0)]=-2;for(let e=0;e<Cc.length;e+=1)t[Cc[e].charCodeAt(0)]=e;return t})();function Gv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Cc[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Cc[n]),e.queuedBits-=6}}function Y_(t,e,r){const n=RD[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Qv(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{PD(i,n,r)};for(let i=0;i<t.length;i+=1)Y_(t.charCodeAt(i),s,o);return e.join("")}function ND(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jD(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ND(n,e)}}function PD(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Mo(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Y_(t.charCodeAt(s),r,n);return new Uint8Array(e)}function AD(t){const e=[];return jD(t,r=>e.push(r)),new Uint8Array(e)}function ys(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Gv(s,r,n)),Gv(null,r,n),e.join("")}function OD(t){return Math.round(Date.now()/1e3)+t}function ID(){return Symbol("auth-callback")}const st=()=>typeof window<"u"&&typeof document<"u",as={tested:!1,writable:!1},Z_=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(as.tested)return as.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),as.tested=!0,as.writable=!0}catch{as.tested=!0,as.writable=!1}return as.writable};function DD(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const J_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ho=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ls=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},nt=async(t,e)=>{await t.removeItem(e)};class ku{constructor(){this.promise=new ku.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ku.promiseConstructor=Promise;function Nd(t){const e=t.split(".");if(e.length!==3)throw new ef("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!bD.test(e[n]))throw new ef("JWT not in base64url format");return{header:JSON.parse(Qv(e[0])),payload:JSON.parse(Qv(e[1])),signature:Mo(e[2]),raw:{header:e[0],payload:e[1]}}}async function LD(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function $D(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function UD(t){return("0"+t.toString(16)).substr(-2)}function FD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,UD).join("")}async function zD(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function BD(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await zD(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oo(t,e,r=!1){const n=FD();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ho(t,`${e}-code-verifier`,s);const o=await BD(n);return[o,n===o?"plain":"s256"]}const VD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function WD(t){const e=t.headers.get(Jh);if(!e||!e.match(VD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function HD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function qD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const KD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function io(t){if(!KD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jd(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function GD(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Yv(t){return JSON.parse(JSON.stringify(t))}const ds=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QD=[502,503,504];async function Zv(t){var e;if(!MD(t))throw new Xh(ds(t),0);if(QD.includes(t.status))throw new Xh(ds(t),t.status);let r;try{r=await t.json()}catch(o){throw new ps(ds(o),o)}let n;const s=WD(t);if(s&&s.getTime()>=Q_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qv(ds(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Pt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new qv(ds(r),t.status,r.weak_password.reasons);throw new SD(ds(r),t.status||500,n)}const YD=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function re(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Jh]||(o[Jh]=Q_["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await ZD(t,e,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function ZD(t,e,r,n,s,o){const i=YD(e,n,s,o);let a;try{a=await t(r,Object.assign({},i))}catch(l){throw console.error(l),new Xh(ds(l),0)}if(a.ok||await Zv(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Zv(l)}}function ar(t){var e;let r=null;eM(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=OD(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Jv(t){const e=ar(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Cn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function JD(t){return{data:t,error:null}}function XD(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=mi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function Xv(t){return t}function eM(t){return t.access_token&&t.refresh_token&&t.expires_in}const Pd=["global","local","others"];class tM{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=J_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Pd[0]){if(Pd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pd.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Cn})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=mi(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:XD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(X(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Cn})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Xv});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(X(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){io(e);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Cn})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){io(e);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Cn})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){io(e);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Cn})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){io(e.userId);try{const{data:r,error:n}=await re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _deleteFactor(e){io(e.userId),io(e.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Xv});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(X(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}}function ey(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ao={debug:!!(globalThis&&Z_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class X_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rM extends X_{}async function nM(t,e,r){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rM(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ao.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function sM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function e1(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function oM(t){return parseInt(t,16)}function iM(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function aM(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:c,scheme:d,uri:f,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=e1(t.address),b=d?`${d}://${n}`:n,g=t.statement?`${t.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${m}

${g}`;let y=`URI: ${f}
Version: ${p}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let v=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}y+=v}return`${x}
${y}`}class Ke extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Tc extends Ke{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function lM({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ke({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(t1(i)){if(o.rp.id!==i)return new Ke({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function cM({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ke({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(t1(n)){if(r.rpId!==n)return new Ke({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class uM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const dM=new uM;function hM(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=mi(t,["challenge","user","excludeCredentials"]),o=Mo(e).buffer,i=Object.assign(Object.assign({},r),{id:Mo(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Mo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function fM(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=mi(t,["challenge","allowCredentials"]),s=Mo(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Mo(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function pM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ys(new Uint8Array(t.response.attestationObject)),clientDataJSON:ys(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ys(new Uint8Array(s.authenticatorData)),clientDataJSON:ys(new Uint8Array(s.clientDataJSON)),signature:ys(new Uint8Array(s.signature)),userHandle:s.userHandle?ys(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function t1(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ty(){var t,e;return!!(st()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function gM(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tc("Browser returned unexpected credential type",e)}:{data:null,error:new Tc("Empty credential response",e)}}catch(e){return{data:null,error:lM({error:e,options:t})}}}async function vM(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Tc("Browser returned unexpected credential type",e)}:{data:null,error:new Tc("Empty credential response",e)}}catch(e){return{data:null,error:cM({error:e,options:t})}}}const yM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Rc(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(e(i)){const a=n[o];e(a)?n[o]=Rc(a,i):n[o]=Rc(i)}else n[o]=i}return n}function xM(t,e){return Rc(yM,t,e||{})}function bM(t,e){return Rc(wM,t,e||{})}class _M{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!i)return{data:null,error:a};const l=s??dM.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=xM(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await gM({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=bM(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await vM(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return X(i)?{data:null,error:i}:{data:null,error:new ps("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Ta("rpId is required for WebAuthn authentication")};try{if(!ty())return{data:null,error:new ps("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return X(i)?{data:null,error:i}:{data:null,error:new ps("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Ta("rpId is required for WebAuthn registration")};try{if(!ty())return{data:null,error:new ps("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return X(i)?{data:null,error:i}:{data:null,error:new ps("Unexpected error in register",i)}}}}sM();const SM={url:yD,storageKey:wD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ry(t,e,r){return await r()}const lo={};class Ra{get jwks(){var e,r;return(r=(e=lo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){lo[this.storageKey]=Object.assign(Object.assign({},lo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=lo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){lo[this.storageKey]=Object.assign(Object.assign({},lo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},SM),e);if(this.storageKey=o.storageKey,this.instanceID=(r=Ra.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ra.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&st()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new tM({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=J_(o.fetch),this.lock=o.lock||ry,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&st()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=nM:this.lock=ry,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _M(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Z_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ey(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=ey(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${G_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(st()&&(r=DD(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),st()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),CD(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return X(r)?this._returnResult({error:r}):this._returnResult({error:new ps("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ar}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(X(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:d,password:f,options:p}=e;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await oo(this.storage,this.storageKey)),o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:b},xform:ar})}else if("phone"in e){const{phone:d,password:f,options:p}=e;o=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ar})}else throw new kl("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return await nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:a}=e;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Jv})}else if("phone"in e){const{phone:o,password:i,options:a}=e;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Jv})}else throw new kl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new so;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,i,a,l,c,d,f,p;let m,b;if("message"in e)m=e.message,b=e.signature;else{const{chain:g,wallet:x,statement:y,options:v}=e;let w;if(st())if(typeof x=="object")w=x;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")w=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=e1(S[0]);let C=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const N=await w.request({method:"eth_chainId"});C=oM(N)}const R={domain:_.host,address:E,statement:y,uri:_.href,version:"1",chainId:C,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=aM(R),b=await w.request({method:"personal_sign",params:[iM(m),E]})}try{const{data:g,error:x}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ar});if(x)throw x;if(!g||!g.session||!g.user){const y=new so;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(X(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var r,n,s,o,i,a,l,c,d,f,p,m;let b,g;if("message"in e)b=e.message,g=e.signature;else{const{chain:x,wallet:y,statement:v,options:w}=e;let _;if(st())if(typeof y=="object")_=y;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),v?{statement:v}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)b=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:x,error:y}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ys(g)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ar});if(y)throw y;if(!x||!x.session||!x.user){const v=new so;return this._returnResult({data:{user:null,session:null},error:v})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(X(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await ls(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new TD;const{data:o,error:i}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ar});if(await nt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new so;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,a=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ar}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new so;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await oo(this.storage,this.storageKey));const{error:f}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new kl("You must provide either an email or phone number.")}catch(a){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ar});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,o,i;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await oo(this.storage,this.storageKey));const c=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:JD});return!((o=c.data)===null||o===void 0)&&o.url&&st()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Pt;const{error:s}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(X(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:a}=await re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new kl("You must provide either an email or phone number and a type")}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Td:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await ls(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=jd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};e.user=GD(e.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Cn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Cn})})}catch(r){if(X(r))return ED(r)&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Pt;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await oo(this.storage,this.storageKey));const{data:c,error:d}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:Cn});if(d)throw d;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pt;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Nd(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(X(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:a}=r;if(a)throw a;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Pt;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!st())throw new El("No browser detected.");if(e.error||e.error_description||e.error_code)throw new El(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Hv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new El("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Hv("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!i||!c)throw new El("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;l&&(p=parseInt(l));const m=p-d;m*1e3<=uo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const b=p-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,d);const{data:g,error:x}=await this._getUser(o);if(x)throw x;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:i,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(X(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ls(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(kD(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=ID(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await oo(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,l,c,d;const{data:f,error:p}=o;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return st()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(X(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:l,access_token:c,nonce:d}=e,f=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:ar}),{data:p,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new so}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:m}))}catch(s){if(await nt(this.storage,`${this.storageKey}-code-verifier`),X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await $D(async s=>(s>0&&await LD(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ar})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Rd(o)&&Date.now()+i-n<uo})}catch(n){if(this._debug(r,"error",n),X(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),st()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ls(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ls(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await ho(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:jd()}else if(s&&!s.user&&!s.user){const i=await ls(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await nt(this.storage,this.storageKey+"-user"),await ho(this.storage,this.storageKey,s)):s.user=jd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Td;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Td}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Rd(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ku;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new Pt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),X(o)){const i={data:null,error:o};return Rd(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await nt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ho(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Yv(s);await ho(this.storage,this.storageKey,o)}else{const s=Yv(r);await ho(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nt(this.storage,this.storageKey),await nt(this.storage,this.storageKey+"-code-verifier"),await nt(this.storage,this.storageKey+"-user"),this.userStorage&&await nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&st()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),uo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/uo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${uo}ms, refresh threshold is ${Zh} ticks`),s<=Zh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof X_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await oo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await re(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?pM(e.webauthn.credential_response):mM(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:hM(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:fM(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Nd(n.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Pt})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Pt});const i=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&st()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Pt});const i=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&st()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Pt})})}catch(e){if(X(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Pt})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+_D>s)return n;const{data:o,error:i}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:b}=await this.getSession();if(b||!m.session)return this._returnResult({data:null,error:b});n=m.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=Nd(n);r!=null&&r.allowExpired||HD(o.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:o,header:s,signature:i},error:null}}const d=qD(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,AD(`${a}.${l}`)))throw new ef("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}}Ra.nextInstanceID={};const kM=Ra,EM="2.90.0";let Mi="";typeof Deno<"u"?Mi="deno":typeof document<"u"?Mi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mi="react-native":Mi="node";const CM={"X-Client-Info":`supabase-js-${Mi}/${EM}`},TM={headers:CM},RM={schema:"public"},NM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jM={};function Na(t){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(t)}function PM(t,e){if(Na(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Na(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AM(t){var e=PM(t,"string");return Na(e)=="symbol"?e:e+""}function OM(t,e,r){return(e=AM(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ny(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ny(Object(r),!0).forEach(function(n){OM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ny(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const IM=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),DM=()=>Headers,MM=(t,e,r)=>{const n=IM(r),s=DM();return async(o,i)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,ze(ze({},i),{},{headers:c}))}};function LM(t){return t.endsWith("/")?t:t+"/"}function $M(t,e){var r,n;const{db:s,auth:o,realtime:i,global:a}=t,{db:l,auth:c,realtime:d,global:f}=e,p={db:ze(ze({},l),s),auth:ze(ze({},c),o),realtime:ze(ze({},d),i),storage:{},global:ze(ze(ze({},f),a),{},{headers:ze(ze({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function UM(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(LM(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var FM=class extends kM{constructor(t){super(t)}},zM=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const o=UM(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:RM,realtime:jM,auth:ze(ze({},NM),{},{storageKey:i}),global:TM},l=$M(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=MM(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new xI(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new vD(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new mI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:i,lock:a,debug:l,throwOnError:c},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FM({url:this.authUrl.href,headers:ze(ze({},p),d),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:a,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new LI(this.realtimeUrl.href,ze(ze({},t),{},{params:ze(ze({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const BM=(t,e,r)=>new zM(t,e,r);function VM(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}VM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const WM="https://mlxzfwfxhertxgscudbf.supabase.co",HM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1seHpmd2Z4aGVydHhnc2N1ZGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3NzI4MzksImV4cCI6MjA4MzM0ODgzOX0.JbRwgbgIUV-gf8uTVXiiPJRiTIedpXygCceP6WivZt8",ie=BM(WM,HM,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function Gs(){const[t,e]=h.useState(null),[r,n]=h.useState(null),[s,o]=h.useState(!0);h.useEffect(()=>{const{data:{subscription:c}}=ie.auth.onAuthStateChange((d,f)=>{n(f),e((f==null?void 0:f.user)??null),o(!1)});return ie.auth.getSession().then(({data:{session:d}})=>{n(d),e((d==null?void 0:d.user)??null),o(!1)}),()=>c.unsubscribe()},[]);const i=h.useCallback(async(c,d)=>{const f=`${window.location.origin}/`,{error:p}=await ie.auth.signUp({email:c,password:d,options:{emailRedirectTo:f}});return{error:p}},[]),a=h.useCallback(async(c,d)=>{const{error:f}=await ie.auth.signInWithPassword({email:c,password:d});return{error:f}},[]),l=h.useCallback(async()=>{const{error:c}=await ie.auth.signOut();return{error:c}},[]);return{user:t,session:r,loading:s,signUp:i,signIn:a,signOut:l,isAuthenticated:!!t}}function tf(t,[e,r]){return Math.min(r,Math.max(e,t))}function qM(t,e){return h.useReducer((r,n)=>e[r][n]??r,t)}var Xp="ScrollArea",[r1,T4]=Xt(Xp),[KM,er]=r1(Xp),n1=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=t,[a,l]=h.useState(null),[c,d]=h.useState(null),[f,p]=h.useState(null),[m,b]=h.useState(null),[g,x]=h.useState(null),[y,v]=h.useState(0),[w,_]=h.useState(0),[S,E]=h.useState(!1),[C,R]=h.useState(!1),N=pe(e,U=>l(U)),P=Va(s);return u.jsx(KM,{scope:r,type:n,dir:P,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:d,content:f,onContentChange:p,scrollbarX:m,onScrollbarXChange:b,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:R,onCornerWidthChange:v,onCornerHeightChange:_,children:u.jsx(te.div,{dir:P,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});n1.displayName=Xp;var s1="ScrollAreaViewport",o1=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=t,i=er(s1,r),a=h.useRef(null),l=pe(e,a,i.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),u.jsx(te.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});o1.displayName=s1;var Ur="ScrollAreaScrollbar",em=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=er(Ur,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=t.orientation==="horizontal";return h.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?u.jsx(GM,{...n,ref:e,forceMount:r}):s.type==="scroll"?u.jsx(QM,{...n,ref:e,forceMount:r}):s.type==="auto"?u.jsx(i1,{...n,ref:e,forceMount:r}):s.type==="always"?u.jsx(tm,{...n,ref:e}):null});em.displayName=Ur;var GM=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=er(Ur,t.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),u.jsx(_t,{present:r||o,children:u.jsx(i1,{"data-state":o?"visible":"hidden",...n,ref:e})})}),QM=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=er(Ur,t.__scopeScrollArea),o=t.orientation==="horizontal",i=Cu(()=>l("SCROLL_END"),100),[a,l]=qM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),h.useEffect(()=>{const c=s.viewport,d=o?"scrollLeft":"scrollTop";if(c){let f=c[d];const p=()=>{const m=c[d];f!==m&&(l("SCROLL"),i()),f=m};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[s.viewport,o,l,i]),u.jsx(_t,{present:r||a!=="hidden",children:u.jsx(tm,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:V(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:V(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),i1=h.forwardRef((t,e)=>{const r=er(Ur,t.__scopeScrollArea),{forceMount:n,...s}=t,[o,i]=h.useState(!1),a=t.orientation==="horizontal",l=Cu(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(a?c:d)}},10);return ti(r.viewport,l),ti(r.content,l),u.jsx(_t,{present:n||o,children:u.jsx(tm,{"data-state":o?"visible":"hidden",...s,ref:e})})}),tm=h.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=er(Ur,t.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[a,l]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=d1(a.viewport,a.content),d={...n,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function f(p,m){return tL(p,i.current,a,m)}return r==="horizontal"?u.jsx(YM,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollLeft,m=sy(p,a,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):r==="vertical"?u.jsx(ZM,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollTop,m=sy(p,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),YM=h.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=er(Ur,t.__scopeScrollArea),[i,a]=h.useState(),l=h.useRef(null),c=pe(e,l,o.onScrollbarXChange);return h.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(l1,{"data-orientation":"horizontal",...s,ref:c,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Eu(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),f1(p,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:jc(i.paddingLeft),paddingEnd:jc(i.paddingRight)}})}})}),ZM=h.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=er(Ur,t.__scopeScrollArea),[i,a]=h.useState(),l=h.useRef(null),c=pe(e,l,o.onScrollbarYChange);return h.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(l1,{"data-orientation":"vertical",...s,ref:c,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Eu(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),f1(p,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:jc(i.paddingTop),paddingEnd:jc(i.paddingBottom)}})}})}),[JM,a1]=r1(Ur),l1=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...p}=t,m=er(Ur,r),[b,g]=h.useState(null),x=pe(e,N=>g(N)),y=h.useRef(null),v=h.useRef(""),w=m.viewport,_=n.content-n.viewport,S=He(d),E=He(l),C=Cu(f,10);function R(N){if(y.current){const P=N.clientX-y.current.left,U=N.clientY-y.current.top;c({x:P,y:U})}}return h.useEffect(()=>{const N=P=>{const U=P.target;(b==null?void 0:b.contains(U))&&S(P,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,b,_,S]),h.useEffect(E,[n,E]),ti(b,C),ti(m.content,C),u.jsx(JM,{scope:r,scrollbar:b,hasThumb:s,onThumbChange:He(o),onThumbPointerUp:He(i),onThumbPositionChange:E,onThumbPointerDown:He(a),children:u.jsx(te.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:V(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),y.current=b.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),R(N))}),onPointerMove:V(t.onPointerMove,R),onPointerUp:V(t.onPointerUp,N=>{const P=N.target;P.hasPointerCapture(N.pointerId)&&P.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Nc="ScrollAreaThumb",c1=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=a1(Nc,t.__scopeScrollArea);return u.jsx(_t,{present:r||s.hasThumb,children:u.jsx(XM,{ref:e,...n})})}),XM=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,o=er(Nc,r),i=a1(Nc,r),{onThumbPositionChange:a}=i,l=pe(e,f=>i.onThumbChange(f)),c=h.useRef(void 0),d=Cu(()=>{c.current&&(c.current(),c.current=void 0)},100);return h.useEffect(()=>{const f=o.viewport;if(f){const p=()=>{if(d(),!c.current){const m=rL(f,a);c.current=m,a()}};return a(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[o.viewport,d,a]),u.jsx(te.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:V(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),b=f.clientX-m.left,g=f.clientY-m.top;i.onThumbPointerDown({x:b,y:g})}),onPointerUp:V(t.onPointerUp,i.onThumbPointerUp)})});c1.displayName=Nc;var rm="ScrollAreaCorner",u1=h.forwardRef((t,e)=>{const r=er(rm,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?u.jsx(eL,{...t,ref:e}):null});u1.displayName=rm;var eL=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=er(rm,r),[o,i]=h.useState(0),[a,l]=h.useState(0),c=!!(o&&a);return ti(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),ti(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),c?u.jsx(te.div,{...n,ref:e,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function jc(t){return t?parseInt(t,10):0}function d1(t,e){const r=t/e;return isNaN(r)?0:r}function Eu(t){const e=d1(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function tL(t,e,r,n="ltr"){const s=Eu(r),o=s/2,i=e||o,a=s-i,l=r.scrollbar.paddingStart+i,c=r.scrollbar.size-r.scrollbar.paddingEnd-a,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return h1([l,c],f)(t)}function sy(t,e,r="ltr"){const n=Eu(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,i=e.content-e.viewport,a=o-n,l=r==="ltr"?[0,i]:[i*-1,0],c=tf(t,l);return h1([0,i],[0,a])(c)}function h1(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function f1(t,e){return t>0&&t<e}var rL=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},i=r.left!==o.left,a=r.top!==o.top;(i||a)&&e(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Cu(t,e){const r=He(t),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function ti(t,e){const r=He(e);rt(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var p1=n1,nL=o1,sL=u1;const m1=h.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(p1,{ref:n,className:K("relative overflow-hidden",t),...r,children:[u.jsx(nL,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(g1,{}),u.jsx(sL,{})]}));m1.displayName=p1.displayName;const g1=h.forwardRef(({className:t,orientation:e="vertical",...r},n)=>u.jsx(em,{ref:n,orientation:e,className:K("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:u.jsx(c1,{className:"relative flex-1 rounded-full bg-border"})}));g1.displayName=em.displayName;function oL({currentSessionId:t,onSelectSession:e,onNewChat:r,isOpen:n,onToggle:s}){const{user:o,signOut:i,isAuthenticated:a}=Gs(),l=mu(),[c,d]=h.useState([]),[f,p]=h.useState(!1);h.useEffect(()=>{a?m():d([])},[a]);const m=async()=>{if(o){p(!0);try{const{data:y,error:v}=await ie.from("chat_sessions").select("*").order("updated_at",{ascending:!1});if(v)throw v;d(y||[])}catch(y){console.error("Error loading sessions:",y)}finally{p(!1)}}},b=async(y,v)=>{v.stopPropagation();try{const{error:w}=await ie.from("chat_sessions").delete().eq("id",y);if(w)throw w;d(_=>_.filter(S=>S.id!==y)),t===y&&r(),oe.success(" xa cuc tr chuyn")}catch{oe.error("Khng th xa cuc tr chuyn")}},g=async()=>{const{error:y}=await i();y?oe.error("Khng th ng xut"):(oe.success(" ng xut"),r())},x=y=>{const v=new Date(y),_=new Date().getTime()-v.getTime(),S=Math.floor(_/(1e3*60*60*24));return S===0?"Hm nay":S===1?"Hm qua":S<7?`${S} ngy trc`:v.toLocaleDateString("vi-VN")};return u.jsxs(u.Fragment,{children:[n&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:s}),u.jsxs("div",{className:K("fixed lg:relative inset-y-0 left-0 z-50 w-72 bg-card border-r border-chat-border flex flex-col transition-transform duration-300 lg:translate-x-0",n?"translate-x-0":"-translate-x-full"),children:[u.jsxs("div",{className:"p-4 border-b border-chat-border flex items-center justify-between",children:[u.jsx("h2",{className:"font-semibold text-foreground",children:"Lch s chat"}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:s,className:"lg:hidden",children:u.jsx(Mr,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-3",children:u.jsxs(ae,{onClick:()=>{r(),s()},className:"w-full",variant:"outline",children:[u.jsx(Sx,{className:"w-4 h-4 mr-2"}),"Chat mi"]})}),u.jsx(m1,{className:"flex-1",children:u.jsx("div",{className:"p-2 space-y-1",children:a?f?u.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"ang ti..."}):c.length===0?u.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"Cha c cuc tr chuyn no"}):c.map(y=>u.jsxs("div",{onClick:()=>{e(y.id),s()},className:K("group flex items-center gap-2 p-3 rounded-lg cursor-pointer transition-colors",t===y.id?"bg-primary/10 text-primary":"hover:bg-muted text-foreground"),children:[u.jsx(uR,{className:"w-4 h-4 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium truncate",children:y.title}),u.jsx("p",{className:"text-xs text-muted-foreground",children:x(y.updated_at)})]}),u.jsx(ae,{variant:"ghost",size:"icon",className:"h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:v=>b(y.id,v),children:u.jsx(mp,{className:"w-3.5 h-3.5 text-muted-foreground hover:text-destructive"})})]},y.id)):u.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:u.jsx("p",{children:"ng nhp  xem lch s chat"})})})}),u.jsx("div",{className:"p-3 border-t border-chat-border",children:a?u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs text-muted-foreground truncate px-2",children:o==null?void 0:o.email}),u.jsxs(ae,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-destructive",onClick:g,children:[u.jsx(aR,{className:"w-4 h-4 mr-2"}),"ng xut"]})]}):u.jsxs(ae,{variant:"outline",className:"w-full",onClick:()=>l("/auth"),children:[u.jsx(iR,{className:"w-4 h-4 mr-2"}),"ng nhp"]})})]}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:s,className:K("fixed top-3 left-3 z-30 lg:hidden",n&&"hidden"),children:u.jsx(cR,{className:"w-5 h-5"})})]})}var Tu="Dialog",[v1,y1]=Xt(Tu),[iL,_r]=v1(Tu),w1=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=h.useRef(null),l=h.useRef(null),[c,d]=Ds({prop:n,defaultProp:s??!1,onChange:o,caller:Tu});return u.jsx(iL,{scope:e,triggerRef:a,contentRef:l,contentId:Or(),titleId:Or(),descriptionId:Or(),open:c,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};w1.displayName=Tu;var x1="DialogTrigger",b1=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=_r(x1,r),o=pe(e,s.triggerRef);return u.jsx(te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":om(s.open),...n,ref:o,onClick:V(t.onClick,s.onOpenToggle)})});b1.displayName=x1;var nm="DialogPortal",[aL,_1]=v1(nm,{forceMount:void 0}),S1=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=_r(nm,e);return u.jsx(aL,{scope:e,forceMount:r,children:h.Children.map(n,i=>u.jsx(_t,{present:r||o.open,children:u.jsx(Fa,{asChild:!0,container:s,children:i})}))})};S1.displayName=nm;var Pc="DialogOverlay",k1=h.forwardRef((t,e)=>{const r=_1(Pc,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=_r(Pc,t.__scopeDialog);return o.modal?u.jsx(_t,{present:n||o.open,children:u.jsx(cL,{...s,ref:e})}):null});k1.displayName=Pc;var lL=Is("DialogOverlay.RemoveScroll"),cL=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=_r(Pc,r);return u.jsx(wu,{as:lL,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(te.div,{"data-state":om(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),$s="DialogContent",E1=h.forwardRef((t,e)=>{const r=_1($s,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=_r($s,t.__scopeDialog);return u.jsx(_t,{present:n||o.open,children:o.modal?u.jsx(uL,{...s,ref:e}):u.jsx(dL,{...s,ref:e})})});E1.displayName=$s;var uL=h.forwardRef((t,e)=>{const r=_r($s,t.__scopeDialog),n=h.useRef(null),s=pe(e,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return Up(o)},[]),u.jsx(C1,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:V(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:V(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:V(t.onFocusOutside,o=>o.preventDefault())})}),dL=h.forwardRef((t,e)=>{const r=_r($s,t.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return u.jsx(C1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),C1=h.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=_r($s,r),l=h.useRef(null),c=pe(e,l);return $p(),u.jsxs(u.Fragment,{children:[u.jsx(gu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(ci,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":om(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(fL,{titleId:a.titleId}),u.jsx(mL,{contentRef:l,descriptionId:a.descriptionId})]})]})}),sm="DialogTitle",T1=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=_r(sm,r);return u.jsx(te.h2,{id:s.titleId,...n,ref:e})});T1.displayName=sm;var R1="DialogDescription",N1=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=_r(R1,r);return u.jsx(te.p,{id:s.descriptionId,...n,ref:e})});N1.displayName=R1;var j1="DialogClose",P1=h.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=_r(j1,r);return u.jsx(te.button,{type:"button",...n,ref:e,onClick:V(t.onClick,()=>s.onOpenChange(!1))})});P1.displayName=j1;function om(t){return t?"open":"closed"}var A1="DialogTitleWarning",[hL,O1]=aT(A1,{contentName:$s,titleName:sm,docsSlug:"dialog"}),fL=({titleId:t})=>{const e=O1(A1),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},pL="DialogDescriptionWarning",mL=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${O1(pL).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},I1=w1,gL=b1,D1=S1,im=k1,am=E1,lm=T1,cm=N1,um=P1;const vL=I1,yL=D1,M1=h.forwardRef(({className:t,...e},r)=>u.jsx(im,{ref:r,className:K("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));M1.displayName=im.displayName;const L1=h.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(yL,{children:[u.jsx(M1,{}),u.jsxs(am,{ref:n,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,u.jsxs(um,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(Mr,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));L1.displayName=am.displayName;const $1=({className:t,...e})=>u.jsx("div",{className:K("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});$1.displayName="DialogHeader";const U1=h.forwardRef(({className:t,...e},r)=>u.jsx(lm,{ref:r,className:K("text-lg font-semibold leading-none tracking-tight",t),...e}));U1.displayName=lm.displayName;const F1=h.forwardRef(({className:t,...e},r)=>u.jsx(cm,{ref:r,className:K("text-sm text-muted-foreground",t),...e}));F1.displayName=cm.displayName;var z1="AlertDialog",[wL,R4]=Xt(z1,[y1]),un=y1(),B1=t=>{const{__scopeAlertDialog:e,...r}=t,n=un(e);return u.jsx(I1,{...n,...r,modal:!0})};B1.displayName=z1;var xL="AlertDialogTrigger",bL=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=un(r);return u.jsx(gL,{...s,...n,ref:e})});bL.displayName=xL;var _L="AlertDialogPortal",V1=t=>{const{__scopeAlertDialog:e,...r}=t,n=un(e);return u.jsx(D1,{...n,...r})};V1.displayName=_L;var SL="AlertDialogOverlay",W1=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=un(r);return u.jsx(im,{...s,...n,ref:e})});W1.displayName=SL;var Lo="AlertDialogContent",[kL,EL]=wL(Lo),CL=q0("AlertDialogContent"),H1=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,o=un(r),i=h.useRef(null),a=pe(e,i),l=h.useRef(null);return u.jsx(hL,{contentName:Lo,titleName:q1,docsSlug:"alert-dialog",children:u.jsx(kL,{scope:r,cancelRef:l,children:u.jsxs(am,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:V(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(CL,{children:n}),u.jsx(RL,{contentRef:i})]})})})});H1.displayName=Lo;var q1="AlertDialogTitle",K1=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=un(r);return u.jsx(lm,{...s,...n,ref:e})});K1.displayName=q1;var G1="AlertDialogDescription",Q1=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=un(r);return u.jsx(cm,{...s,...n,ref:e})});Q1.displayName=G1;var TL="AlertDialogAction",Y1=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=un(r);return u.jsx(um,{...s,...n,ref:e})});Y1.displayName=TL;var Z1="AlertDialogCancel",J1=h.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=EL(Z1,r),o=un(r),i=pe(e,s);return u.jsx(um,{...o,...n,ref:i})});J1.displayName=Z1;var RL=({contentRef:t})=>{const e=`\`${Lo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Lo}\` by passing a \`${G1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Lo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},NL=B1,jL=V1,X1=W1,eS=H1,tS=Y1,rS=J1,nS=K1,sS=Q1;const oS=NL,PL=jL,iS=h.forwardRef(({className:t,...e},r)=>u.jsx(X1,{className:K("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));iS.displayName=X1.displayName;const dm=h.forwardRef(({className:t,...e},r)=>u.jsxs(PL,{children:[u.jsx(iS,{}),u.jsx(eS,{ref:r,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));dm.displayName=eS.displayName;const hm=({className:t,...e})=>u.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",t),...e});hm.displayName="AlertDialogHeader";const fm=({className:t,...e})=>u.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});fm.displayName="AlertDialogFooter";const pm=h.forwardRef(({className:t,...e},r)=>u.jsx(nS,{ref:r,className:K("text-lg font-semibold",t),...e}));pm.displayName=nS.displayName;const mm=h.forwardRef(({className:t,...e},r)=>u.jsx(sS,{ref:r,className:K("text-sm text-muted-foreground",t),...e}));mm.displayName=sS.displayName;const gm=h.forwardRef(({className:t,...e},r)=>u.jsx(tS,{ref:r,className:K(Dp(),t),...e}));gm.displayName=tS.displayName;const aS=h.forwardRef(({className:t,...e},r)=>u.jsx(rS,{ref:r,className:K(Dp({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));aS.displayName=rS.displayName;var AL="Label",lS=h.forwardRef((t,e)=>u.jsx(te.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));lS.displayName=AL;var cS=lS;const OL=su("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ft=h.forwardRef(({className:t,...e},r)=>u.jsx(cS,{ref:r,className:K(OL(),t),...e}));ft.displayName=cS.displayName;function IL({currentImage:t,onImageChange:e,userId:r}){const[n,s]=h.useState(!1),[o,i]=h.useState(""),a=h.useRef(null);h.useEffect(()=>{let d=!1;return(async()=>{if(!t){i("");return}if(/^https?:\/\//i.test(t)){i(t);return}const{data:p,error:m}=await ie.storage.from("bills").createSignedUrl(t,60*30);if(!d){if(m){console.error("Signed URL error:",m),i("");return}i(p.signedUrl)}})(),()=>{d=!0}},[t]);const l=async d=>{var p;const f=(p=d.target.files)==null?void 0:p[0];if(f){if(!f.type.startsWith("image/")){oe.error("Ch h tr file nh");return}if(f.size>5*1024*1024){oe.error("File qu ln, ti a 5MB");return}s(!0);try{const m=f.name.split(".").pop(),b=`bill-${Date.now()}.${m}`,g=`${r}/${b}`,{error:x}=await ie.storage.from("bills").upload(g,f,{upsert:!0});if(x)throw x;e(g),oe.success("Ti bill thnh cng!")}catch(m){console.error("Upload error:",m),oe.error("Li ti nh ln")}finally{s(!1),a.current&&(a.current.value="")}}},c=()=>{e("")};return u.jsxs("div",{className:"space-y-2",children:[u.jsx(ft,{children:"Bill chuyn khon"}),u.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:l,className:"hidden"}),t?u.jsxs("div",{className:"relative inline-block",children:[u.jsx("img",{src:o||t,alt:"Bill",className:"w-full max-w-xs h-auto object-contain border rounded-lg bg-white"}),u.jsx("button",{onClick:c,className:"absolute -top-2 -right-2 w-6 h-6 bg-destructive text-destructive-foreground rounded-full flex items-center justify-center hover:bg-destructive/90 transition-colors",title:"Xa nh",children:u.jsx(Mr,{className:"w-3 h-3"})})]}):u.jsxs("div",{onClick:()=>{var d;return(d=a.current)==null?void 0:d.click()},className:"w-full max-w-xs h-32 border-2 border-dashed border-muted-foreground/30 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-primary/50 transition-colors bg-muted/20",children:[u.jsx(bx,{className:"w-8 h-8 text-muted-foreground mb-2"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Bm  ti bill"})]}),u.jsxs(ae,{type:"button",variant:"outline",size:"sm",onClick:()=>{var d;return(d=a.current)==null?void 0:d.click()},disabled:n,className:"gap-2",children:[n?u.jsx(vc,{className:"w-4 h-4 animate-spin"}):u.jsx(Ex,{className:"w-4 h-4"}),n?"ang ti...":"Ti nh t thit b"]})]})}function DL({open:t,onClose:e}){const{user:r}=Gs(),[n,s]=h.useState([]),[o,i]=h.useState(null),[a,l]=h.useState(null),[c,d]=h.useState("packages"),[f,p]=h.useState(!1),[m,b]=h.useState(""),[g,x]=h.useState(!1),[y,v]=h.useState(!1);h.useEffect(()=>{t&&(w(),_())},[t]);const w=async()=>{const{data:j,error:D}=await ie.from("payment_packages").select("*").eq("is_active",!0).order("price",{ascending:!0});!D&&j&&s(j)},_=async()=>{const{data:j,error:D}=await ie.from("app_settings").select("value").eq("key","payment_info").single();!D&&j&&i(j.value)},S=j=>{l(j),d("confirm")},E=()=>{d("upload")},C=async()=>{if(!(!r||!a)){if(!m){oe.error("Vui lng ti bill chuyn khon ln");return}p(!0);try{const{error:j}=await ie.from("payment_requests").insert({user_id:r.id,package_id:a.id,amount:a.price,questions_count:a.questions_count,status:"pending",bill_image_url:m});if(j)throw j;v(!0)}catch(j){console.error("Error creating payment request:",j),oe.error("C li xy ra, vui lng th li.")}finally{p(!1)}}},R=()=>{v(!1),N()},N=()=>{d("packages"),l(null),b(""),e()},P=()=>{c==="upload"?d("confirm"):c==="confirm"&&(d("packages"),l(null))},U=j=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j),I=(j,D)=>j==="daily"&&D?`${D} ngy`:j==="monthly"&&D?`${Math.round(D/30)} thng`:"Mt ln",q=async()=>{if(o!=null&&o.qr_image)try{const D=await(await fetch(o.qr_image)).blob(),L=window.URL.createObjectURL(D),W=document.createElement("a");W.href=L,W.download="qr-thanh-toan.png",document.body.appendChild(W),W.click(),document.body.removeChild(W),window.URL.revokeObjectURL(L)}catch(j){console.error("Download error:",j),window.open(o.qr_image,"_blank")}};return u.jsxs(u.Fragment,{children:[u.jsx(vL,{open:t,onOpenChange:j=>{if(!j){if(g){x(!1);return}N()}},children:u.jsxs(L1,{className:"max-w-lg max-h-[90vh] overflow-y-auto",onInteractOutside:j=>{g&&j.preventDefault()},onEscapeKeyDown:j=>{g&&j.preventDefault()},children:[u.jsxs($1,{children:[u.jsxs(U1,{className:"flex items-center gap-2",children:[u.jsx(pp,{className:"w-5 h-5"}),c==="packages"&&"Mua thm lt hi",c==="confirm"&&"Xc nhn thanh ton",c==="upload"&&"Ti bill chuyn khon"]}),u.jsxs(F1,{children:[c==="packages"&&"Chn gi ph hp vi nhu cu ca bn",c==="confirm"&&"Chuyn khon theo thng tin bn di",c==="upload"&&"Ti nh bill  admin xc nhn"]})]}),c==="packages"&&u.jsx("div",{className:"space-y-3 mt-4",children:n.length===0?u.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Cha c gi thanh ton no. Vui lng lin h admin."}):n.map(j=>u.jsx("div",{onClick:()=>S(j),className:"p-4 border rounded-lg cursor-pointer hover:border-primary hover:bg-primary/5 transition-all",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(_x,{className:"w-8 h-8 text-primary"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:j.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:j.description}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[j.questions_count," cu hi "," ",I(j.package_type,j.duration_days)]})]})]}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"font-bold text-primary",children:U(j.price)})})]})},j.id))}),c==="confirm"&&a&&u.jsxs("div",{className:"space-y-4 mt-4",children:[u.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[u.jsxs("h3",{className:"font-semibold mb-2",children:["Gi  chn: ",a.name]}),u.jsxs("p",{className:"text-sm",children:["S cu hi: ",a.questions_count]}),u.jsxs("p",{className:"text-sm font-bold text-primary",children:["S tin: ",U(a.price)]})]}),o&&(o.bank_name||o.qr_image)&&u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("h4",{className:"font-semibold mb-2",children:"Thng tin chuyn khon:"}),o.bank_name&&u.jsxs("p",{className:"text-sm",children:["Ngn hng: ",o.bank_name]}),o.account_number&&u.jsxs("p",{className:"text-sm",children:["S TK: ",o.account_number]}),o.account_name&&u.jsxs("p",{className:"text-sm",children:["Ch TK: ",o.account_name]}),o.qr_image&&u.jsxs("div",{className:"mt-3",children:[u.jsxs("div",{className:"relative inline-block",children:[u.jsx("img",{src:o.qr_image,alt:"QR Code",className:"w-48 h-48 mx-auto border rounded cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>x(!0)}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity bg-black/20 rounded",children:u.jsx(jh,{className:"w-8 h-8 text-white"})})]}),u.jsxs("div",{className:"flex justify-center gap-2 mt-2",children:[u.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>x(!0),className:"gap-1",children:[u.jsx(jh,{className:"w-4 h-4"}),"Xem ln"]}),u.jsxs(ae,{variant:"outline",size:"sm",onClick:q,className:"gap-1",children:[u.jsx(sR,{className:"w-4 h-4"}),"Ti v"]})]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(ae,{variant:"outline",className:"flex-1",onClick:P,children:[u.jsx(Mr,{className:"w-4 h-4 mr-1"}),"Quay li"]}),u.jsxs(ae,{className:"flex-1",onClick:E,children:[u.jsx(Ms,{className:"w-4 h-4 mr-1"})," chuyn khon"]})]})]}),c==="upload"&&a&&r&&u.jsxs("div",{className:"space-y-4 mt-4",children:[u.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[u.jsxs("h3",{className:"font-semibold mb-2",children:["Gi: ",a.name]}),u.jsxs("p",{className:"text-sm font-bold text-primary",children:["S tin: ",U(a.price)]})]}),u.jsx(IL,{currentImage:m,onImageChange:b,userId:r.id}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(ae,{variant:"outline",className:"flex-1",onClick:P,disabled:f,children:[u.jsx(Mr,{className:"w-4 h-4 mr-1"}),"Quay li"]}),u.jsxs(ae,{className:"flex-1",onClick:C,disabled:f||!m,children:[u.jsx(Ms,{className:"w-4 h-4 mr-1"}),f?"ang gi...":"Xc nhn gi"]})]})]})]})}),g&&(o==null?void 0:o.qr_image)&&u.jsx(Mp,{src:o.qr_image,alt:"QR Code thanh ton",onClose:()=>x(!1)}),u.jsx(oS,{open:y,onOpenChange:v,children:u.jsxs(dm,{className:"max-w-sm",children:[u.jsxs(hm,{children:[u.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:u.jsx(wx,{className:"w-8 h-8 text-primary"})}),u.jsx(pm,{className:"text-center",children:"Yu cu  c gi!"}),u.jsx(mm,{className:"text-center",children:"Vui lng ch admin xc nhn. Sau khi c duyt, s lt hi s c cng vo ti khon ca bn."})]}),u.jsx(fm,{className:"sm:justify-center",children:u.jsx(gm,{onClick:R,className:"min-w-[120px]",children:" hiu"})})]})})]})}function ML(){const[t,e]=h.useState(!1);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-destructive/10 border border-destructive/20 rounded-lg mx-4 my-2",children:[u.jsx(rR,{className:"w-12 h-12 text-destructive mb-3"}),u.jsx("h3",{className:"font-semibold text-lg text-destructive mb-2",children:"Bn  ht lt dng"}),u.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Mua thm lt hi  tip tc s dng"}),u.jsxs(ae,{onClick:()=>e(!0),className:"gap-2",children:[u.jsx(pp,{className:"w-4 h-4"}),"Thanh ton ngay"]})]}),u.jsx(DL,{open:t,onClose:()=>e(!1)})]})}function LL({open:t,onClose:e,onLogin:r}){return u.jsx(oS,{open:t,onOpenChange:n=>n?void 0:e(),children:u.jsxs(dm,{children:[u.jsxs(hm,{children:[u.jsx(pm,{children:"Vui lng ng nhp"}),u.jsx(mm,{children:"Bn cn ng nhp  gi cu hi v s dng lt hi ca ti khon."})]}),u.jsxs(fm,{children:[u.jsx(aS,{onClick:e,children:"T chi"}),u.jsx(gm,{onClick:r,children:"ng nhp"})]})]})})}const $L="https://mlxzfwfxhertxgscudbf.supabase.co/functions/v1/chat";function UL(){const{user:t,isAuthenticated:e}=Gs(),[r,n]=h.useState([]),[s,o]=h.useState(!1),[i,a]=h.useState(null),l=h.useRef(null),c=h.useCallback(async x=>{if(e)try{const{data:y,error:v}=await ie.from("chat_messages").select("*").eq("session_id",x).order("created_at",{ascending:!0});if(v)throw v;const w=(y||[]).map(_=>({id:_.id,role:_.role,content:_.content,images:_.images||[],timestamp:new Date(_.created_at)}));n(w),a(x)}catch(y){console.error("Error loading session:",y),oe.error("Khng th ti cuc tr chuyn")}},[e]),d=h.useCallback(async x=>{if(!t)return null;try{const y=x.slice(0,50)+(x.length>50?"...":""),{data:v,error:w}=await ie.from("chat_sessions").insert({user_id:t.id,title:y}).select().single();if(w)throw w;return v.id}catch(y){return console.error("Error creating session:",y),null}},[t]),f=h.useCallback(async(x,y)=>{if(t)try{await ie.from("chat_messages").insert({session_id:x,user_id:t.id,role:y.role,content:y.content,images:y.images||[]}),await ie.from("chat_sessions").update({updated_at:new Date().toISOString()}).eq("id",x)}catch(v){console.error("Error saving message:",v)}},[t]),p=h.useCallback(async(x,y,v="normal")=>{var N,P,U,I,q,j;const w={id:crypto.randomUUID(),role:"user",content:x,images:y,timestamp:new Date};n(D=>[...D,w]),o(!0);let _=i;e&&!_&&(_=await d(x),_&&a(_)),e&&_&&await f(_,w);const S=[...r,w].map(D=>{if(D.images&&D.images.length>0){const L=[{type:"text",text:D.content||"Phn tch nh ny"}];return D.images.forEach(W=>{L.push({type:"image_url",image_url:{url:W}})}),{role:D.role,content:L}}return{role:D.role,content:D.content}});let E="",C=crypto.randomUUID();const R=D=>{E+=D,n(L=>{const W=L[L.length-1];return(W==null?void 0:W.role)==="assistant"?L.map((k,T)=>T===L.length-1?{...k,content:E}:k):[...L,{id:C,role:"assistant",content:E,timestamp:new Date}]})};try{l.current=new AbortController;const D=await fetch($L,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1seHpmd2Z4aGVydHhnc2N1ZGJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3NzI4MzksImV4cCI6MjA4MzM0ODgzOX0.JbRwgbgIUV-gf8uTVXiiPJRiTIedpXygCceP6WivZt8"},body:JSON.stringify({messages:S,mode:v}),signal:l.current.signal});if(!D.ok){const T=await D.json().catch(()=>({}));throw new Error(T.error||`HTTP ${D.status}`)}if(!D.body)throw new Error("No response body");const L=D.body.getReader(),W=new TextDecoder;let k="";for(;;){const{done:T,value:A}=await L.read();if(T)break;k+=W.decode(A,{stream:!0});let z;for(;(z=k.indexOf(`
`))!==-1;){let M=k.slice(0,z);if(k=k.slice(z+1),M.endsWith("\r")&&(M=M.slice(0,-1)),M.startsWith(":")||M.trim()===""||!M.startsWith("data: "))continue;const J=M.slice(6).trim();if(J==="[DONE]")break;try{const se=(U=(P=(N=JSON.parse(J).choices)==null?void 0:N[0])==null?void 0:P.delta)==null?void 0:U.content;se&&R(se)}catch{k=M+`
`+k;break}}}if(k.trim())for(let T of k.split(`
`)){if(!T||(T.endsWith("\r")&&(T=T.slice(0,-1)),T.startsWith(":")||T.trim()==="")||!T.startsWith("data: "))continue;const A=T.slice(6).trim();if(A!=="[DONE]")try{const M=(j=(q=(I=JSON.parse(A).choices)==null?void 0:I[0])==null?void 0:q.delta)==null?void 0:j.content;M&&R(M)}catch{}}e&&_&&E&&await f(_,{id:C,role:"assistant",content:E,timestamp:new Date})}catch(D){console.error("Chat error:",D),oe.error(D instanceof Error?D.message:"C li xy ra"),E===""&&n(L=>L.filter(W=>W.id!==w.id))}finally{o(!1)}},[r,e,i,d,f]),m=h.useCallback(()=>{n([]),a(null)},[]),b=h.useCallback(()=>{l.current&&(l.current.abort(),l.current=null,o(!1))},[]),g=h.useCallback(x=>{x?c(x):m()},[c,m]);return{messages:r,isLoading:s,sendMessage:p,clearChat:m,currentSessionId:i,selectSession:g,refreshSessions:c,stopGeneration:b}}function uS(){const{user:t,isAuthenticated:e}=Gs(),[r,n]=h.useState(null),[s,o]=h.useState(!0),[i,a]=h.useState(!0),[l,c]=h.useState(!1),d=h.useCallback(async()=>{if(!t){n(null),o(!1);return}o(!0);try{const{data:b,error:g}=await ie.rpc("get_remaining_quota",{_user_id:t.id});if(g)throw g;n(b)}catch(b){console.error("Error fetching quota:",b),n(null)}finally{o(!1)}},[t]),f=h.useCallback(async()=>{if(!t){c(!1),a(!1);return}a(!0);try{const{data:b,error:g}=await ie.rpc("has_role",{_user_id:t.id,_role:"admin"});if(g)throw g;c(b===!0)}catch(b){console.error("Error checking admin:",b),c(!1)}finally{a(!1)}},[t]),p=h.useCallback(async()=>{if(!t)return!0;try{const{data:b,error:g}=await ie.rpc("check_and_use_quota",{_user_id:t.id});if(g)throw g;return await d(),b===!0}catch(b){return console.error("Error using quota:",b),!1}},[t,d]),m=h.useCallback(()=>e?r?r.remaining>0||r.bonus>0:!1:!0,[e,r]);return h.useEffect(()=>{e?(d(),f()):(n(null),c(!1),o(!1),a(!1))},[e,d,f]),{quota:r,loading:s||i,isAdmin:l,fetchQuota:d,useOneQuestion:p,canAsk:m}}function FL(){const{theme:t,setTheme:e}=FA();return u.jsxs(L_,{children:[u.jsx($_,{asChild:!0,children:u.jsxs(ae,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[u.jsx(Kg,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),u.jsx(Hg,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),u.jsxs(Kp,{align:"end",className:"bg-popover border border-border shadow-lg z-50",children:[u.jsxs(Rs,{onClick:()=>e("light"),className:t==="light"?"bg-accent":"",children:[u.jsx(Kg,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Sng"})]}),u.jsxs(Rs,{onClick:()=>e("dark"),className:t==="dark"?"bg-accent":"",children:[u.jsx(Hg,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Ti"})]}),u.jsxs(Rs,{onClick:()=>e("system"),className:t==="system"?"bg-accent":"",children:[u.jsx("span",{className:"mr-2",children:""}),u.jsx("span",{children:"H thng"})]})]})]})}function zL(){var q;const t=mu(),{messages:e,isLoading:r,sendMessage:n,clearChat:s,currentSessionId:o,selectSession:i,stopGeneration:a}=UL(),{user:l,isAuthenticated:c}=Gs(),{quota:d,isAdmin:f,canAsk:p,useOneQuestion:m,fetchQuota:b}=uS(),g=h.useRef(null),x=h.useRef(null),[y,v]=h.useState(!1),[w,_]=h.useState(!1),[S,E]=h.useState(!1);h.useEffect(()=>{var j;w||(j=g.current)==null||j.scrollIntoView({behavior:"smooth"})},[e,r,w]);const C=h.useCallback(()=>{if(!x.current)return;const{scrollTop:j,scrollHeight:D,clientHeight:L}=x.current,W=D-j-L<100;_(!W)},[]);h.useEffect(()=>{r||_(!1)},[r]);const R=e.length===0,N=h.useCallback(()=>{s()},[s]),P=h.useCallback(()=>{window.location.reload()},[]),U=h.useCallback(async()=>{if(c&&o)try{await ie.from("chat_messages").delete().eq("session_id",o),await ie.from("chat_sessions").delete().eq("id",o)}catch(j){console.error("Error deleting chat:",j)}s(),oe.success(" xa cuc tr chuyn")},[c,o,s]),I=h.useCallback(async(j,D,L)=>{if(!c){E(!0);return}await m()&&n(j,D,L)},[c,m,n]);return u.jsxs("div",{className:"flex h-screen bg-chat-bg",children:[u.jsx(oL,{currentSessionId:o,onSelectSession:i,onNewChat:N,isOpen:y,onToggle:()=>v(!y)}),u.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[u.jsxs("header",{className:"flex items-center justify-between px-4 py-3 bg-card border-b border-chat-border",children:[u.jsxs("div",{className:"flex items-center gap-3 ml-12 lg:ml-0",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center",children:u.jsx(kx,{className:"w-5 h-5 text-primary-foreground"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"font-semibold text-foreground",children:"Annd AI"}),u.jsxs("p",{className:"text-xs text-muted-foreground hidden sm:block",children:["Tr li siu nhanh  Phn tch nh",c&&d&&`  Cn ${d.remaining+d.bonus} lt`,!c&&"  ng nhp  lu lch s"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[c&&d?u.jsxs("div",{className:"flex items-center rounded-full bg-muted px-3 py-1 text-xs text-foreground",title:"S lt hi cn li",children:[u.jsx("span",{className:"text-muted-foreground mr-1",children:"Lt:"}),u.jsx("span",{className:"font-medium",children:d.remaining+d.bonus})]}):u.jsx("div",{className:"flex items-center rounded-full bg-muted px-3 py-1 text-xs text-muted-foreground",children:"Cha ng nhp"}),f&&u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>t("/admin"),className:"text-muted-foreground hover:text-primary",title:"Trang Admin",children:u.jsx(mR,{className:"w-4 h-4"})}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:P,className:"text-muted-foreground hover:text-foreground",title:"Ti li trang",children:u.jsx(dR,{className:"w-4 h-4"})}),u.jsx(FL,{}),e.length>0&&u.jsxs(ae,{variant:"ghost",size:"sm",onClick:U,className:"text-muted-foreground hover:text-destructive",children:[u.jsx(mp,{className:"w-4 h-4 sm:mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:"Xa chat"})]})]})]}),u.jsx("div",{ref:x,onScroll:C,className:"flex-1 overflow-y-auto scrollbar-thin px-4 py-6",children:u.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[R&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-16 animate-slide-up",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/10 flex items-center justify-center mb-6",children:u.jsx(hp,{className:"w-8 h-8 text-primary"})}),u.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-2",children:"Xin cho! "}),u.jsx("p",{className:"text-muted-foreground text-center max-w-md mb-8",children:"Ti l AI Chat siu nhanh. Hy hi ti bt c iu g hoc ti nh ln  phn tch!"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 w-full max-w-lg",children:["Gii thch Machine Learning n gin","Vit email xin ngh php","Tm tt ni dung mt bi bo","Phn tch nh sn phm"].map(j=>u.jsx("button",{onClick:()=>n(j),className:"text-left px-4 py-3 rounded-xl bg-card border border-chat-border hover:border-primary/50 hover:bg-primary/5 transition-all text-sm text-foreground",children:j},j))})]}),e.map(j=>u.jsx(HA,{message:j},j.id)),r&&((q=e[e.length-1])==null?void 0:q.role)==="user"&&u.jsx(hI,{}),u.jsx("div",{ref:g})]})}),c&&!p()&&u.jsx(ML,{}),u.jsx("div",{className:"px-4 pb-4 pt-2",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsx(dI,{onSend:I,isLoading:r,onStop:a,disabled:c&&!p()}),u.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Enter  gi  Shift+Enter xung dng  Ctrl+V dn nh  Ti a 12 nh"})]})}),u.jsx(LL,{open:S,onClose:()=>E(!1),onLogin:()=>{E(!1),t("/auth")}})]})]})}const BL=()=>u.jsx(zL,{});function VL(){try{const t=document.createElement("canvas"),e=t.getContext("2d");return e?(t.width=200,t.height=50,e.textBaseline="top",e.font="14px 'Arial'",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText("Fingerprint",2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText("Canvas",4,17),e.beginPath(),e.arc(50,25,20,0,Math.PI*2),e.stroke(),t.toDataURL()):"no-canvas"}catch{return"canvas-error"}}function WL(){try{const t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");if(!e)return"no-webgl";const r=e,n=r.getExtension("WEBGL_debug_renderer_info"),s=n?r.getParameter(n.UNMASKED_VENDOR_WEBGL):"unknown",o=n?r.getParameter(n.UNMASKED_RENDERER_WEBGL):"unknown";return`${s}|${o}`}catch{return"webgl-error"}}function HL(){return new Promise(t=>{try{const e=window.AudioContext||window.webkitAudioContext;if(!e){t("no-audio-context");return}const r=new e,n=r.createOscillator(),s=r.createAnalyser(),o=r.createGain(),i=r.createScriptProcessor(4096,1,1);o.gain.value=0,n.type="triangle",n.connect(s),s.connect(i),i.connect(o),o.connect(r.destination);let a="";i.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);let d=0;for(let f=0;f<c.length;f++)d+=Math.abs(c[f]);a=d.toString(),n.disconnect(),i.disconnect(),o.disconnect(),r.close(),t(a||"audio-processed")},n.start(0),setTimeout(()=>{a||t("audio-timeout")},1e3)}catch{t("audio-error")}})}function qL(){return`${screen.width}x${screen.height}x${screen.colorDepth}|${screen.availWidth}x${screen.availHeight}`}function KL(){const t=["Arial","Helvetica","Times New Roman","Georgia","Verdana","Courier New","Comic Sans MS","Impact","Trebuchet MS","Lucida Console"],r=document.createElement("canvas").getContext("2d");if(!r)return"no-fonts";const n=["monospace","sans-serif","serif"],s="mmmmmmmmmmlli",o="72px",i=c=>(r.font=`${o} ${c}`,r.measureText(s).width),a=n.map(i),l=[];return t.forEach((c,d)=>{i(`'${c}', ${n[d%3]}`)!==a[d%3]&&l.push(c)}),l.join(",")}function GL(){const t=[];for(let e=0;e<navigator.plugins.length;e++)t.push(navigator.plugins[e].name);return t.join(",")}function dS(){const t=[];navigator.webdriver&&t.push("webdriver"),["_phantom","__nightmare","_selenium","callPhantom","callSelenium","_Selenium_IDE_Recorder"].forEach(o=>{window[o]&&t.push(o)}),!window.chrome&&navigator.userAgent.includes("Chrome")&&t.push("fake-chrome"),navigator.plugins.length===0&&t.push("no-plugins");const n=document.createElement("canvas").getContext("webgl");if(n){const o=n.getExtension("WEBGL_debug_renderer_info");if(o){const i=n.getParameter(o.UNMASKED_RENDERER_WEBGL);(i.includes("SwiftShader")||i.includes("llvmpipe"))&&t.push("software-renderer")}}const s=/./;return s.toString=function(){return t.push("devtools-open"),""},{isBot:t.length>1,reasons:t}}async function QL(t){const e=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(r)).map(s=>s.toString(16).padStart(2,"0")).join("")}async function YL(){const t=await HL(),e=dS(),r={canvas:VL(),webgl:WL(),audio:t,screen:qL(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,platform:navigator.platform,hardwareConcurrency:navigator.hardwareConcurrency||0,deviceMemory:navigator.deviceMemory,userAgent:navigator.userAgent,colorDepth:screen.colorDepth,pixelRatio:window.devicePixelRatio,touchSupport:"ontouchstart"in window,cookiesEnabled:navigator.cookieEnabled,doNotTrack:navigator.doNotTrack,plugins:GL(),fonts:KL()},n=JSON.stringify({canvas:r.canvas.substring(0,100),webgl:r.webgl,screen:r.screen,timezone:r.timezone,language:r.language,platform:r.platform,hardwareConcurrency:r.hardwareConcurrency,deviceMemory:r.deviceMemory,colorDepth:r.colorDepth,pixelRatio:r.pixelRatio,touchSupport:r.touchSupport,plugins:r.plugins,fonts:r.fonts});return{hash:await QL(n),components:r,metadata:{generatedAt:new Date().toISOString(),automationDetected:e.isBot,automationReasons:e.reasons}}}class ZL{constructor(){wi(this,"keystrokes",[]);wi(this,"lastKeystroke",0);wi(this,"formFocusTime",0);wi(this,"mouseMovements",0)}start(){this.formFocusTime=Date.now();const e=()=>{const n=Date.now();this.lastKeystroke>0&&this.keystrokes.push(n-this.lastKeystroke),this.lastKeystroke=n},r=()=>{this.mouseMovements++};return document.addEventListener("keydown",e),document.addEventListener("mousemove",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("mousemove",r)}}getScore(){let e=0;const r=Date.now()-this.formFocusTime;if(r<2e3?e-=30:r>5e3&&(e+=10),this.keystrokes.length>3){const n=this.keystrokes.reduce((o,i)=>o+i,0)/this.keystrokes.length,s=this.keystrokes.reduce((o,i)=>o+Math.pow(i-n,2),0)/this.keystrokes.length;s<100?e-=20:s>1e3&&(e+=10)}return this.mouseMovements===0?e-=20:this.mouseMovements>10&&(e+=10),Math.max(-100,Math.min(100,e))}}function JL(){const[t,e]=h.useState({isBlocked:!1,blockReason:null,blockExpiresAt:null,isPermanentBlock:!1,attemptsRemaining:5,isLoading:!0,fingerprintHash:null,isAutomationDetected:!1}),r=h.useRef(null),n=h.useRef(null);h.useEffect(()=>{(async()=>{try{const p=await YL();e(g=>({...g,fingerprintHash:p.hash,isAutomationDetected:p.metadata.automationDetected}));const{data:m,error:b}=await ie.rpc("check_device_blocked",{p_fingerprint_hash:p.hash});if(!b&&m){const g=m;e(x=>({...x,isBlocked:g.blocked,blockReason:g.reason||null,blockExpiresAt:g.expires_at?new Date(g.expires_at):null,isPermanentBlock:g.permanent||!1,isLoading:!1}))}else e(g=>({...g,isLoading:!1}))}catch(p){console.error("Device security initialization error:",p),e(m=>({...m,isLoading:!1}))}})()},[]);const s=h.useCallback(()=>{r.current||(r.current=new ZL,n.current=r.current.start())},[]),o=h.useCallback(()=>{n.current&&(n.current(),n.current=null)},[]),i=h.useCallback(()=>{var f;return((f=r.current)==null?void 0:f.getScore())||0},[]),a=h.useCallback(async()=>{if(!t.fingerprintHash)return{canProceed:!1,error:"Khng th xc nh thit b"};if(t.isBlocked)return{canProceed:!1,error:t.isPermanentBlock?"Thit b  b kha vnh vin":`Thit b b kha. Th li sau ${oy(t.blockExpiresAt)}`};if(dS().isBot)return{canProceed:!1,error:"Pht hin hot ng t ng"};const{data:p,error:m}=await ie.rpc("get_device_account_count",{p_fingerprint_hash:t.fingerprintHash});return m?(console.error("Check account count error:",m),{canProceed:!0}):p>=3?{canProceed:!1,error:" t gii hn 3 ti khon trn thit b ny"}:{canProceed:!0}},[t.fingerprintHash,t.isBlocked,t.isPermanentBlock,t.blockExpiresAt]),l=h.useCallback(async(f,p,m)=>{if(!t.fingerprintHash)return{canProceed:!1,error:"Khng th xc nh thit b"};const b=i();try{const{data:g,error:x}=await ie.rpc("record_login_attempt",{p_fingerprint_hash:t.fingerprintHash,p_email:f,p_ip_address:null,p_user_agent:navigator.userAgent,p_success:p,p_failure_reason:m||null,p_behavior_score:b});if(x)throw x;const y=g;return y.blocked?(e(v=>({...v,isBlocked:!0,blockReason:y.reason||null,blockExpiresAt:y.expires_at?new Date(y.expires_at):null,isPermanentBlock:y.permanent||!1})),{canProceed:!1,error:y.permanent?"Thit b  b kha vnh vin do ng nhp sai qu nhiu ln":`Thit b b kha. Th li sau ${oy(y.expires_at?new Date(y.expires_at):null)}`}):(y.attempts_remaining!==void 0&&e(v=>({...v,attemptsRemaining:y.attempts_remaining})),{canProceed:!0,attemptsRemaining:y.attempts_remaining})}catch(g){return console.error("Record login attempt error:",g),{canProceed:!0}}},[t.fingerprintHash,i]),c=h.useCallback(async()=>{if(!t.fingerprintHash)return!1;try{const{data:f,error:p}=await ie.rpc("register_device_account",{p_fingerprint_hash:t.fingerprintHash,p_metadata:{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language}});if(p)throw p;return f.success}catch(f){return console.error("Register device account error:",f),!1}},[t.fingerprintHash]),d=h.useCallback(async f=>{if(t.fingerprintHash)try{await ie.rpc("link_user_device",{p_user_id:f,p_fingerprint_hash:t.fingerprintHash,p_ip_address:null,p_user_agent:navigator.userAgent})}catch(p){console.error("Link user device error:",p)}},[t.fingerprintHash]);return{...t,startBehaviorTracking:s,stopBehaviorTracking:o,getBehaviorScore:i,checkRegistrationAllowed:a,recordLoginAttempt:l,registerDeviceAccount:c,linkUserToDevice:d}}function oy(t){if(!t)return"";const e=new Date,r=t.getTime()-e.getTime();if(r<=0)return"vi giy";const n=Math.floor(r/6e4),s=Math.floor(n/60);return s>0?`${s} gi ${n%60} pht`:`${n} pht`}const kt=h.forwardRef(({className:t,type:e,...r},n)=>u.jsx("input",{type:e,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));kt.displayName="Input";var Ee;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const o={};for(const i of s)o[i]=i;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),i={};for(const a of o)i[a]=s[a];return t.objectValues(i)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&o.push(i);return o},t.find=(s,o)=>{for(const i of s)if(o(i))return i},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Ee||(Ee={}));var iy;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(iy||(iy={}));const Y=Ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Sn=t=>{switch(typeof t){case"undefined":return Y.undefined;case"string":return Y.string;case"number":return Number.isNaN(t)?Y.nan:Y.number;case"boolean":return Y.boolean;case"function":return Y.function;case"bigint":return Y.bigint;case"symbol":return Y.symbol;case"object":return Array.isArray(t)?Y.array:t===null?Y.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Y.promise:typeof Map<"u"&&t instanceof Map?Y.map:typeof Set<"u"&&t instanceof Set?Y.set:typeof Date<"u"&&t instanceof Date?Y.date:Y.object;default:return Y.unknown}},F=Ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class an extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(o){return o.message},n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let a=n,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(i))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),n}static assert(e){if(!(e instanceof an))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const o=s.path[0];r[o]=r[o]||[],r[o].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}an.create=t=>new an(t);const rf=(t,e)=>{let r;switch(t.code){case F.invalid_type:t.received===Y.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case F.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ee.jsonStringifyReplacer)}`;break;case F.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ee.joinValues(t.keys,", ")}`;break;case F.invalid_union:r="Invalid input";break;case F.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ee.joinValues(t.options)}`;break;case F.invalid_enum_value:r=`Invalid enum value. Expected ${Ee.joinValues(t.options)}, received '${t.received}'`;break;case F.invalid_arguments:r="Invalid function arguments";break;case F.invalid_return_type:r="Invalid function return type";break;case F.invalid_date:r="Invalid date";break;case F.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ee.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case F.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case F.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case F.custom:r="Invalid input";break;case F.invalid_intersection_types:r="Intersection results could not be merged";break;case F.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case F.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ee.assertNever(t)}return{message:r}};let XL=rf;function e$(){return XL}const t$=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,o=[...r,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(i,{data:e,defaultError:a}).message;return{...s,path:o,message:a}};function G(t,e){const r=e$(),n=t$({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===rf?void 0:rf].filter(s=>!!s)});t.common.issues.push(n)}class Ft{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return le;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const o=await s.key,i=await s.value;n.push({key:o,value:i})}return Ft.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return le;o.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[o.value]=i.value)}return{status:e.value,value:n}}}const le=Object.freeze({status:"aborted"}),Li=t=>({status:"dirty",value:t}),tr=t=>({status:"valid",value:t}),ay=t=>t.status==="aborted",ly=t=>t.status==="dirty",ri=t=>t.status==="valid",Ac=t=>typeof Promise<"u"&&t instanceof Promise;var Z;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Z||(Z={}));class Qn{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cy=(t,e)=>{if(ri(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new an(t.common.issues);return this._error=r,this._error}}};function me(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,a)=>{const{message:l}=t;return i.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??n??a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:l??r??a.defaultError}},description:s}}class xe{get description(){return this._def.description}_getType(e){return Sn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Sn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ft,ctx:{common:e.parent.common,data:e.data,parsedType:Sn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ac(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sn(e)},s=this._parseSync({data:e,path:n.path,parent:n});return cy(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sn(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:r});return ri(o)?{value:o.value}:{issues:r.common.issues}}catch(o){(s=(n=o==null?void 0:o.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(o=>ri(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sn(e)},s=this._parse({data:e,path:n.path,parent:n}),o=await(Ac(s)?s:Promise.resolve(s));return cy(n,o)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const i=e(s),a=()=>o.addIssue({code:F.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new si({schema:this,typeName:ce.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Wn.create(this,this._def)}nullable(){return oi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dr.create(this)}promise(){return Mc.create(this,this._def)}or(e){return Ic.create([this,e],this._def)}and(e){return Dc.create(this,e,this._def)}transform(e){return new si({...me(this._def),schema:this,typeName:ce.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new sf({...me(this._def),innerType:this,defaultValue:r,typeName:ce.ZodDefault})}brand(){return new k$({typeName:ce.ZodBranded,type:this,...me(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new of({...me(this._def),innerType:this,catchValue:r,typeName:ce.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return vm.create(this,e)}readonly(){return af.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const r$=/^c[^\s-]{8,}$/i,n$=/^[0-9a-z]+$/,s$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,o$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,i$=/^[a-z0-9_-]{21}$/i,a$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,l$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,c$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,u$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ad;const d$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,h$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,f$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,p$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,m$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,g$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",v$=new RegExp(`^${hS}$`);function fS(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function y$(t){return new RegExp(`^${fS(t)}$`)}function w$(t){let e=`${hS}T${fS(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function x$(t,e){return!!((e==="v4"||!e)&&d$.test(t)||(e==="v6"||!e)&&f$.test(t))}function b$(t,e){if(!a$.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function _$(t,e){return!!((e==="v4"||!e)&&h$.test(t)||(e==="v6"||!e)&&p$.test(t))}class Dn extends xe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Y.string){const o=this._getOrReturnCtx(e);return G(o,{code:F.invalid_type,expected:Y.string,received:o.parsedType}),le}const n=new Ft;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:F.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:F.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const i=e.data.length>o.value,a=e.data.length<o.value;(i||a)&&(s=this._getOrReturnCtx(e,s),i?G(s,{code:F.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&G(s,{code:F.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")c$.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"email",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Ad||(Ad=new RegExp(u$,"u")),Ad.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"emoji",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")o$.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"uuid",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")i$.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"nanoid",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")r$.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cuid",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")n$.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cuid2",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")s$.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"ulid",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),G(s,{validation:"url",code:F.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"regex",code:F.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),G(s,{code:F.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),G(s,{code:F.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),G(s,{code:F.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?w$(o).test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:F.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?v$.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:F.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?y$(o).test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:F.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?l$.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"duration",code:F.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?x$(e.data,o.version)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"ip",code:F.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?b$(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"jwt",code:F.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?_$(e.data,o.version)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cidr",code:F.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?m$.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"base64",code:F.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?g$.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"base64url",code:F.invalid_string,message:o.message}),n.dirty()):Ee.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:F.invalid_string,...Z.errToObj(n)})}_addCheck(e){return new Dn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Z.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Z.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Z.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Z.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Z.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Z.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Z.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Z.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Z.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Z.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Z.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Z.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Z.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Z.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Z.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Z.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Z.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Z.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Z.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Z.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Z.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Z.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Z.errToObj(r)})}nonempty(e){return this.min(1,Z.errToObj(e))}trim(){return new Dn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Dn.create=t=>new Dn({checks:[],typeName:ce.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...me(t)});function S$(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,o=Number.parseInt(t.toFixed(s).replace(".","")),i=Number.parseInt(e.toFixed(s).replace(".",""));return o%i/10**s}class ja extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Y.number){const o=this._getOrReturnCtx(e);return G(o,{code:F.invalid_type,expected:Y.number,received:o.parsedType}),le}let n;const s=new Ft;for(const o of this._def.checks)o.kind==="int"?Ee.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{code:F.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:F.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:F.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?S$(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),G(n,{code:F.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{code:F.not_finite,message:o.message}),s.dirty()):Ee.assertNever(o);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Z.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Z.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Z.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Z.toString(r))}setLimit(e,r,n,s){return new ja({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Z.toString(s)}]})}_addCheck(e){return new ja({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Z.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Z.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Z.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Z.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Z.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Z.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ee.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ja.create=t=>new ja({checks:[],typeName:ce.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...me(t)});class Pa extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Y.bigint)return this._getInvalidInput(e);let n;const s=new Ft;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:F.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:F.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),G(n,{code:F.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Ee.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return G(r,{code:F.invalid_type,expected:Y.bigint,received:r.parsedType}),le}gte(e,r){return this.setLimit("min",e,!0,Z.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Z.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Z.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Z.toString(r))}setLimit(e,r,n,s){return new Pa({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Z.toString(s)}]})}_addCheck(e){return new Pa({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Z.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Z.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Pa.create=t=>new Pa({checks:[],typeName:ce.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...me(t)});class uy extends xe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Y.boolean){const n=this._getOrReturnCtx(e);return G(n,{code:F.invalid_type,expected:Y.boolean,received:n.parsedType}),le}return tr(e.data)}}uy.create=t=>new uy({typeName:ce.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...me(t)});class Oc extends xe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Y.date){const o=this._getOrReturnCtx(e);return G(o,{code:F.invalid_type,expected:Y.date,received:o.parsedType}),le}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return G(o,{code:F.invalid_date}),le}const n=new Ft;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:F.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:F.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Ee.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Oc({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Z.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Z.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Oc.create=t=>new Oc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ce.ZodDate,...me(t)});class dy extends xe{_parse(e){if(this._getType(e)!==Y.symbol){const n=this._getOrReturnCtx(e);return G(n,{code:F.invalid_type,expected:Y.symbol,received:n.parsedType}),le}return tr(e.data)}}dy.create=t=>new dy({typeName:ce.ZodSymbol,...me(t)});class hy extends xe{_parse(e){if(this._getType(e)!==Y.undefined){const n=this._getOrReturnCtx(e);return G(n,{code:F.invalid_type,expected:Y.undefined,received:n.parsedType}),le}return tr(e.data)}}hy.create=t=>new hy({typeName:ce.ZodUndefined,...me(t)});class fy extends xe{_parse(e){if(this._getType(e)!==Y.null){const n=this._getOrReturnCtx(e);return G(n,{code:F.invalid_type,expected:Y.null,received:n.parsedType}),le}return tr(e.data)}}fy.create=t=>new fy({typeName:ce.ZodNull,...me(t)});class py extends xe{constructor(){super(...arguments),this._any=!0}_parse(e){return tr(e.data)}}py.create=t=>new py({typeName:ce.ZodAny,...me(t)});class my extends xe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tr(e.data)}}my.create=t=>new my({typeName:ce.ZodUnknown,...me(t)});class Yn extends xe{_parse(e){const r=this._getOrReturnCtx(e);return G(r,{code:F.invalid_type,expected:Y.never,received:r.parsedType}),le}}Yn.create=t=>new Yn({typeName:ce.ZodNever,...me(t)});class gy extends xe{_parse(e){if(this._getType(e)!==Y.undefined){const n=this._getOrReturnCtx(e);return G(n,{code:F.invalid_type,expected:Y.void,received:n.parsedType}),le}return tr(e.data)}}gy.create=t=>new gy({typeName:ce.ZodVoid,...me(t)});class Dr extends xe{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==Y.array)return G(r,{code:F.invalid_type,expected:Y.array,received:r.parsedType}),le;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(i||a)&&(G(r,{code:i?F.too_big:F.too_small,minimum:a?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(G(r,{code:F.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(G(r,{code:F.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,a)=>s.type._parseAsync(new Qn(r,i,r.path,a)))).then(i=>Ft.mergeArray(n,i));const o=[...r.data].map((i,a)=>s.type._parseSync(new Qn(r,i,r.path,a)));return Ft.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new Dr({...this._def,minLength:{value:e,message:Z.toString(r)}})}max(e,r){return new Dr({...this._def,maxLength:{value:e,message:Z.toString(r)}})}length(e,r){return new Dr({...this._def,exactLength:{value:e,message:Z.toString(r)}})}nonempty(e){return this.min(1,e)}}Dr.create=(t,e)=>new Dr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ce.ZodArray,...me(e)});function fo(t){if(t instanceof Be){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Wn.create(fo(n))}return new Be({...t._def,shape:()=>e})}else return t instanceof Dr?new Dr({...t._def,type:fo(t.element)}):t instanceof Wn?Wn.create(fo(t.unwrap())):t instanceof oi?oi.create(fo(t.unwrap())):t instanceof Us?Us.create(t.items.map(e=>fo(e))):t}class Be extends xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ee.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Y.object){const c=this._getOrReturnCtx(e);return G(c,{code:F.invalid_type,expected:Y.object,received:c.parsedType}),le}const{status:n,ctx:s}=this._processInputParams(e),{shape:o,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Yn&&this._def.unknownKeys==="strip"))for(const c in s.data)i.includes(c)||a.push(c);const l=[];for(const c of i){const d=o[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new Qn(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Yn){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")a.length>0&&(G(s,{code:F.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const f=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new Qn(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,p=await d.value;c.push({key:f,value:p,alwaysSet:d.alwaysSet})}return c}).then(c=>Ft.mergeObjectSync(n,c)):Ft.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Z.errToObj,new Be({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var o,i;const s=((i=(o=this._def).errorMap)==null?void 0:i.call(o,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Z.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Be({...this._def,unknownKeys:"strip"})}passthrough(){return new Be({...this._def,unknownKeys:"passthrough"})}extend(e){return new Be({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Be({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ce.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Be({...this._def,catchall:e})}pick(e){const r={};for(const n of Ee.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Be({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Ee.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Be({...this._def,shape:()=>r})}deepPartial(){return fo(this)}partial(e){const r={};for(const n of Ee.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Be({...this._def,shape:()=>r})}required(e){const r={};for(const n of Ee.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Wn;)o=o._def.innerType;r[n]=o}return new Be({...this._def,shape:()=>r})}keyof(){return pS(Ee.objectKeys(this.shape))}}Be.create=(t,e)=>new Be({shape:()=>t,unknownKeys:"strip",catchall:Yn.create(),typeName:ce.ZodObject,...me(e)});Be.strictCreate=(t,e)=>new Be({shape:()=>t,unknownKeys:"strict",catchall:Yn.create(),typeName:ce.ZodObject,...me(e)});Be.lazycreate=(t,e)=>new Be({shape:t,unknownKeys:"strip",catchall:Yn.create(),typeName:ce.ZodObject,...me(e)});class Ic extends xe{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const i=o.map(a=>new an(a.ctx.common.issues));return G(r,{code:F.invalid_union,unionErrors:i}),le}if(r.common.async)return Promise.all(n.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let o;const i=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(l=>new an(l));return G(r,{code:F.invalid_union,unionErrors:a}),le}}get options(){return this._def.options}}Ic.create=(t,e)=>new Ic({options:t,typeName:ce.ZodUnion,...me(e)});function nf(t,e){const r=Sn(t),n=Sn(e);if(t===e)return{valid:!0,data:t};if(r===Y.object&&n===Y.object){const s=Ee.objectKeys(e),o=Ee.objectKeys(t).filter(a=>s.indexOf(a)!==-1),i={...t,...e};for(const a of o){const l=nf(t[a],e[a]);if(!l.valid)return{valid:!1};i[a]=l.data}return{valid:!0,data:i}}else if(r===Y.array&&n===Y.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const i=t[o],a=e[o],l=nf(i,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===Y.date&&n===Y.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Dc extends xe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(o,i)=>{if(ay(o)||ay(i))return le;const a=nf(o.value,i.value);return a.valid?((ly(o)||ly(i))&&r.dirty(),{status:r.value,value:a.data}):(G(n,{code:F.invalid_intersection_types}),le)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Dc.create=(t,e,r)=>new Dc({left:t,right:e,typeName:ce.ZodIntersection,...me(r)});class Us extends xe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.array)return G(n,{code:F.invalid_type,expected:Y.array,received:n.parsedType}),le;if(n.data.length<this._def.items.length)return G(n,{code:F.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),le;!this._def.rest&&n.data.length>this._def.items.length&&(G(n,{code:F.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((i,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Qn(n,i,n.path,a)):null}).filter(i=>!!i);return n.common.async?Promise.all(o).then(i=>Ft.mergeArray(r,i)):Ft.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new Us({...this._def,rest:e})}}Us.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Us({items:t,typeName:ce.ZodTuple,rest:null,...me(e)})};class vy extends xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.map)return G(n,{code:F.invalid_type,expected:Y.map,received:n.parsedType}),le;const s=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([a,l],c)=>({key:s._parse(new Qn(n,a,n.path,[c,"key"])),value:o._parse(new Qn(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of i){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return le;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of i){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return le;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}}}}vy.create=(t,e,r)=>new vy({valueType:e,keyType:t,typeName:ce.ZodMap,...me(r)});class Aa extends xe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.set)return G(n,{code:F.invalid_type,expected:Y.set,received:n.parsedType}),le;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(G(n,{code:F.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(G(n,{code:F.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function i(l){const c=new Set;for(const d of l){if(d.status==="aborted")return le;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>o._parse(new Qn(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>i(l)):i(a)}min(e,r){return new Aa({...this._def,minSize:{value:e,message:Z.toString(r)}})}max(e,r){return new Aa({...this._def,maxSize:{value:e,message:Z.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Aa.create=(t,e)=>new Aa({valueType:t,minSize:null,maxSize:null,typeName:ce.ZodSet,...me(e)});class yy extends xe{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}yy.create=(t,e)=>new yy({getter:t,typeName:ce.ZodLazy,...me(e)});class wy extends xe{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return G(r,{received:r.data,code:F.invalid_literal,expected:this._def.value}),le}return{status:"valid",value:e.data}}get value(){return this._def.value}}wy.create=(t,e)=>new wy({value:t,typeName:ce.ZodLiteral,...me(e)});function pS(t,e){return new ni({values:t,typeName:ce.ZodEnum,...me(e)})}class ni extends xe{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return G(r,{expected:Ee.joinValues(n),received:r.parsedType,code:F.invalid_type}),le}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return G(r,{received:r.data,code:F.invalid_enum_value,options:n}),le}return tr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ni.create(e,{...this._def,...r})}exclude(e,r=this._def){return ni.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}ni.create=pS;class xy extends xe{_parse(e){const r=Ee.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Y.string&&n.parsedType!==Y.number){const s=Ee.objectValues(r);return G(n,{expected:Ee.joinValues(s),received:n.parsedType,code:F.invalid_type}),le}if(this._cache||(this._cache=new Set(Ee.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ee.objectValues(r);return G(n,{received:n.data,code:F.invalid_enum_value,options:s}),le}return tr(e.data)}get enum(){return this._def.values}}xy.create=(t,e)=>new xy({values:t,typeName:ce.ZodNativeEnum,...me(e)});class Mc extends xe{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Y.promise&&r.common.async===!1)return G(r,{code:F.invalid_type,expected:Y.promise,received:r.parsedType}),le;const n=r.parsedType===Y.promise?r.data:Promise.resolve(r.data);return tr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Mc.create=(t,e)=>new Mc({type:t,typeName:ce.ZodPromise,...me(e)});class si extends xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:i=>{G(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const i=s.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async a=>{if(r.value==="aborted")return le;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?le:l.status==="dirty"||r.value==="dirty"?Li(l.value):l});{if(r.value==="aborted")return le;const a=this._def.schema._parseSync({data:i,path:n.path,parent:n});return a.status==="aborted"?le:a.status==="dirty"||r.value==="dirty"?Li(a.value):a}}if(s.type==="refinement"){const i=a=>{const l=s.refinement(a,o);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?le:(a.status==="dirty"&&r.dirty(),i(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?le:(a.status==="dirty"&&r.dirty(),i(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ri(i))return le;const a=s.transform(i.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>ri(i)?Promise.resolve(s.transform(i.value,o)).then(a=>({status:r.value,value:a})):le);Ee.assertNever(s)}}si.create=(t,e,r)=>new si({schema:t,typeName:ce.ZodEffects,effect:e,...me(r)});si.createWithPreprocess=(t,e,r)=>new si({schema:e,effect:{type:"preprocess",transform:t},typeName:ce.ZodEffects,...me(r)});class Wn extends xe{_parse(e){return this._getType(e)===Y.undefined?tr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wn.create=(t,e)=>new Wn({innerType:t,typeName:ce.ZodOptional,...me(e)});class oi extends xe{_parse(e){return this._getType(e)===Y.null?tr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oi.create=(t,e)=>new oi({innerType:t,typeName:ce.ZodNullable,...me(e)});class sf extends xe{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Y.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}sf.create=(t,e)=>new sf({innerType:t,typeName:ce.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...me(e)});class of extends xe{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ac(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new an(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new an(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}of.create=(t,e)=>new of({innerType:t,typeName:ce.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...me(e)});class by extends xe{_parse(e){if(this._getType(e)!==Y.nan){const n=this._getOrReturnCtx(e);return G(n,{code:F.invalid_type,expected:Y.nan,received:n.parsedType}),le}return{status:"valid",value:e.data}}}by.create=t=>new by({typeName:ce.ZodNaN,...me(t)});class k$ extends xe{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class vm extends xe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?le:o.status==="dirty"?(r.dirty(),Li(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?le:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new vm({in:e,out:r,typeName:ce.ZodPipeline})}}class af extends xe{_parse(e){const r=this._def.innerType._parse(e),n=s=>(ri(s)&&(s.value=Object.freeze(s.value)),s);return Ac(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}af.create=(t,e)=>new af({innerType:t,typeName:ce.ZodReadonly,...me(e)});Be.lazycreate;var ce;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ce||(ce={}));const mS=Dn.create;Yn.create;Dr.create;Be.create;Be.strictCreate;Ic.create;Dc.create;Us.create;ni.create;Mc.create;Wn.create;oi.create;const E$=su("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),gS=h.forwardRef(({className:t,variant:e,...r},n)=>u.jsx("div",{ref:n,role:"alert",className:K(E$({variant:e}),t),...r}));gS.displayName="Alert";const vS=h.forwardRef(({className:t,...e},r)=>u.jsx("h5",{ref:r,className:K("mb-1 font-medium leading-none tracking-tight",t),...e}));vS.displayName="AlertTitle";const yS=h.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:K("text-sm [&_p]:leading-relaxed",t),...e}));yS.displayName="AlertDescription";const C$=mS().email("Email khng hp l"),T$=mS().min(6,"Mt khu ti thiu 6 k t");function R$(){const t=mu(),{signIn:e,signUp:r,isAuthenticated:n,loading:s}=Gs(),{isBlocked:o,blockReason:i,blockExpiresAt:a,isPermanentBlock:l,attemptsRemaining:c,isLoading:d,isAutomationDetected:f,startBehaviorTracking:p,stopBehaviorTracking:m,checkRegistrationAllowed:b,recordLoginAttempt:g,registerDeviceAccount:x,linkUserToDevice:y}=JL(),[v,w]=h.useState(!0),[_,S]=h.useState(""),[E,C]=h.useState(""),[R,N]=h.useState(""),[P,U]=h.useState(!1),[I,q]=h.useState({}),[j,D]=h.useState(null),[L,W]=h.useState("");h.useEffect(()=>(p(),()=>m()),[p,m]),h.useEffect(()=>{if(!o||l||!a){W("");return}const A=()=>{const M=new Date,J=a.getTime()-M.getTime();if(J<=0){W(""),window.location.reload();return}const ee=Math.floor(J/6e4),se=Math.floor(J%6e4/1e3);W(`${ee}:${se.toString().padStart(2,"0")}`)};A();const z=setInterval(A,1e3);return()=>clearInterval(z)},[o,l,a]),h.useEffect(()=>{n&&!s&&t("/")},[n,s,t]);const k=()=>{const A={},z=C$.safeParse(_);z.success||(A.email=z.error.errors[0].message);const M=T$.safeParse(E);return M.success||(A.password=M.error.errors[0].message),!v&&E!==R&&(A.confirmPassword="Mt khu khng khp"),q(A),Object.keys(A).length===0},T=async A=>{if(A.preventDefault(),D(null),!!k()){if(o){D(l?"Thit b  b kha vnh vin do vi phm bo mt":"Thit b tm thi b kha. Vui lng th li sau.");return}if(f){D("Pht hin hot ng bt thng. Vui lng th li sau.");return}U(!0);try{if(v){const{error:z}=await e(_,E);if(z){const M=await g(_,!1,"invalid_credentials");M.canProceed?(oe.error("Thng tin ng nhp khng hp l"),M.attemptsRemaining!==void 0&&M.attemptsRemaining<=3&&D(`Cn ${M.attemptsRemaining} ln th trc khi b kha`)):D(M.error||"Thit b  b kha")}else await g(_,!0),oe.success("ng nhp thnh cng"),t("/")}else{const z=await b();if(!z.canProceed){D(z.error||"Khng th ng k");return}const{error:M}=await r(_,E);M?(M.message.includes("already registered"),oe.error("Thng tin ng k khng hp l")):(await x(),oe.success("ng k thnh cng"),t("/"))}}finally{U(!1)}}};return s||d?u.jsx("div",{className:"min-h-screen bg-chat-bg flex items-center justify-center",children:u.jsx(vc,{className:"w-8 h-8 animate-spin text-primary"})}):o?u.jsxs("div",{className:"min-h-screen bg-chat-bg flex flex-col",children:[u.jsx("div",{className:"p-4",children:u.jsxs(ae,{variant:"ghost",size:"sm",onClick:()=>t("/"),className:"text-muted-foreground hover:text-foreground",children:[u.jsx(Nh,{className:"w-4 h-4 mr-2"}),"Quay li"]})}),u.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md text-center",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-destructive/10 flex items-center justify-center mx-auto mb-6",children:u.jsx(qg,{className:"w-10 h-10 text-destructive"})}),u.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Thit b b kha"}),u.jsx("p",{className:"text-muted-foreground mb-6",children:l?"Thit b ny  b kha vnh vin do vi phm bo mt nghim trng.":"ng nhp sai qu nhiu ln. Vui lng th li sau."}),!l&&L&&u.jsxs("div",{className:"bg-muted rounded-lg p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 text-lg font-mono",children:[u.jsx(wx,{className:"w-5 h-5"}),u.jsx("span",{children:L})]}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Thi gian cn li"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Nu bn cho rng y l nhm ln, vui lng lin h qun tr vin."})]})})]}):u.jsxs("div",{className:"min-h-screen bg-chat-bg flex flex-col",children:[u.jsx("div",{className:"p-4",children:u.jsxs(ae,{variant:"ghost",size:"sm",onClick:()=>t("/"),className:"text-muted-foreground hover:text-foreground",children:[u.jsx(Nh,{className:"w-4 h-4 mr-2"}),"Quay li"]})}),u.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"flex flex-col items-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary flex items-center justify-center mb-4",children:u.jsx(kx,{className:"w-8 h-8 text-primary-foreground"})}),u.jsx("h1",{className:"text-2xl font-bold text-foreground",children:v?"ng nhp":"ng k"}),u.jsx("p",{className:"text-muted-foreground mt-2 text-center",children:v?"ng nhp  lu lch s chat":"To ti khon  lu lch s chat"})]}),j&&u.jsxs(gS,{variant:"destructive",className:"mb-4",children:[u.jsx(qg,{className:"h-4 w-4"}),u.jsx(vS,{children:"Cnh bo bo mt"}),u.jsx(yS,{children:j})]}),u.jsxs("form",{onSubmit:T,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ft,{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(lR,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx(kt,{id:"email",type:"email",placeholder:"name@example.com",value:_,onChange:A=>S(A.target.value),className:"pl-10",disabled:P,autoComplete:"email"})]}),I.email&&u.jsx("p",{className:"text-sm text-destructive",children:I.email})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ft,{htmlFor:"password",children:"Mt khu"}),u.jsxs("div",{className:"relative",children:[u.jsx(Wg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx(kt,{id:"password",type:"password",placeholder:"",value:E,onChange:A=>C(A.target.value),className:"pl-10",disabled:P,autoComplete:v?"current-password":"new-password"})]}),I.password&&u.jsx("p",{className:"text-sm text-destructive",children:I.password})]}),!v&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(ft,{htmlFor:"confirmPassword",children:"Xc nhn mt khu"}),u.jsxs("div",{className:"relative",children:[u.jsx(Wg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx(kt,{id:"confirmPassword",type:"password",placeholder:"",value:R,onChange:A=>N(A.target.value),className:"pl-10",disabled:P,autoComplete:"new-password"})]}),I.confirmPassword&&u.jsx("p",{className:"text-sm text-destructive",children:I.confirmPassword})]}),u.jsxs(ae,{type:"submit",className:"w-full",disabled:P,children:[P?u.jsx(vc,{className:"w-4 h-4 animate-spin mr-2"}):null,v?"ng nhp":"ng k"]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{type:"button",onClick:()=>{w(!v),q({}),D(null)},className:"text-sm text-primary hover:underline",children:v?"Cha c ti khon? ng k ngay":" c ti khon? ng nhp"})}),u.jsx("div",{className:"mt-8 text-center",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:" c bo v bi h thng bo mt nng cao"})})]})})]})}function N$({currentImage:t,onImageChange:e}){const[r,n]=h.useState(!1),s=h.useRef(null),o=async a=>{var c;const l=(c=a.target.files)==null?void 0:c[0];if(l){if(!l.type.startsWith("image/")){oe.error("Ch h tr file nh");return}if(l.size>5*1024*1024){oe.error("File qu ln, ti a 5MB");return}n(!0);try{const d=l.name.split(".").pop(),p=`payment/${`qr-code-${Date.now()}.${d}`}`,{error:m}=await ie.storage.from("admin-uploads").upload(p,l,{upsert:!0});if(m)throw m;const{data:b}=ie.storage.from("admin-uploads").getPublicUrl(p);e(b.publicUrl),oe.success("Ti nh QR thnh cng!")}catch(d){console.error("Upload error:",d),oe.error("Li ti nh ln")}finally{n(!1),s.current&&(s.current.value="")}}},i=()=>{e("")};return u.jsxs("div",{className:"space-y-2",children:[u.jsx(ft,{children:"nh QR thanh ton"}),u.jsx("input",{ref:s,type:"file",accept:"image/*",onChange:o,className:"hidden"}),t?u.jsxs("div",{className:"relative inline-block",children:[u.jsx("img",{src:t,alt:"QR Code",className:"w-48 h-48 object-contain border rounded-lg bg-white"}),u.jsx("button",{onClick:i,className:"absolute -top-2 -right-2 w-6 h-6 bg-destructive text-destructive-foreground rounded-full flex items-center justify-center hover:bg-destructive/90 transition-colors",title:"Xa nh",children:u.jsx(Mr,{className:"w-3 h-3"})})]}):u.jsxs("div",{onClick:()=>{var a;return(a=s.current)==null?void 0:a.click()},className:"w-48 h-48 border-2 border-dashed border-muted-foreground/30 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-primary/50 transition-colors bg-muted/20",children:[u.jsx(bx,{className:"w-10 h-10 text-muted-foreground mb-2"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Cha c nh QR"})]}),u.jsxs(ae,{type:"button",variant:"outline",size:"sm",onClick:()=>{var a;return(a=s.current)==null?void 0:a.click()},disabled:r,className:"gap-2",children:[r?u.jsx(vc,{className:"w-4 h-4 animate-spin"}):u.jsx(Ex,{className:"w-4 h-4"}),r?"ang ti...":"Ti nh t thit b"]})]})}function j$(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var P$=[" ","Enter","ArrowUp","ArrowDown"],A$=[" ","Enter"],Fs="Select",[Ru,Nu,O$]=tu(Fs),[gi,N4]=Xt(Fs,[O$,fi]),ju=fi(),[I$,es]=gi(Fs),[D$,M$]=gi(Fs),wS=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:m,form:b}=t,g=ju(e),[x,y]=h.useState(null),[v,w]=h.useState(null),[_,S]=h.useState(!1),E=Va(c),[C,R]=Ds({prop:n,defaultProp:s??!1,onChange:o,caller:Fs}),[N,P]=Ds({prop:i,defaultProp:a,onChange:l,caller:Fs}),U=h.useRef(null),I=x?b||!!x.closest("form"):!0,[q,j]=h.useState(new Set),D=Array.from(q).map(L=>L.props.value).join(";");return u.jsx(nb,{...g,children:u.jsxs(I$,{required:m,scope:e,trigger:x,onTriggerChange:y,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Or(),value:N,onValueChange:P,open:C,onOpenChange:R,dir:E,triggerPointerDownPosRef:U,disabled:p,children:[u.jsx(Ru.Provider,{scope:e,children:u.jsx(D$,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(L=>{j(W=>new Set(W).add(L))},[]),onNativeOptionRemove:h.useCallback(L=>{j(W=>{const k=new Set(W);return k.delete(L),k})},[]),children:r})}),I?u.jsxs(VS,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:L=>P(L.target.value),disabled:p,form:b,children:[N===void 0?u.jsx("option",{value:""}):null,Array.from(q)]},D):null]})})};wS.displayName=Fs;var xS="SelectTrigger",bS=h.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=ju(r),i=es(xS,r),a=i.disabled||n,l=pe(e,i.onTriggerChange),c=Nu(r),d=h.useRef("touch"),[f,p,m]=HS(g=>{const x=c().filter(w=>!w.disabled),y=x.find(w=>w.value===i.value),v=qS(x,g,y);v!==void 0&&i.onValueChange(v.value)}),b=g=>{a||(i.onOpenChange(!0),m()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(Cp,{asChild:!0,...o,children:u.jsx(te.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":WS(i.value)?"":void 0,...s,ref:l,onClick:V(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&b(g)}),onPointerDown:V(s.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:V(s.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(x&&g.key===" ")&&P$.includes(g.key)&&(b(),g.preventDefault())})})})});bS.displayName=xS;var _S="SelectValue",SS=h.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=t,l=es(_S,r),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=pe(e,l.onValueNodeChange);return rt(()=>{c(d)},[c,d]),u.jsx(te.span,{...a,ref:f,style:{pointerEvents:"none"},children:WS(l.value)?u.jsx(u.Fragment,{children:i}):o})});SS.displayName=_S;var L$="SelectIcon",kS=h.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return u.jsx(te.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});kS.displayName=L$;var $$="SelectPortal",ES=t=>u.jsx(Fa,{asChild:!0,...t});ES.displayName=$$;var zs="SelectContent",CS=h.forwardRef((t,e)=>{const r=es(zs,t.__scopeSelect),[n,s]=h.useState();if(rt(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Ws.createPortal(u.jsx(TS,{scope:t.__scopeSelect,children:u.jsx(Ru.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(RS,{...t,ref:e})});CS.displayName=zs;var lr=10,[TS,ts]=gi(zs),U$="SelectContentImpl",F$=Is("SelectContent.RemoveScroll"),RS=h.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:b,hideWhenDetached:g,avoidCollisions:x,...y}=t,v=es(zs,r),[w,_]=h.useState(null),[S,E]=h.useState(null),C=pe(e,H=>_(H)),[R,N]=h.useState(null),[P,U]=h.useState(null),I=Nu(r),[q,j]=h.useState(!1),D=h.useRef(!1);h.useEffect(()=>{if(w)return Up(w)},[w]),$p();const L=h.useCallback(H=>{const[be,..._e]=I().map(Se=>Se.ref.current),[ve]=_e.slice(-1),ye=document.activeElement;for(const Se of H)if(Se===ye||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===be&&S&&(S.scrollTop=0),Se===ve&&S&&(S.scrollTop=S.scrollHeight),Se==null||Se.focus(),document.activeElement!==ye))return},[I,S]),W=h.useCallback(()=>L([R,w]),[L,R,w]);h.useEffect(()=>{q&&W()},[q,W]);const{onOpenChange:k,triggerPointerDownPosRef:T}=v;h.useEffect(()=>{if(w){let H={x:0,y:0};const be=ve=>{var ye,Se;H={x:Math.abs(Math.round(ve.pageX)-(((ye=T.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((Se=T.current)==null?void 0:Se.y)??0))}},_e=ve=>{H.x<=10&&H.y<=10?ve.preventDefault():w.contains(ve.target)||k(!1),document.removeEventListener("pointermove",be),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",_e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",_e,{capture:!0})}}},[w,k,T]),h.useEffect(()=>{const H=()=>k(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[k]);const[A,z]=HS(H=>{const be=I().filter(ye=>!ye.disabled),_e=be.find(ye=>ye.ref.current===document.activeElement),ve=qS(be,H,_e);ve&&setTimeout(()=>ve.ref.current.focus())}),M=h.useCallback((H,be,_e)=>{const ve=!D.current&&!_e;(v.value!==void 0&&v.value===be||ve)&&(N(H),ve&&(D.current=!0))},[v.value]),J=h.useCallback(()=>w==null?void 0:w.focus(),[w]),ee=h.useCallback((H,be,_e)=>{const ve=!D.current&&!_e;(v.value!==void 0&&v.value===be||ve)&&U(H)},[v.value]),se=n==="popper"?lf:NS,Te=se===lf?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:b,hideWhenDetached:g,avoidCollisions:x}:{};return u.jsx(TS,{scope:r,content:w,viewport:S,onViewportChange:E,itemRefCallback:M,selectedItem:R,onItemLeave:J,itemTextRefCallback:ee,focusSelectedItem:W,selectedItemText:P,position:n,isPositioned:q,searchRef:A,children:u.jsx(wu,{as:F$,allowPinchZoom:!0,children:u.jsx(gu,{asChild:!0,trapped:v.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:V(s,H=>{var be;(be=v.trigger)==null||be.focus({preventScroll:!0}),H.preventDefault()}),children:u.jsx(ci,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:u.jsx(se,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:H=>H.preventDefault(),...y,...Te,onPlaced:()=>j(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:V(y.onKeyDown,H=>{const be=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!be&&H.key.length===1&&z(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let ve=I().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(H.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const ye=H.target,Se=ve.indexOf(ye);ve=ve.slice(Se+1)}setTimeout(()=>L(ve)),H.preventDefault()}})})})})})})});RS.displayName=U$;var z$="SelectItemAlignedPosition",NS=h.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=es(zs,r),i=ts(zs,r),[a,l]=h.useState(null),[c,d]=h.useState(null),f=pe(e,C=>d(C)),p=Nu(r),m=h.useRef(!1),b=h.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:y,focusSelectedItem:v}=i,w=h.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&x&&y){const C=o.trigger.getBoundingClientRect(),R=c.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(o.dir!=="rtl"){const ye=P.left-R.left,Se=N.left-ye,lt=C.left-Se,Vt=C.width+lt,rs=Math.max(Vt,R.width),dn=window.innerWidth-lr,ns=tf(Se,[lr,Math.max(lr,dn-rs)]);a.style.minWidth=Vt+"px",a.style.left=ns+"px"}else{const ye=R.right-P.right,Se=window.innerWidth-N.right-ye,lt=window.innerWidth-C.right-Se,Vt=C.width+lt,rs=Math.max(Vt,R.width),dn=window.innerWidth-lr,ns=tf(Se,[lr,Math.max(lr,dn-rs)]);a.style.minWidth=Vt+"px",a.style.right=ns+"px"}const U=p(),I=window.innerHeight-lr*2,q=g.scrollHeight,j=window.getComputedStyle(c),D=parseInt(j.borderTopWidth,10),L=parseInt(j.paddingTop,10),W=parseInt(j.borderBottomWidth,10),k=parseInt(j.paddingBottom,10),T=D+L+q+k+W,A=Math.min(x.offsetHeight*5,T),z=window.getComputedStyle(g),M=parseInt(z.paddingTop,10),J=parseInt(z.paddingBottom,10),ee=C.top+C.height/2-lr,se=I-ee,Te=x.offsetHeight/2,H=x.offsetTop+Te,be=D+L+H,_e=T-be;if(be<=ee){const ye=U.length>0&&x===U[U.length-1].ref.current;a.style.bottom="0px";const Se=c.clientHeight-g.offsetTop-g.offsetHeight,lt=Math.max(se,Te+(ye?J:0)+Se+W),Vt=be+lt;a.style.height=Vt+"px"}else{const ye=U.length>0&&x===U[0].ref.current;a.style.top="0px";const lt=Math.max(ee,D+g.offsetTop+(ye?M:0)+Te)+_e;a.style.height=lt+"px",g.scrollTop=be-ee+g.offsetTop}a.style.margin=`${lr}px 0`,a.style.minHeight=A+"px",a.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,a,c,g,x,y,o.dir,n]);rt(()=>w(),[w]);const[_,S]=h.useState();rt(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const E=h.useCallback(C=>{C&&b.current===!0&&(w(),v==null||v(),b.current=!1)},[w,v]);return u.jsx(V$,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(te.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});NS.displayName=z$;var B$="SelectPopperPosition",lf=h.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=lr,...o}=t,i=ju(r);return u.jsx(Tp,{...i,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lf.displayName=B$;var[V$,ym]=gi(zs,{}),cf="SelectViewport",jS=h.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=ts(cf,r),i=ym(cf,r),a=pe(e,o.onViewportChange),l=h.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(Ru.Slot,{scope:r,children:u.jsx(te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:V(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const b=window.innerHeight-lr*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),y=Math.max(g,x);if(y<b){const v=y+m,w=Math.min(b,v),_=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});jS.displayName=cf;var PS="SelectGroup",[W$,H$]=gi(PS),q$=h.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Or();return u.jsx(W$,{scope:r,id:s,children:u.jsx(te.div,{role:"group","aria-labelledby":s,...n,ref:e})})});q$.displayName=PS;var AS="SelectLabel",OS=h.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=H$(AS,r);return u.jsx(te.div,{id:s.id,...n,ref:e})});OS.displayName=AS;var Lc="SelectItem",[K$,IS]=gi(Lc),DS=h.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=t,a=es(Lc,r),l=ts(Lc,r),c=a.value===n,[d,f]=h.useState(o??""),[p,m]=h.useState(!1),b=pe(e,v=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,v,n,s)}),g=Or(),x=h.useRef("touch"),y=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(K$,{scope:r,value:n,disabled:s,textId:g,isSelected:c,onItemTextChange:h.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:u.jsx(Ru.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:u.jsx(te.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:V(i.onFocus,()=>m(!0)),onBlur:V(i.onBlur,()=>m(!1)),onClick:V(i.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:V(i.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:V(i.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:V(i.onPointerMove,v=>{var w;x.current=v.pointerType,s?(w=l.onItemLeave)==null||w.call(l):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:V(i.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:V(i.onKeyDown,v=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(A$.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});DS.displayName=Lc;var $i="SelectItemText",MS=h.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,i=es($i,r),a=ts($i,r),l=IS($i,r),c=M$($i,r),[d,f]=h.useState(null),p=pe(e,y=>f(y),l.onItemTextChange,y=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,y,l.value,l.disabled)}),m=d==null?void 0:d.textContent,b=h.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return rt(()=>(g(b),()=>x(b)),[g,x,b]),u.jsxs(u.Fragment,{children:[u.jsx(te.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ws.createPortal(o.children,i.valueNode):null]})});MS.displayName=$i;var LS="SelectItemIndicator",$S=h.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return IS(LS,r).isSelected?u.jsx(te.span,{"aria-hidden":!0,...n,ref:e}):null});$S.displayName=LS;var uf="SelectScrollUpButton",US=h.forwardRef((t,e)=>{const r=ts(uf,t.__scopeSelect),n=ym(uf,t.__scopeSelect),[s,o]=h.useState(!1),i=pe(e,n.onScrollButtonChange);return rt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?u.jsx(zS,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});US.displayName=uf;var df="SelectScrollDownButton",FS=h.forwardRef((t,e)=>{const r=ts(df,t.__scopeSelect),n=ym(df,t.__scopeSelect),[s,o]=h.useState(!1),i=pe(e,n.onScrollButtonChange);return rt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?u.jsx(zS,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});FS.displayName=df;var zS=h.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=ts("SelectScrollButton",r),i=h.useRef(null),a=Nu(r),l=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>l(),[l]),rt(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(te.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:V(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:V(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:V(s.onPointerLeave,()=>{l()})})}),G$="SelectSeparator",BS=h.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return u.jsx(te.div,{"aria-hidden":!0,...n,ref:e})});BS.displayName=G$;var hf="SelectArrow",Q$=h.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=ju(r),o=es(hf,r),i=ts(hf,r);return o.open&&i.position==="popper"?u.jsx(Rp,{...s,...n,ref:e}):null});Q$.displayName=hf;var Y$="SelectBubbleInput",VS=h.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=h.useRef(null),o=pe(n,s),i=j$(e);return h.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[i,e]),u.jsx(te.select,{...r,style:{...Y0,...r.style},ref:o,defaultValue:e})});VS.displayName=Y$;function WS(t){return t===""||t===void 0}function HS(t){const e=He(t),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(i=>{const a=r.current+i;e(a),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function qS(t,e,r){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=Z$(t,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==r));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function Z$(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var J$=wS,KS=bS,X$=SS,e4=kS,t4=ES,GS=CS,r4=jS,QS=OS,YS=DS,n4=MS,s4=$S,ZS=US,JS=FS,XS=BS;const o4=J$,i4=X$,ek=h.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(KS,{ref:n,className:K("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,u.jsx(e4,{asChild:!0,children:u.jsx(fp,{className:"h-4 w-4 opacity-50"})})]}));ek.displayName=KS.displayName;const tk=h.forwardRef(({className:t,...e},r)=>u.jsx(ZS,{ref:r,className:K("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(tR,{className:"h-4 w-4"})}));tk.displayName=ZS.displayName;const rk=h.forwardRef(({className:t,...e},r)=>u.jsx(JS,{ref:r,className:K("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(fp,{className:"h-4 w-4"})}));rk.displayName=JS.displayName;const nk=h.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>u.jsx(t4,{children:u.jsxs(GS,{ref:s,className:K("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[u.jsx(tk,{}),u.jsx(r4,{className:K("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(rk,{})]})}));nk.displayName=GS.displayName;const a4=h.forwardRef(({className:t,...e},r)=>u.jsx(QS,{ref:r,className:K("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));a4.displayName=QS.displayName;const Vl=h.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(YS,{ref:n,className:K("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(s4,{children:u.jsx(Ms,{className:"h-4 w-4"})})}),u.jsx(n4,{children:e})]}));Vl.displayName=YS.displayName;const l4=h.forwardRef(({className:t,...e},r)=>u.jsx(XS,{ref:r,className:K("-mx-1 my-1 h-px bg-muted",t),...e}));l4.displayName=XS.displayName;const Br=h.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:K("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Br.displayName="Card";const Vr=h.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:K("flex flex-col space-y-1.5 p-6",t),...e}));Vr.displayName="CardHeader";const Wr=h.forwardRef(({className:t,...e},r)=>u.jsx("h3",{ref:r,className:K("text-2xl font-semibold leading-none tracking-tight",t),...e}));Wr.displayName="CardTitle";const hs=h.forwardRef(({className:t,...e},r)=>u.jsx("p",{ref:r,className:K("text-sm text-muted-foreground",t),...e}));hs.displayName="CardDescription";const Hr=h.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:K("p-6 pt-0",t),...e}));Hr.displayName="CardContent";const c4=h.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:K("flex items-center p-6 pt-0",t),...e}));c4.displayName="CardFooter";const Wl=h.forwardRef(({className:t,...e},r)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:r,className:K("w-full caption-bottom text-sm",t),...e})}));Wl.displayName="Table";const Hl=h.forwardRef(({className:t,...e},r)=>u.jsx("thead",{ref:r,className:K("[&_tr]:border-b",t),...e}));Hl.displayName="TableHeader";const ql=h.forwardRef(({className:t,...e},r)=>u.jsx("tbody",{ref:r,className:K("[&_tr:last-child]:border-0",t),...e}));ql.displayName="TableBody";const u4=h.forwardRef(({className:t,...e},r)=>u.jsx("tfoot",{ref:r,className:K("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));u4.displayName="TableFooter";const qr=h.forwardRef(({className:t,...e},r)=>u.jsx("tr",{ref:r,className:K("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));qr.displayName="TableRow";const Xe=h.forwardRef(({className:t,...e},r)=>u.jsx("th",{ref:r,className:K("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Xe.displayName="TableHead";const qe=h.forwardRef(({className:t,...e},r)=>u.jsx("td",{ref:r,className:K("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));qe.displayName="TableCell";const d4=h.forwardRef(({className:t,...e},r)=>u.jsx("caption",{ref:r,className:K("mt-4 text-sm text-muted-foreground",t),...e}));d4.displayName="TableCaption";var Pu="Tabs",[h4,j4]=Xt(Pu,[vu]),sk=vu(),[f4,wm]=h4(Pu),ok=h.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=Va(a),[f,p]=Ds({prop:n,onChange:s,defaultProp:o??"",caller:Pu});return u.jsx(f4,{scope:r,baseId:Or(),value:f,onValueChange:p,orientation:i,dir:d,activationMode:l,children:u.jsx(te.div,{dir:d,"data-orientation":i,...c,ref:e})})});ok.displayName=Pu;var ik="TabsList",ak=h.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=wm(ik,r),i=sk(r);return u.jsx(Db,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:u.jsx(te.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});ak.displayName=ik;var lk="TabsTrigger",ck=h.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,i=wm(lk,r),a=sk(r),l=hk(i.baseId,n),c=fk(i.baseId,n),d=n===i.value;return u.jsx(Mb,{asChild:!0,...a,focusable:!s,active:d,children:u.jsx(te.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:e,onMouseDown:V(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:V(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:V(t.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});ck.displayName=lk;var uk="TabsContent",dk=h.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=t,a=wm(uk,r),l=hk(a.baseId,n),c=fk(a.baseId,n),d=n===a.value,f=h.useRef(d);return h.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(_t,{present:s||d,children:({present:p})=>u.jsx(te.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});dk.displayName=uk;function hk(t,e){return`${t}-trigger-${e}`}function fk(t,e){return`${t}-content-${e}`}var p4=ok,pk=ak,mk=ck,gk=dk;const m4=p4,vk=h.forwardRef(({className:t,...e},r)=>u.jsx(pk,{ref:r,className:K("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));vk.displayName=pk.displayName;const Ui=h.forwardRef(({className:t,...e},r)=>u.jsx(mk,{ref:r,className:K("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Ui.displayName=mk.displayName;const Fi=h.forwardRef(({className:t,...e},r)=>u.jsx(gk,{ref:r,className:K("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Fi.displayName=gk.displayName;function g4(){const t=mu(),{loading:e,isAuthenticated:r}=Gs(),{isAdmin:n,loading:s}=uS(),[o,i]=h.useState("settings"),[a,l]=h.useState("10"),[c,d]=h.useState({bank_name:"",account_number:"",account_name:"",qr_image:""}),[f,p]=h.useState([]),[m,b]=h.useState([]),[g,x]=h.useState([]),[y,v]=h.useState(null),[w,_]=h.useState({name:"",description:"",price:"",questions_count:"",package_type:"one_time",duration_days:""});h.useEffect(()=>{n&&(S(),E(),C(),R())},[n]);const S=async()=>{const{data:k}=await ie.from("app_settings").select("value").eq("key","default_daily_limit").single();k&&l(String(k.value));const{data:T}=await ie.from("app_settings").select("value").eq("key","payment_info").single();T&&d(T.value)},E=async()=>{const{data:k}=await ie.from("payment_packages").select("*").order("created_at",{ascending:!1});k&&p(k)},C=async()=>{const{data:k,error:T}=await ie.from("payment_requests").select("*").order("created_at",{ascending:!1});if(T){console.error("fetchRequests error:",T),oe.error("Khng ti c yu cu thanh ton"),b([]);return}const A=k??[],z=Array.from(new Set(A.map(se=>se.user_id)));if(z.length===0){b([]);return}const{data:M,error:J}=await ie.from("profiles").select("user_id,email").in("user_id",z);if(J){console.error("fetchRequests profiles error:",J),b(A);return}const ee=new Map((M??[]).map(se=>[se.user_id,se.email??null]));b(A.map(se=>({...se,user_email:ee.get(se.user_id)??null})))},R=async()=>{const{data:k,error:T}=await ie.from("user_quotas").select("*").order("created_at",{ascending:!1});if(T){console.error("fetchUsers error:",T),oe.error("Khng ti c danh sch ngi dng"),x([]);return}const A=k??[],z=Array.from(new Set(A.map(se=>se.user_id)));if(z.length===0){x([]);return}const{data:M,error:J}=await ie.from("profiles").select("user_id,email").in("user_id",z);if(J){console.error("fetchUsers profiles error:",J),x(A);return}const ee=new Map((M??[]).map(se=>[se.user_id,se.email??null]));x(A.map(se=>({...se,user_email:ee.get(se.user_id)??null})))},N=async()=>{try{await ie.from("app_settings").update({value:parseInt(a)}).eq("key","default_daily_limit"),await ie.from("app_settings").update({value:c}).eq("key","payment_info"),oe.success(" lu ci t!")}catch{oe.error("Li lu ci t")}},P=async()=>{if(!w.name||!w.price||!w.questions_count){oe.error("Vui lng in y  thng tin");return}try{const{error:k}=await ie.from("payment_packages").insert({name:w.name,description:w.description||null,price:parseInt(w.price),questions_count:parseInt(w.questions_count),package_type:w.package_type,duration_days:w.duration_days?parseInt(w.duration_days):null});if(k)throw k;oe.success(" thm gi thanh ton!"),_({name:"",description:"",price:"",questions_count:"",package_type:"one_time",duration_days:""}),E()}catch{oe.error("Li thm gi")}},U=async k=>{try{await ie.from("payment_packages").delete().eq("id",k),oe.success(" xa gi!"),E()}catch{oe.error("Li xa gi")}},I=async k=>{try{await ie.from("payment_requests").update({status:"approved"}).eq("id",k.id),await ie.rpc("add_bonus_questions",{_user_id:k.user_id,_amount:k.questions_count}),oe.success(" duyt yu cu!"),C(),R()}catch(T){console.error(T),oe.error("Li duyt yu cu")}},q=async k=>{try{await ie.from("payment_requests").update({status:"rejected"}).eq("id",k),oe.success(" t chi yu cu!"),C()}catch{oe.error("Li t chi yu cu")}},j=async(k,T,A)=>{try{await ie.from("user_quotas").update({[T]:A}).eq("user_id",k),oe.success(" cp nht!"),R()}catch{oe.error("Li cp nht")}},D=k=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(k)),L=k=>{if(!/^https?:\/\//i.test(k))return k;const T="/storage/v1/object/public/bills/",A=k.indexOf(T);if(A!==-1)return k.substring(A+T.length);const z="/storage/v1/object/sign/bills/",M=k.indexOf(z);return M!==-1?k.substring(M+z.length).split("?")[0]:null},W=async k=>{if(!k)return;const T=L(k);if(!T){v(k);return}const{data:A,error:z}=await ie.storage.from("bills").createSignedUrl(T,60*10);if(z){console.error("openBill error:",z),oe.error("Khng ti c bill");return}v(A.signedUrl)};return e||s?u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r?n?u.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-8",children:[u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>t("/"),children:u.jsx(Nh,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-2xl font-bold",children:"Trang Admin"})]}),u.jsxs(m4,{value:o,onValueChange:i,children:[u.jsxs(vk,{className:"grid w-full grid-cols-4 mb-6",children:[u.jsxs(Ui,{value:"settings",className:"gap-2",children:[u.jsx(pR,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Ci t"})]}),u.jsxs(Ui,{value:"packages",className:"gap-2",children:[u.jsx(_x,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Gi"})]}),u.jsxs(Ui,{value:"requests",className:"gap-2",children:[u.jsx(pp,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Yu cu"})]}),u.jsxs(Ui,{value:"users",className:"gap-2",children:[u.jsx(yR,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Users"})]})]}),u.jsx(Fi,{value:"settings",children:u.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[u.jsxs(Br,{children:[u.jsxs(Vr,{children:[u.jsx(Wr,{children:"Ci t chung"}),u.jsx(hs,{children:"Gii hn cu hi mc nh cho ngi dng mi"})]}),u.jsxs(Hr,{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(ft,{children:"S cu hi/ngy mc nh"}),u.jsx(kt,{type:"number",value:a,onChange:k=>l(k.target.value)})]}),u.jsx(ae,{onClick:N,children:"Lu ci t"})]})]}),u.jsxs(Br,{children:[u.jsxs(Vr,{children:[u.jsx(Wr,{children:"Thng tin thanh ton"}),u.jsx(hs,{children:"Thng tin ngn hng hin th cho ngi dng"})]}),u.jsxs(Hr,{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(ft,{children:"Tn ngn hng"}),u.jsx(kt,{value:c.bank_name,onChange:k=>d({...c,bank_name:k.target.value})})]}),u.jsxs("div",{children:[u.jsx(ft,{children:"S ti khon"}),u.jsx(kt,{value:c.account_number,onChange:k=>d({...c,account_number:k.target.value})})]}),u.jsxs("div",{children:[u.jsx(ft,{children:"Ch ti khon"}),u.jsx(kt,{value:c.account_name,onChange:k=>d({...c,account_name:k.target.value})})]}),u.jsx(N$,{currentImage:c.qr_image,onImageChange:k=>d({...c,qr_image:k})}),u.jsx(ae,{onClick:N,children:"Lu thng tin"})]})]})]})}),u.jsxs(Fi,{value:"packages",children:[u.jsxs(Br,{className:"mb-6",children:[u.jsx(Vr,{children:u.jsx(Wr,{children:"Thm gi thanh ton mi"})}),u.jsxs(Hr,{children:[u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx(ft,{children:"Tn gi"}),u.jsx(kt,{value:w.name,onChange:k=>_({...w,name:k.target.value}),placeholder:"VD: Gi c bn"})]}),u.jsxs("div",{children:[u.jsx(ft,{children:"Gi (VND)"}),u.jsx(kt,{type:"number",value:w.price,onChange:k=>_({...w,price:k.target.value}),placeholder:"50000"})]}),u.jsxs("div",{children:[u.jsx(ft,{children:"S cu hi"}),u.jsx(kt,{type:"number",value:w.questions_count,onChange:k=>_({...w,questions_count:k.target.value}),placeholder:"100"})]}),u.jsxs("div",{children:[u.jsx(ft,{children:"Loi gi"}),u.jsxs(o4,{value:w.package_type,onValueChange:k=>_({...w,package_type:k}),children:[u.jsx(ek,{children:u.jsx(i4,{})}),u.jsxs(nk,{children:[u.jsx(Vl,{value:"one_time",children:"Mt ln"}),u.jsx(Vl,{value:"daily",children:"Theo ngy"}),u.jsx(Vl,{value:"monthly",children:"Theo thng"})]})]})]}),u.jsxs("div",{children:[u.jsx(ft,{children:"S ngy (nu c)"}),u.jsx(kt,{type:"number",value:w.duration_days,onChange:k=>_({...w,duration_days:k.target.value}),placeholder:"30"})]}),u.jsxs("div",{className:"md:col-span-3",children:[u.jsx(ft,{children:"M t"}),u.jsx(Lp,{value:w.description,onChange:k=>_({...w,description:k.target.value}),placeholder:"M t gi..."})]})]}),u.jsxs(ae,{onClick:P,className:"mt-4 gap-2",children:[u.jsx(Sx,{className:"w-4 h-4"}),"Thm gi"]})]})]}),u.jsxs(Br,{children:[u.jsx(Vr,{children:u.jsx(Wr,{children:"Danh sch gi"})}),u.jsx(Hr,{children:u.jsxs(Wl,{children:[u.jsx(Hl,{children:u.jsxs(qr,{children:[u.jsx(Xe,{children:"Tn"}),u.jsx(Xe,{children:"Gi"}),u.jsx(Xe,{children:"S cu"}),u.jsx(Xe,{children:"Loi"}),u.jsx(Xe,{})]})}),u.jsx(ql,{children:f.map(k=>u.jsxs(qr,{children:[u.jsx(qe,{className:"font-medium",children:k.name}),u.jsx(qe,{children:D(k.price)}),u.jsx(qe,{children:k.questions_count}),u.jsx(qe,{children:k.package_type}),u.jsx(qe,{children:u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>U(k.id),children:u.jsx(mp,{className:"w-4 h-4 text-destructive"})})})]},k.id))})]})})]})]}),u.jsx(Fi,{value:"requests",children:u.jsxs(Br,{children:[u.jsxs(Vr,{children:[u.jsx(Wr,{children:"Yu cu thanh ton"}),u.jsx(hs,{children:"Duyt hoc t chi yu cu"})]}),u.jsx(Hr,{children:u.jsxs(Wl,{children:[u.jsx(Hl,{children:u.jsxs(qr,{children:[u.jsx(Xe,{children:"Email"}),u.jsx(Xe,{children:"S tin"}),u.jsx(Xe,{children:"S cu"}),u.jsx(Xe,{children:"Bill"}),u.jsx(Xe,{children:"Trng thi"}),u.jsx(Xe,{children:"Ngy"}),u.jsx(Xe,{})]})}),u.jsx(ql,{children:m.length===0?u.jsx(qr,{children:u.jsx(qe,{colSpan:7,className:"text-center text-muted-foreground py-10",children:"Cha c yu cu no"})}):m.map(k=>u.jsxs(qr,{children:[u.jsx(qe,{className:"font-medium",children:k.user_email||k.user_id.slice(0,8)}),u.jsx(qe,{children:D(k.amount)}),u.jsx(qe,{children:k.questions_count}),u.jsx(qe,{children:k.bill_image_url?u.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>W(k.bill_image_url),className:"gap-1",children:[u.jsx(oR,{className:"w-4 h-4"}),"Xem bill"]}):u.jsx("span",{className:"text-muted-foreground text-xs",children:"Khng c"})}),u.jsx(qe,{children:u.jsx("span",{className:`px-2 py-1 rounded text-xs ${k.status==="pending"?"bg-warning/20 text-warning-foreground":k.status==="approved"?"bg-primary/20 text-primary":"bg-destructive/20 text-destructive"}`,children:k.status==="pending"?"Ch duyt":k.status==="approved"?" duyt":"T chi"})}),u.jsx(qe,{children:new Date(k.created_at).toLocaleDateString("vi-VN")}),u.jsx(qe,{children:k.status==="pending"&&u.jsxs("div",{className:"flex gap-1",children:[u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>I(k),title:"Duyt",children:u.jsx(Ms,{className:"w-4 h-4 text-primary"})}),u.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>q(k.id),title:"T chi",children:u.jsx(Mr,{className:"w-4 h-4 text-destructive"})})]})})]},k.id))})]})})]})}),u.jsx(Fi,{value:"users",children:u.jsxs(Br,{children:[u.jsxs(Vr,{children:[u.jsx(Wr,{children:"Qun l ngi dng"}),u.jsx(hs,{children:"iu chnh quota cho tng ngi dng"})]}),u.jsx(Hr,{children:u.jsxs(Wl,{children:[u.jsx(Hl,{children:u.jsxs(qr,{children:[u.jsx(Xe,{children:"Email"}),u.jsx(Xe,{children:" dng/Tng"}),u.jsx(Xe,{children:"Gii hn/ngy"}),u.jsx(Xe,{children:"Cu bonus"}),u.jsx(Xe,{})]})}),u.jsx(ql,{children:g.length===0?u.jsx(qr,{children:u.jsx(qe,{colSpan:5,className:"text-center text-muted-foreground py-10",children:"Cha c ngi dng"})}):g.map(k=>u.jsxs(qr,{children:[u.jsx(qe,{className:"font-medium",children:k.user_email||k.user_id.slice(0,8)}),u.jsxs(qe,{children:[u.jsx("span",{className:"font-medium text-primary",children:k.questions_used_today}),u.jsxs("span",{className:"text-muted-foreground",children:["/",k.daily_limit+k.bonus_questions]})]}),u.jsx(qe,{children:u.jsx(kt,{type:"number",className:"w-20",defaultValue:k.daily_limit,onBlur:T=>j(k.user_id,"daily_limit",parseInt(T.target.value))})}),u.jsx(qe,{children:u.jsx(kt,{type:"number",className:"w-20",defaultValue:k.bonus_questions,onBlur:T=>j(k.user_id,"bonus_questions",parseInt(T.target.value))})}),u.jsx(qe,{children:u.jsx(ae,{variant:"outline",size:"sm",onClick:()=>j(k.user_id,"questions_used_today",0),children:"Reset hm nay"})})]},k.id))})]})})]})})]})]}),y&&u.jsx(Mp,{src:y,alt:"Bill thanh ton",onClose:()=>v(null)})]}):u.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:u.jsx("div",{className:"max-w-xl mx-auto",children:u.jsxs(Br,{children:[u.jsxs(Vr,{children:[u.jsx(Wr,{children:"Khng c quyn truy cp"}),u.jsx(hs,{children:"Ti khon ca bn khng phi admin nn khng th vo trang ny."})]}),u.jsx(Hr,{children:u.jsx(ae,{className:"w-full",onClick:()=>t("/"),children:"V trang chat"})})]})})}):u.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:u.jsx("div",{className:"max-w-xl mx-auto",children:u.jsxs(Br,{children:[u.jsxs(Vr,{children:[u.jsx(Wr,{children:"Vui lng ng nhp"}),u.jsx(hs,{children:"Bn cn ng nhp  truy cp trang qun tr."})]}),u.jsxs(Hr,{className:"flex gap-3",children:[u.jsx(ae,{className:"flex-1",onClick:()=>t("/auth"),children:"ng nhp"}),u.jsx(ae,{variant:"outline",className:"flex-1",onClick:()=>t("/"),children:"V trang chat"})]})]})})})}const v4=()=>{const t=Ip();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},y4=new BP,w4=()=>u.jsx(WP,{client:y4,children:u.jsx(UA,{defaultTheme:"light",storageKey:"ai-chat-theme",children:u.jsxs(yP,{children:[u.jsx(tN,{}),u.jsx(ON,{}),u.jsx(LA,{children:u.jsxs(IA,{children:[u.jsx(Ii,{path:"/",element:u.jsx(BL,{})}),u.jsx(Ii,{path:"/auth",element:u.jsx(R$,{})}),u.jsx(Ii,{path:"/admin",element:u.jsx(g4,{})}),u.jsx(Ii,{path:"*",element:u.jsx(v4,{})})]})})]})})});W0(document.getElementById("root")).render(u.jsx(w4,{}));
